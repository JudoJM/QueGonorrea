(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4801],{49850:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/loop/create",function(){return n(73338)}])},86277:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(74817),o=n(71248);function a(){let e=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let t;let n=e.current;if(!n)return;let r=n.getContext("2d");if(!r)return;let o=0,a=0,l=[],i=["#3b82f6","#ef4444","#f97316","#22c55e","#eab308","#a855f7"],c=0,s=()=>{let e=i[c];return c=(c+1)%i.length,e},d=()=>{n.width=window.innerWidth,n.height=window.innerHeight},u=(e,t)=>{l.push({x:e,y:t,color:s(),createdAt:Date.now()})},f=()=>{r.clearRect(0,0,n.width,n.height);let e=Date.now();for(let t=l.length-1;t>=0;t--){let n;let o=l[t],a=e-o.createdAt;if(a>3e3){l.splice(t,1);continue}let i=a/3e3;n=i<.5?2*i*40:40*(2-2*i);let c=1-i;r.beginPath(),r.arc(o.x,o.y,n,0,2*Math.PI),r.strokeStyle="".concat(o.color).concat(Math.floor(255*c).toString(16).padStart(2,"0")),r.lineWidth=3,r.stroke()}t=requestAnimationFrame(f)},h=e=>{let{clientX:t,clientY:n}=e;Math.hypot(t-o,n-a)>80&&(u(t,n),o=t,a=n)};return window.addEventListener("mousemove",h),window.addEventListener("resize",d),d(),f(),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("resize",d),cancelAnimationFrame(t)}},[]),(0,r.jsx)("canvas",{ref:e,className:"pointer-events-none fixed inset-0 bg-[#FEFCF8] dark:bg-[#1f1f1f]",style:{zIndex:1}})}},73338:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return p}});var r=n(74817),o=n(36497),a=n(71248),l=n(54389),i=n.n(l),c=n(19249),s=n(36842),d=n(86277),u=n(68025),f=n(74870),h=n(82681),p=!0;t.default=()=>{let e=(0,o.useRouter)(),t=(0,s.U0)(),{t:n,lang:l}=(0,c.Z)("loop"),{desc:p,lang:m}=e.query,[x,g]=(0,a.useState)(!0),[w,v]=(0,a.useState)(),_=(0,a.useCallback)(async()=>{let r="string"==typeof p?p:"",o="string"==typeof m?m:void 0;g(!0);let a="loopCreator";if(!l)return;let i=null!=o?o:l,c="loop creator";try{(0,h.fJ)(t,"create loop",{type:c,source:a});let n=await (0,f.hP)({description:r,source:a,lang:i});(0,h.S_)(t,"create loop",{type:c,source:a,loopId:n.loop.id}),e.replace({pathname:"/loop/[id]/build",query:{id:n.loop.id}})}catch(e){(0,h.gT)(t,"create loop",{error:e,type:c,source:a},!0),g(!1),v(n("createLoopPage.error_create_loop"))}},[t,e,l,p]);return(0,a.useEffect)(()=>{_()},[_]),(0,r.jsxs)("div",{className:"flex h-screen flex-col items-center justify-center bg-[#FEFCF8] dark:bg-[#1f1f1f]",children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:n("createLoopPage.title")}),(0,r.jsx)("meta",{name:"description",content:n("createLoopPage.description")}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(u.Z,{activeMenuItem:"loops",breadcrumbs:[{label:n("common:nav.dashboard"),href:"/dashboard"},{label:n("common:menu.newLoop")}],children:[(0,r.jsx)(d.v,{}),(0,r.jsx)("div",{className:"z-10 flex h-full flex-col items-center justify-center",children:x?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,r.jsx)("h1",{className:"mt-4 text-xl font-semibold dark:text-gray-200",children:n("createLoopPage.creating_loop")}),(0,r.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:n("createLoopPage.please_wait")})]})}):w&&(0,r.jsx)("div",{className:"text-red-600 dark:text-red-400",children:(0,r.jsx)("p",{children:w})})})]})]})}}},function(e){e.O(0,[3662,9225,7182,5909,7518,3209,8362,1791,1020,7073,3603,8025,2888,9774,179],function(){return e(e.s=49850)}),_N_E=e.O()}]);