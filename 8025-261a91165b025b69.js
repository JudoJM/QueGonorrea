"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8025],{68025:function(e,t,a){a.d(t,{Z:function(){return H}});var r=a(74817),s=a(71248),n=a(37518),o=a.n(n),l=a(88735),d=a.n(l),i=a(19249),c=a(36497),h=a(80786),x=a(6334),f=a(8441),m=a(73416),u=a(816),g=a(33258),p=a(2586),b=a(16696),j=a(82627),k=a(22346),y=a(1063),N=a(68889),w=a(29811),v=a(22456),Z=a(84667),C=a(36842),z=a(51645),L=a(89970),R=function(e){return(0,r.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),(0,r.jsx)("line",{x1:"2",x2:"22",y1:"10",y2:"10"})]})},_=a(52308),V=a(81928),B=a(72317),F=a(65414),K=a(50453),A=a(53263),E=a(82898),J=a(94620),D=a(2002);let G=A.fC,M=A.xz;A.x8;let Y=A.h_,T=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(A.aV,{className:(0,D.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});T.displayName=A.aV.displayName;let W=(0,E.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),X=s.forwardRef((e,t)=>{let{side:a="right",className:s,children:n,...o}=e;return(0,r.jsxs)(Y,{children:[(0,r.jsx)(T,{}),(0,r.jsxs)(A.VY,{ref:t,className:(0,D.cn)(W({side:a}),s),...o,children:[n,(0,r.jsxs)(A.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(J.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});X.displayName=A.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(A.Dx,{ref:t,className:(0,D.cn)("text-lg font-semibold text-foreground",a),...s})}).displayName=A.Dx.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(A.dk,{ref:t,className:(0,D.cn)("text-sm text-muted-foreground",a),...s})}).displayName=A.dk.displayName;var $=a(1178),q=a(29025),O=a(5673),Q=a(82681),S=a(62849),U=a(73853);function I(e){let{className:t=""}=e;return(0,r.jsx)("div",{className:"inline-block ".concat(t),children:(0,r.jsx)("span",{className:"relative inline-block",children:(0,r.jsx)("span",{className:"py-0.25 relative inline-block transform border-[1.5px] border-black bg-yellow-400 px-1.5 text-[11px] font-bold transition-transform hover:-translate-x-0.5 hover:-translate-y-0.5 dark:bg-cyan-600",children:"NEW"})})})}let P=[{key:"apps",labelKey:"menu.apps",icon:h.Z,href:"/apps"},{key:"loops",labelKey:"menu.loops",icon:x.Z,href:"/loops"},{key:"discover",labelKey:"menu.discover",icon:f.Z,href:"/discover"},{key:"runs",labelKey:"menu.runs",icon:m.Z,href:"/runs"},{key:"blocks",labelKey:"menu.blocks",icon:u.Z,href:"/blocks"},{key:"dataTables",labelKey:"menu.dataTables",icon:g.Z,href:"/data-tables"}];function H(e){let{children:t,activeMenuItem:a,breadcrumbs:n,showHeader:l=!0,stickyHeaderMobile:h=!0,footerPadding:x=!0,containedScroll:f=!1}=e,{t:m}=(0,i.Z)("common"),{userProfile:u}=(0,q.U)(),{userUsage:g,creditBalance:A}=(0,O.$)(),{theme:E,setTheme:J}=(0,U.F)(),D=(0,c.useRouter)(),Y=(0,C.U0)(),{user:T,supabase:W}=(0,z.a)(),H=(0,L.G)(null==T?void 0:T.id),ee=(0,s.useCallback)(()=>{(0,Q.S_)(Y,"sign out"),D.push("/")},[Y,D]),et=async()=>{(0,Q.fJ)(Y,"sign out",{});let{error:e}=await W.auth.signOut();ee(),e&&(0,Q.gT)(Y,"sign out",{error:e},!1)};return(0,r.jsxs)("div",{className:"flex ".concat(f?"h-screen":"min-h-screen"," w-full flex-col bg-[#FEFCF8] dark:bg-[#1a1a1a] dark:text-white"),children:[(0,r.jsxs)("aside",{className:"fixed inset-y-0 left-0 z-[1000] hidden w-14 flex-col border-r bg-background dark:border-[#2a2a2a] dark:bg-[#1a1a1a] sm:flex",children:[(0,r.jsx)("nav",{className:"flex flex-col items-center gap-4 px-2 sm:py-5",children:(0,r.jsxs)($.pn,{delayDuration:50,children:[(0,r.jsxs)(o(),{href:"/dashboard",className:"group flex h-9 w-9 shrink-0 items-center justify-center gap-2 rounded-full text-lg font-semibold text-primary-foreground dark:text-white md:h-8 md:w-8 md:text-base",prefetch:!1,children:[(0,r.jsx)(d(),{src:"/apple-touch-icon.png",width:"28",height:"28",alt:"logo"}),(0,r.jsx)("span",{className:"sr-only",children:"Magic Loops"})]}),(0,r.jsx)("div",{className:"hidden items-center space-x-4 md:flex",children:(0,r.jsxs)("div",{className:"group relative",children:[(0,r.jsx)("div",{className:"invisible absolute left-10 mt-0 w-[160px] rounded-md bg-white opacity-0 shadow-lg ring-1 ring-black ring-opacity-5 transition-all duration-300 ease-in-out group-hover:visible group-hover:opacity-100 dark:bg-[#2a2a2a] dark:ring-[#2a2a2a]",children:(0,r.jsxs)("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:[(0,r.jsxs)(o(),{href:"/builder",className:"flex flex-row items-center justify-between px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:text-white dark:hover:bg-[#00aaff] dark:hover:text-white",role:"menuitem",children:["App Builder",(0,r.jsx)(I,{})]}),(0,r.jsx)(o(),{href:"/loop/create",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:text-white dark:hover:bg-[#00aaff] dark:hover:text-white",role:"menuitem",children:m("menu.loopCreator")}),(0,r.jsx)(o(),{href:"/loop/manual",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:text-white dark:hover:bg-[#00aaff] dark:hover:text-white",role:"menuitem",children:m("menu.manualLoop")})]})}),(0,r.jsxs)(F.z,{variant:"ghost",size:"icon",className:"group flex h-9 w-9 cursor-default items-center justify-center rounded-lg transition-colors ".concat("newLoop"===a?"bg-accent text-accent-foreground dark:bg-[#00aaff] dark:text-white":"text-muted-foreground hover:text-foreground dark:text-gray-400 dark:hover:text-white"," md:h-8 md:w-8"),children:[(0,r.jsx)(p.Z,{stroke:1}),(0,r.jsx)("span",{className:"sr-only",children:m("menu.newLoop")})]})]})}),P.filter(e=>"dataTables"!==e.key||H).map(e=>(0,r.jsxs)($.u,{children:[(0,r.jsx)($.aJ,{asChild:!0,children:(0,r.jsxs)(o(),{href:e.href,className:"flex h-9 w-9 items-center justify-center rounded-lg transition-colors ".concat(a===e.key?"bg-accent text-accent-foreground dark:bg-[#00aaff] dark:text-white":"text-muted-foreground hover:text-foreground dark:text-gray-400 dark:hover:text-white"," md:h-8 md:w-8"),prefetch:!1,children:[(0,r.jsx)(e.icon,{stroke:1}),(0,r.jsx)("span",{className:"sr-only",children:m(e.labelKey)})]})}),(0,r.jsx)($._v,{side:"right",children:m(e.labelKey)})]},e.href))]})}),(0,r.jsx)("nav",{className:"mt-auto flex flex-col items-center gap-4 px-2 sm:py-5",children:(0,r.jsxs)($.pn,{children:[(0,r.jsxs)($.u,{children:[(0,r.jsx)($.aJ,{asChild:!0,children:(0,r.jsxs)(o(),{href:"/help",className:"flex h-9 w-9 items-center justify-center rounded-lg transition-colors ".concat("additional"===a?"bg-accent text-accent-foreground dark:bg-[#00aaff] dark:text-white":"text-muted-foreground hover:text-foreground dark:text-gray-400 dark:hover:text-white"," md:h-8 md:w-8"),prefetch:!1,children:[(0,r.jsx)(b.Z,{}),(0,r.jsx)("span",{className:"sr-only",children:m("menu.help")})]})}),(0,r.jsx)($._v,{side:"right",children:m("menu.help")})]}),(0,r.jsxs)($.u,{children:[(0,r.jsx)($.aJ,{asChild:!0,children:(0,r.jsxs)(o(),{href:"/settings",className:"flex h-9 w-9 items-center justify-center rounded-lg text-muted-foreground transition-colors hover:text-foreground dark:text-gray-400 dark:hover:text-white md:h-8 md:w-8",prefetch:!1,children:[(0,r.jsx)(j.Z,{}),(0,r.jsx)("span",{className:"sr-only",children:m("menu.settings")})]})}),(0,r.jsx)($._v,{side:"right",children:m("menu.settings")})]})]})})]}),(0,r.jsxs)("div",{className:"flex min-h-screen flex-col sm:pl-14 ".concat(x?"mb-16 pb-4":""),children:[l&&(0,r.jsxs)("header",{className:"".concat(h?"sticky":""," top-0 z-10 flex h-14 items-center gap-4 border-b bg-background px-4 py-2 dark:border-[#2a2a2a] dark:bg-[#1a1a1a] sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6"),children:[(0,r.jsxs)(G,{children:[(0,r.jsx)(M,{asChild:!0,children:(0,r.jsxs)(F.z,{size:"icon",variant:"outline",className:"sm:hidden",children:[(0,r.jsx)(k.Z,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:m("menu.toggleMenu")})]})}),(0,r.jsx)(X,{side:"left",className:"dark:bg-[#2a2a2a] dark:text-white sm:max-w-xs",children:(0,r.jsxs)("nav",{className:"grid gap-6 text-lg font-medium",children:[(0,r.jsxs)(o(),{href:"/dashboard",className:"group flex h-10 w-[150px] shrink-0 items-center justify-start gap-2 rounded-full text-lg font-semibold text-primary-foreground md:text-base",prefetch:!1,children:[(0,r.jsx)(d(),{src:"/MagicLoopsLogo_Wide.png",width:"132",height:"32",alt:"logo"}),(0,r.jsx)("span",{className:"sr-only",children:"Magic Loops"})]}),(0,r.jsxs)(o(),{href:"/dashboard",prefetch:!1,className:"flex items-center gap-4 px-2.5 ".concat("dashboard"===a?"bg-accent text-accent-foreground dark:bg-[#00aaff] dark:text-white":"text-muted-foreground hover:text-foreground dark:text-gray-400 dark:hover:text-white"),children:[(0,r.jsx)(y.Z,{className:"h-5 w-5",stroke:1.5}),m("menu.dashboard")]}),(0,r.jsxs)(o(),{href:"/builder",prefetch:!1,className:"flex items-center gap-4 px-2.5 ".concat("appBuilder"===a?"bg-accent text-accent-foreground":"text-muted-foreground hover:text-foreground"),children:[(0,r.jsx)(N.Z,{className:"h-5 w-5",stroke:1.5}),"App Builder"]}),(0,r.jsxs)(o(),{href:"/loop/create",prefetch:!1,className:"flex items-center gap-4 px-2.5 ".concat("createLoop"===a?"bg-accent text-accent-foreground dark:bg-[#00aaff] dark:text-white":"text-muted-foreground hover:text-foreground dark:bg-[#1f1f1f] dark:text-gray-300 dark:hover:bg-[#2a2a2a] dark:hover:text-white"),children:[(0,r.jsx)(N.Z,{className:"h-5 w-5",stroke:1.5}),m("menu.loopCreator")]}),(0,r.jsxs)(o(),{href:"/loop/manual",prefetch:!1,className:"flex items-center gap-4 px-2.5 ".concat("manualLoop"===a?"bg-accent text-accent-foreground dark:bg-[#00aaff] dark:text-white":"text-muted-foreground hover:text-foreground dark:text-gray-400 dark:hover:text-white"),children:[(0,r.jsx)(w.Z,{className:"h-5 w-5",stroke:1.5}),m("menu.manualLoop")]}),P.filter(e=>"dataTables"!==e.key||H).map(e=>(0,r.jsxs)(o(),{href:e.href,prefetch:!1,className:"flex items-center gap-4 px-2.5 ".concat(a===e.key?"bg-accent text-accent-foreground dark:bg-[#00aaff] dark:text-white":"text-muted-foreground hover:text-foreground dark:text-gray-400 dark:hover:text-white"),children:[(0,r.jsx)(e.icon,{className:"h-5 w-5",stroke:1.5}),m(e.labelKey)]},e.href)),(0,r.jsxs)(o(),{href:"/help",prefetch:!1,className:"flex items-center gap-4 px-2.5 ".concat("additional"===a?"bg-accent text-accent-foreground dark:bg-[#00aaff] dark:text-white":"text-muted-foreground hover:text-foreground dark:text-gray-400 dark:hover:text-white"),children:[(0,r.jsx)(b.Z,{className:"h-5 w-5",stroke:2}),m("menu.help")]})]})})]}),(null==n?void 0:n.length)&&(0,r.jsx)(B.aG,{className:"hidden md:flex",children:(0,r.jsx)(B.Jb,{children:n.map((e,t)=>(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(B.gN,{children:e.href?(0,r.jsx)(B.At,{asChild:!0,className:"font-medium",children:(0,r.jsx)(o(),{prefetch:!1,href:e.href,children:e.label})}):(0,r.jsx)(B.AG,{className:"cursor-default font-medium",children:e.label})}),t<n.length-1&&(0,r.jsx)(B.bg,{})]},t))})}),(0,r.jsxs)("div",{className:"ml-auto flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(R,{className:"h-5 w-5 text-muted-foreground dark:text-gray-400"}),(0,r.jsx)(o(),{href:"/account",prefetch:!1,children:(0,r.jsxs)("span",{className:"text-sm font-medium hover:text-slate-500 dark:hover:text-white",children:[A?A.genRemaining.toLocaleString("en-us"):"..."," ",m("menu.credits")]})})]}),(0,r.jsxs)(K.h_,{children:[(0,r.jsx)(K.$F,{asChild:!0,children:(0,r.jsx)(F.z,{variant:"ghost",size:"icon",className:"overflow-hidden rounded-full",children:(0,r.jsxs)(V.qE,{className:"h-[36px] w-[36px]",children:[(0,r.jsx)(V.F$,{src:null==u?void 0:u.avatar_url}),(0,r.jsx)(V.Q5,{children:(0,S.Qm)(null==u?void 0:u.full_name,null==u?void 0:u.username)})]})})}),(0,r.jsxs)(K.AW,{align:"end",className:"dark:bg-[#2a2a2a] dark:text-white",children:[(0,r.jsx)(_.Z,{variant:"ghost"}),(0,r.jsx)(K.VD,{}),(0,r.jsx)(K.Ju,{className:"cursor-default",children:(null==u?void 0:u.username)||m("menu.myAccount")}),(0,r.jsx)(K.VD,{}),(0,r.jsx)(K.Xi,{className:"cursor-pointer hover:bg-[#00aaff] hover:text-white",onClick:()=>{J("dark"===E?"light":"dark")},children:"dark"===E?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{className:"mr-2 h-5 w-5"})," ",m("menu.lightMode")]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.Z,{className:"mr-2 h-5 w-5"})," ",m("menu.darkMode")]})}),(0,r.jsx)(K.VD,{}),(0,r.jsx)(o(),{href:"/account",prefetch:!1,children:(0,r.jsx)(K.Xi,{className:"cursor-pointer hover:bg-[#00aaff] hover:text-white",children:m("menu.account")})}),(0,r.jsx)(o(),{href:"/settings",prefetch:!1,children:(0,r.jsx)(K.Xi,{className:"cursor-pointer hover:bg-[#00aaff] hover:text-white",children:m("menu.settings")})}),(0,r.jsx)(K.VD,{}),(0,r.jsx)(K.Xi,{className:"cursor-pointer",onClick:()=>et(),children:m("menu.signOut")})]})]})]})]}),(0,r.jsx)("main",{className:"flex-1 ".concat(f?"overflow-hidden":""),children:(0,r.jsx)("div",{className:"h-full ".concat(f?"overflow-y-auto":""),children:t})})]})]})}},81928:function(e,t,a){a.d(t,{F$:function(){return d},Q5:function(){return i},qE:function(){return l}});var r=a(74817),s=a(71248),n=a(44570),o=a(2002);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.fC,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});l.displayName=n.fC.displayName;let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Ee,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",a),...s})});d.displayName=n.Ee.displayName;let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.NY,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});i.displayName=n.NY.displayName},72317:function(e,t,a){a.d(t,{AG:function(){return x},At:function(){return h},Jb:function(){return i},aG:function(){return d},bg:function(){return f},gN:function(){return c}});var r=a(74817),s=a(71248),n=a(42745),o=a(21216),l=(a(90526),a(2002));let d=s.forwardRef((e,t)=>{let{...a}=e;return(0,r.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...a})});d.displayName="Breadcrumb";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("ol",{ref:t,className:(0,l.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",a),...s})});i.displayName="BreadcrumbList";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("li",{ref:t,className:(0,l.cn)("inline-flex items-center gap-1.5",a),...s})});c.displayName="BreadcrumbItem";let h=s.forwardRef((e,t)=>{let{asChild:a,className:s,...o}=e,d=a?n.g7:"a";return(0,r.jsx)(d,{ref:t,className:(0,l.cn)("transition-colors hover:text-foreground",s),...o})});h.displayName="BreadcrumbLink";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,l.cn)("font-normal text-foreground",a),...s})});x.displayName="BreadcrumbPage";let f=e=>{let{children:t,className:a,...s}=e;return(0,r.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,l.cn)("[&>svg]:size-3.5",a),...s,children:null!=t?t:(0,r.jsx)(o.Z,{})})};f.displayName="BreadcrumbSeparator"},1178:function(e,t,a){a.d(t,{_v:function(){return c},aJ:function(){return i},pn:function(){return l},u:function(){return d}});var r=a(74817),s=a(71248),n=a(38321),o=a(2002);let l=n.zt,d=n.fC,i=n.xz,c=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,r.jsx)(n.VY,{ref:t,sideOffset:s,className:(0,o.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})});c.displayName=n.VY.displayName},89970:function(e,t,a){a.d(t,{G:function(){return s}});var r=a(62849);let s=e=>!!e&&r.c4.includes(e)}}]);