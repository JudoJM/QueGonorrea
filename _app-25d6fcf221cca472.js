(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{30242:function(e,t,r){var n={"./en/account":[61526,1526],"./en/account.json":[61526,1526],"./en/affiliate":[17930,7930],"./en/affiliate.json":[17930,7930],"./en/apps":[46807,6807],"./en/apps.json":[46807,6807],"./en/blocks":[60933,933],"./en/blocks.json":[60933,933],"./en/common":[40464,464],"./en/common.json":[40464,464],"./en/dashboard":[28632,8632],"./en/dashboard.json":[28632,8632],"./en/discover":[47425,7425],"./en/discover.json":[47425,7425],"./en/help":[14571,4571],"./en/help.json":[14571,4571],"./en/home":[12482,2482],"./en/home.json":[12482,2482],"./en/loop":[12664,2664],"./en/loop.json":[12664,2664],"./en/marketplace":[94483,4483],"./en/marketplace.json":[94483,4483],"./en/pricing":[42984,2947],"./en/pricing.json":[42984,2947],"./en/settings":[64408,4408],"./en/settings.json":[64408,4408],"./es/account":[91555,1555],"./es/account.json":[91555,1555],"./es/affiliate":[50393,393],"./es/affiliate.json":[50393,393],"./es/apps":[53481,3481],"./es/apps.json":[53481,3481],"./es/blocks":[91612,1612],"./es/blocks.json":[91612,1612],"./es/common":[10357,357],"./es/common.json":[10357,357],"./es/dashboard":[14768,4768],"./es/dashboard.json":[14768,4768],"./es/discover":[78458,8458],"./es/discover.json":[78458,8458],"./es/help":[24747,4747],"./es/help.json":[24747,4747],"./es/home":[76891,6891],"./es/home.json":[76891,6891],"./es/loop":[32591,2591],"./es/loop.json":[32591,2591],"./es/marketplace":[69096,9096],"./es/marketplace.json":[69096,9096],"./es/pricing":[84079,4079],"./es/pricing.json":[84079,4079],"./es/settings":[61987,1987],"./es/settings.json":[61987,1987],"./pt/account":[25914,5914],"./pt/account.json":[25914,5914],"./pt/affiliate":[48961,8961],"./pt/affiliate.json":[48961,8961],"./pt/apps":[1787,1787],"./pt/apps.json":[1787,1787],"./pt/blocks":[60155,155],"./pt/blocks.json":[60155,155],"./pt/common":[41400,1400],"./pt/common.json":[41400,1400],"./pt/dashboard":[95868,5868],"./pt/dashboard.json":[95868,5868],"./pt/discover":[68373,8373],"./pt/discover.json":[68373,8373],"./pt/help":[92946,2946],"./pt/help.json":[92946,2946],"./pt/home":[44766,4766],"./pt/home.json":[44766,4766],"./pt/loop":[81665,1665],"./pt/loop.json":[81665,1665],"./pt/marketplace":[74850,4850],"./pt/marketplace.json":[74850,4850],"./pt/pricing":[54971,4971],"./pt/pricing.json":[54971,4971],"./pt/settings":[52877,2877],"./pt/settings.json":[52877,2877]};function i(e){if(!r.o(n,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],i=t[0];return r.e(t[1]).then(function(){return r.t(i,19)})}i.keys=function(){return Object.keys(n)},i.id=30242,e.exports=i},94159:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(74817),i=r(71248);t.default=function({html:e,height:t=null,width:r=null,children:s,dataNtpc:o=""}){return(0,i.useEffect)(()=>{o&&performance.mark("mark_feature_usage",{detail:{feature:`next-third-parties-${o}`}})},[o]),(0,n.jsxs)(n.Fragment,{children:[s,e?(0,n.jsx)("div",{style:{height:null!=t?`${t}px`:"auto",width:null!=r?`${r}px`:"auto"},"data-ntpc":o,dangerouslySetInnerHTML:{__html:e}}):null]})}},46890:function(e,t,r){"use strict";let n;var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendGAEvent=t.GoogleAnalytics=void 0;let s=r(74817),o=r(71248),a=i(r(71087));t.GoogleAnalytics=function(e){let{gaId:t,dataLayerName:r="dataLayer"}=e;return void 0===n&&(n=r),(0,o.useEffect)(()=>{performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-ga"}})},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.default,{id:"_next-ga-init",dangerouslySetInnerHTML:{__html:`
          window['${r}'] = window['${r}'] || [];
          function gtag(){window['${r}'].push(arguments);}
          gtag('js', new Date());

          gtag('config', '${t}');`}}),(0,s.jsx)(a.default,{id:"_next-ga",src:`https://www.googletagmanager.com/gtag/js?id=${t}`})]})},t.sendGAEvent=function(...e){if(void 0===n){console.warn("@next/third-parties: GA has not been initialized");return}window[n]?window[n].push(arguments):console.warn(`@next/third-parties: GA dataLayer ${n} does not exist`)}},13048:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=r(74817),s=r(12375),o=n(r(94159));t.default=function(e){let{apiKey:t,...r}=e,n={...r,key:t},{html:a}=(0,s.GoogleMapsEmbed)(n);return(0,i.jsx)(o.default,{height:n.height||null,width:n.width||null,html:a,dataNtpc:"GoogleMapsEmbed"})}},29794:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendGTMEvent=t.GoogleTagManager=void 0;let i=r(74817),s=r(71248),o=n(r(71087)),a="dataLayer";t.GoogleTagManager=function(e){let{gtmId:t,dataLayerName:r="dataLayer",auth:n,preview:l,dataLayer:u}=e;a=r;let c="dataLayer"!==r?`&l=${r}`:"",d=n?`&gtm_auth=${n}`:"",h=l?`&gtm_preview=${l}&gtm_cookies_win=x`:"";return(0,s.useEffect)(()=>{performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-gtm"}})},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.default,{id:"_next-gtm-init",dangerouslySetInnerHTML:{__html:`
      (function(w,l){
        w[l]=w[l]||[];
        w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
        ${u?`w[l].push(${JSON.stringify(u)})`:""}
      })(window,'${r}');`}}),(0,i.jsx)(o.default,{id:"_next-gtm","data-ntpc":"GTM",src:`https://www.googletagmanager.com/gtm.js?id=${t}${c}${d}${h}`})]})},t.sendGTMEvent=(e,t)=>{let r=t||a;window[r]=window[r]||[],window[r].push(e)}},36906:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendGAEvent=t.GoogleAnalytics=t.sendGTMEvent=t.GoogleTagManager=t.YouTubeEmbed=t.GoogleMapsEmbed=void 0;var i=r(13048);Object.defineProperty(t,"GoogleMapsEmbed",{enumerable:!0,get:function(){return n(i).default}});var s=r(77714);Object.defineProperty(t,"YouTubeEmbed",{enumerable:!0,get:function(){return n(s).default}});var o=r(29794);Object.defineProperty(t,"GoogleTagManager",{enumerable:!0,get:function(){return o.GoogleTagManager}}),Object.defineProperty(t,"sendGTMEvent",{enumerable:!0,get:function(){return o.sendGTMEvent}});var a=r(46890);Object.defineProperty(t,"GoogleAnalytics",{enumerable:!0,get:function(){return a.GoogleAnalytics}}),Object.defineProperty(t,"sendGAEvent",{enumerable:!0,get:function(){return a.sendGAEvent}})},77714:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=r(74817),s=n(r(71087)),o=r(12375),a=n(r(94159)),l={server:"beforeInteractive",client:"afterInteractive",idle:"lazyOnload",worker:"worker"};t.default=function(e){let{html:t,scripts:r,stylesheets:n}=(0,o.YouTubeEmbed)(e);return(0,i.jsx)(a.default,{height:e.height||null,width:e.width||null,html:t,dataNtpc:"YouTubeEmbed",children:null==r?void 0:r.map(e=>(0,i.jsx)(s.default,{src:e.url,strategy:l[e.strategy],stylesheets:n},e.url))})}},37833:function(e,t,r){"use strict";r.r(t),r.d(t,{Headers:function(){return s},Request:function(){return o},Response:function(){return a},fetch:function(){return i}});var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("unable to locate global object")}();let i=n.fetch;t.default=n.fetch.bind(n);let s=n.Headers,o=n.Request,a=n.Response},14272:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(37833)),s=n(r(16406));class o{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n;let i=null,o=null,a=null,l=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){let t=await e.text();""===t||(o="text/csv"===this.headers.Accept?t:this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}let n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),s=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&s&&s.length>1&&(a=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,a=null,l=406,u="Not Acceptable"):o=1===o.length?o[0]:null)}else{let t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(o=[],i=null,l=200,u="OK")}catch(r){404===e.status&&""===t?(l=204,u="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(n=null==i?void 0:i.details)||void 0===n?void 0:n.includes("0 rows"))&&(i=null,l=200,u="OK"),i&&this.shouldThrowOnError)throw new s.default(i)}return{error:i,data:o,count:a,status:l,statusText:u}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null==e?void 0:e.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}t.default=o},58112:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(87028)),s=n(r(76880)),o=r(37710);class a{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){let t=new URL(`${this.url}/${e}`);return new i.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:i}={}){let o,a;let l=new URL(`${this.url}/rpc/${e}`);r||n?(o=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(o="POST",a=t);let u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new s.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}t.default=a},16406:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},76880:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(20947));class s extends i.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";"plain"===n?i="pl":"phrase"===n?i="ph":"websearch"===n&&(i="w");let s=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}t.default=s},87028:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(76880));class s{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=t,this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){let n=!1,s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new i.default({method:t?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){let n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){let o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}t.default=s},20947:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(14272));class s extends i.default{select(e){let t=!1,r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){let s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){let i=void 0===n?"offset":`${n}.offset`,s=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var o;let a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=s},37710:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;let n=r(5310);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`}},30126:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;let i=n(r(58112));t.PostgrestClient=i.default;let s=n(r(87028));t.PostgrestQueryBuilder=s.default;let o=n(r(76880));t.PostgrestFilterBuilder=o.default;let a=n(r(20947));t.PostgrestTransformBuilder=a.default;let l=n(r(14272));t.PostgrestBuilder=l.default;let u=n(r(16406));t.PostgrestError=u.default,t.default={PostgrestClient:i.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default}},5310:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},20284:function(e,t){"use strict";t.Qc=function(e,t){let r=new a,n=e.length;if(n<2)return r;let i=t?.decode||c,s=0;do{let t=e.indexOf("=",s);if(-1===t)break;let o=e.indexOf(";",s),a=-1===o?n:o;if(t>a){s=e.lastIndexOf(";",t-1)+1;continue}let c=l(e,s,t),d=u(e,t,c),h=e.slice(c,d);if(void 0===r[h]){let n=l(e,t+1,a),s=u(e,a,n),o=i(e.slice(n,s));r[h]=o}s=a+1}while(s<n);return r},t.qC=function(e,t,a){let l=a?.encode||encodeURIComponent;if(!r.test(e))throw TypeError(`argument name is invalid: ${e}`);let u=l(t);if(!n.test(u))throw TypeError(`argument val is invalid: ${t}`);let c=e+"="+u;if(!a)return c;if(void 0!==a.maxAge){if(!Number.isInteger(a.maxAge))throw TypeError(`option maxAge is invalid: ${a.maxAge}`);c+="; Max-Age="+a.maxAge}if(a.domain){if(!i.test(a.domain))throw TypeError(`option domain is invalid: ${a.domain}`);c+="; Domain="+a.domain}if(a.path){if(!s.test(a.path))throw TypeError(`option path is invalid: ${a.path}`);c+="; Path="+a.path}if(a.expires){var d;if(d=a.expires,"[object Date]"!==o.call(d)||!Number.isFinite(a.expires.valueOf()))throw TypeError(`option expires is invalid: ${a.expires}`);c+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(c+="; HttpOnly"),a.secure&&(c+="; Secure"),a.partitioned&&(c+="; Partitioned"),a.priority)switch("string"==typeof a.priority?a.priority.toLowerCase():void 0){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${a.priority}`)}if(a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${a.sameSite}`)}return c};let r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{let e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,r){do{let r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r);return r}function u(e,t,r){for(;t>r;){let r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function c(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},79653:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,s=l(e),o=s[0],a=s[1],u=new i((o+a)*3/4-a),c=0,d=a>0?o-4:o;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=0,a=n-i;o<a;o+=16383)s.push(function(e,t,n){for(var i,s=[],o=t;o<n;o+=3)s.push(r[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}(e,o,o+16383>a?a:o+16383));return 1===i?s.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&s.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},47589:function(e,t){"use strict";function r(e){if(void 0!==e){if(null===e)return null;if(""===e)return"";e=e.replace(/\\+$/,e=>e.length%2==0?e:e.slice(0,-1));try{return JSON.parse(e)}catch(s){let[t,i]=":"===e.trimLeft()[0]?n(e,s):n(e,s,h);if(r.lastParseReminding=i,r.onExtraToken&&i.length>0){let n=i.trimRight();r.lastParseReminding=n,n.length>0&&r.onExtraToken(e,t,n)}return t}}}function n(e,t,r){let n=i[e[0]]||r;if(!n)throw console.error(`no parser registered for ${JSON.stringify(e[0])}:`,{s:e}),t;return n(e,t)}t.Q=void 0,t.Q=r,(r=t.Q||(t.Q={})).onExtraToken=(e,t,r)=>{console.error("parsed json with extra tokens:",{text:e,data:t,reminding:r})};let i={};function s(e){return e.trimLeft()}function o(e,t){return n(e=s(e),t)}for(let e of(i[" "]=o,i["\r"]=o,i["\n"]=o,i["	"]=o,i["["]=function(e,t){e=e.substr(1);let r=[];for(e=s(e);e.length>0;){if("]"===e[0]){e=e.substr(1);break}let i=n(e,t,(e,t)=>h(e,t,[",","]"]));r.push(i[0]),","===(e=s(e=i[1]))[0]&&(e=s(e=e.substring(1)))}return[r,e]},"0123456789.-".slice()))i[e]=a;function a(e){for(let t=0;t<e.length;t++){if(i[e[t]]===a)continue;let r=e.substring(0,t);return e=e.substring(t),[l(r),e]}return[l(e),""]}function l(e){if("-"===e)return -0;let t=+e;return Number.isNaN(t)?e:t}function u(e){for(let t=1;t<e.length;t++){let r=e[t];if("\\"===r){t++;continue}if('"'===r){let r=c(e.substring(0,t+1));return e=e.substring(t+1),[JSON.parse(r),e]}}return[JSON.parse(c(e)+'"'),""]}function c(e){return e.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}function d(e){for(let t=1;t<e.length;t++){let r=e[t];if("\\"===r){t++;continue}if("'"===r){let r=c(e.substring(0,t+1));return e=e.substring(t+1),[JSON.parse('"'+r.slice(1,-1)+'"'),e]}}return[JSON.parse('"'+c(e.slice(1))+'"'),""]}function h(e,t,r=[" "]){let n=Math.min(...r.map(t=>{let r=e.indexOf(t);return -1===r?e.length:r}));return[e.substring(0,n).trim(),e.substring(n)]}function f(e,t,r,n){for(let n=t.length;n>=1;n--)if(e.startsWith(t.slice(0,n)))return[r,e.slice(n)];{let r=JSON.stringify(e.slice(0,t.length));throw console.error(`unknown token starting with ${r}:`,{s:e}),n}}i['"']=u,i["'"]=d,i["{"]=function(e,t){e=e.substr(1);let r={};for(e=s(e);e.length>0;){var i,o;if("}"===e[0]){e=e.substr(1);break}let a=(o=[":","}"],'"'===(i=e)[0]?u(i):"'"===i[0]?d(i):h(i,t,o)),l=a[0];if(":"!==(e=s(e=a[1]))[0]||0===(e=s(e=e.substr(1))).length){r[l]=void 0;break}let c=n(e,t);r[l]=c[0],","===(e=s(e=c[1]))[0]&&(e=s(e=e.substr(1)))}return[r,e]},i.t=function(e,t){return f(e,"true",!0,t)},i.f=function(e,t){return f(e,"false",!1,t)},i.n=function(e,t){return f(e,"null",null,t)}},52707:function(e,t,r){"use strict";var n=r(79653),i=r(93550),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|p(e,t),n=o(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(O(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(O(e,ArrayBuffer)||e&&O(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(O(e,SharedArrayBuffer)||e&&O(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var i=function(e){if(a.isBuffer(e)){var t,r=0|f(e.length),n=o(r);return 0===n.length||e.copy(n,0,0,r),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?o(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),o(e<0?0:0|f(e))}function d(e){for(var t=e.length<0?0:0|f(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function f(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||O(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return T(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return C(e).length;default:if(i)return n?-1:T(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){var i,s,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=R[e[s]];return i}(this,t,r);case"utf8":case"utf-8":return y(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=t,s=r,0===i&&s===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(i,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}(this,t,r);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){var s;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(s=r=+r)!=s&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function _(e,t,r,n,i){var s,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,a/=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(s=r;s<a;s++)if(u(e,s)===u(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else -1!==c&&(s-=s-c),c=-1}else for(r+l>a&&(r=a-l),s=r;s>=0;s--){for(var d=!0,h=0;h<l;h++)if(u(e,s+h)!==u(t,h)){d=!1;break}if(d)return s}return -1}function y(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,l,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=r)switch(d){case 1:u<128&&(c=u);break;case 2:(192&(s=e[i+1]))==128&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:s=e[i+1],o=e[i+2],(192&s)==128&&(192&o)==128&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function w(e,t,r,n,i,s){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function S(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function k(e,t,r,n,s){return t=+t,r>>>=0,s||S(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function E(e,t,r,n,s){return t=+t,r>>>=0,s||S(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.lW=a,t.h2=50,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(u(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(O(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),O(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(O(s,Uint8Array))i+s.length>n.length?a.from(s).copy(n,i):Uint8Array.prototype.set.call(n,s,i);else if(a.isBuffer(s))s.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=s.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(O(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var s=i-n,o=r-t,l=Math.min(s,o),u=this.slice(n,i),c=e.slice(t,r),d=0;d<l;++d)if(u[d]!==c[d]){s=u[d],o=c[d];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,s,o,a,l,u,c,d,h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var f=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(a!=a)break;e[r+o]=a}return o}(this,e,t,r);case"utf8":case"utf-8":return i=t,s=r,I(T(e,this.length-i),this,i,s);case"ascii":case"latin1":case"binary":return o=t,a=r,I(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,o,a);case"base64":return l=t,u=r,I(C(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,d=r,I(function(e,t){for(var r,n,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,this.length-c),this,c,d);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},a.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var s=1,o=0;for(this[t]=255&e;++o<r&&(s*=256);)this[t+o]=e/s&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var s=r-1,o=1;for(this[t+s]=255&e;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return E(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return E(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,s=e.charCodeAt(0);("utf8"===n&&s<128||"latin1"===n)&&(e=s)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=a.isBuffer(e)?e:a.from(e,n),l=o.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%l]}return this};var x=/[^+/0-9A-Za-z-_]/g;function T(e,t){t=t||1/0;for(var r,n=e.length,i=null,s=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function C(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(x,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function I(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function O(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var R=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},93550:function(e,t){t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,l=(1<<a)-1,u=l>>1,c=-7,d=r?i-1:0,h=r?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+e[t+d],d+=h,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+e[t+d],d+=h,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,l,u=8*s-i-1,c=(1<<u)-1,d=c>>1,h=23===i?5960464477539062e-23:0,f=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=c?(a=0,o=c):o+d>=1?(a=(t*l-1)*Math.pow(2,i),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+f]=255&o,f+=p,o/=256,u-=8);e[r+f-p]|=128*g}},49120:function(e,t,r){"use strict";var n,i=r(71248);"function"==typeof i.createContext&&(n=(0,i.createContext)({t:function(e){return Array.isArray(e)?e[0]:e},lang:""})),t.Z=n},77376:function(e,t,r){"use strict";function n(){return("undefined"==typeof window?r.g:window).i18nConfig}r.d(t,{Z:function(){return n}})},3008:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e){var t=e.config,r=e.allNamespaces,i=e.pluralRules,l=e.lang,u=t.logger,c=void 0===u?a:u,d=t.allowEmptyStrings,h=void 0===d||d,f=function(e,r){return Array.isArray(e)?e.map(function(e){return f(e,r)}):e instanceof Object?function e(t){var r=t.obj,n=t.query,i=t.config,s=t.lang;return n&&0!==Object.keys(n).length&&Object.keys(r).forEach(function(t){r[t]instanceof Object&&e({obj:r[t],query:n,config:i,lang:s}),"string"==typeof r[t]&&(r[t]=o({text:r[t],query:n,config:i,lang:s}))}),r}({obj:e,query:r,config:t,lang:l}):o({text:e,query:r,config:t,lang:l})},p=function(e,o,a){void 0===e&&(e="");var l,u=Array.isArray(e)?e[0]:e,d=t.nsSeparator,g=t.loggerEnvironment,m=void 0===g?"browser":g,v=function(e,t){if(!t)return{i18nKey:e};var r=e.indexOf(t);return r<0?{i18nKey:e}:{namespace:e.slice(0,r),i18nKey:e.slice(r+t.length)}}(u,void 0===d?":":d),_=v.i18nKey,y=v.namespace,b=void 0===y?null!==(l=null==a?void 0:a.ns)&&void 0!==l?l:t.defaultNS:y,w=b&&r[b]||{},S=function(e,t,r,n,i){if(!i||"number"!=typeof i.count)return r;var o="".concat(r,"_").concat(i.count);if(void 0!==s(t,o,n))return o;var a="".concat(r,"_").concat(e.select(i.count));if(void 0!==s(t,a,n))return a;var l="".concat(r,".").concat(i.count);if(void 0!==s(t,l,n))return l;var u="".concat(r,".").concat(e.select(i.count));return void 0!==s(t,u,n)?u:r}(i,w,_,t,o),k=s(w,S,t,a),E="object"==typeof k?JSON.parse(JSON.stringify(k)):k,x=void 0===E||"object"==typeof E&&!Object.keys(E).length||""===E&&!h,T="string"==typeof(null==a?void 0:a.fallback)?[a.fallback]:(null==a?void 0:a.fallback)||[];if(x&&("both"===m||m===("undefined"==typeof window?"node":"browser"))&&c({namespace:b,i18nKey:_}),x&&Array.isArray(T)&&T.length){var C=T[0],I=T.slice(1);if("string"==typeof C)return p(C,o,n(n({},a),{fallback:I}))}return x&&a&&a.hasOwnProperty("default")&&!(null==T?void 0:T.length)?a.default?f(a.default,o):a.default:x?u:f(E,o)};return p}function s(e,t,r,n){void 0===t&&(t=""),void 0===n&&(n={returnObjects:!1});var i=(r||{}).keySeparator,s=void 0===i?".":i,o=s?t.split(s):[t];if(t===s&&n.returnObjects)return e;var a=o.reduce(function(e,t){if("string"==typeof e)return{};var r=e[t];return r||("string"==typeof r?r:{})},e);if("string"==typeof a||a instanceof Object&&n.returnObjects)return a}function o(e){var t=e.text,r=e.query,n=e.config,i=e.lang;if(!t||!r)return t||"";var s=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},o=n.interpolation||{},a=o.format,l=void 0===a?null:a,u=o.prefix,c=void 0===u?"{{":u,d=o.suffix,h=void 0===d?"}}":d,f=""===h?"":"(?:[\\s,]+([\\w-]*))?\\s*".concat(s(h));return Object.keys(r).reduce(function(e,t){var n=RegExp("".concat(s(c),"\\s*").concat(t).concat(f),"gm");return e.replace(n,function(e,n){return n&&l?l(r[t],n,i):r[t]})},t)}function a(e){e.namespace,e.i18nKey}},19249:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(71248),i=r(22081),s=r(49120),o=r(3008),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(e){var t=globalThis.__NEXT_TRANSLATE__;return((null==t?void 0:t.config)?function(e){var t,r=null!==(t=globalThis.__NEXT_TRANSLATE__)&&void 0!==t?t:{},n=r.lang,s=r.namespaces,a=r.config,l=a.localesToIgnore||["default"],u=!n||l.includes(n),c=(0,o.Z)({config:a,allNamespaces:s,pluralRules:new Intl.PluralRules(u?void 0:n),lang:n});return{t:(0,i.Z)(c,e),lang:n}}:function(e){var t=(0,n.useContext)(s.Z);return(0,n.useMemo)(function(){return a(a({},t),{t:(0,i.Z)(t.t,e)})},[t,e])})(e)}},22081:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){return"string"!=typeof t?e:function(r,i,s){return e(r,i,n({ns:t},s))}}},71390:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(28587)},28587:function(e){!function(){var t={229:function(e){var t,r,n,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l=[],u=!1,c=-1;function d(){u&&n&&(u=!1,n.length?l=n.concat(l):c=-1,l.length&&h())}function h(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(n=l,l=[];++c<t;)n&&n[c].run();c=-1,t=l.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}},o=!0;try{t[e](s,s.exports,n),o=!1}finally{o&&delete r[e]}return s.exports}n.ab="//";var i=n(229);e.exports=i}()},36497:function(e,t,r){e.exports=r(23874)},71087:function(e,t,r){e.exports=r(81413)},31488:function(e,t,r){"use strict";let n,i;r.d(t,{ZP:function(){return sz}});var s,o="undefined"!=typeof window?window:void 0,a="undefined"!=typeof globalThis?globalThis:o,l=Array.prototype,u=l.forEach,c=l.indexOf,d=null==a?void 0:a.navigator,h=null==a?void 0:a.document,f=null==a?void 0:a.location,p=null==a?void 0:a.fetch,g=null!=a&&a.XMLHttpRequest&&"withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:void 0,m=null==a?void 0:a.AbortController,v=null==d?void 0:d.userAgent,_=null!=o?o:{},y={DEBUG:!1,LIB_VERSION:"1.242.2"},b="$copy_autocapture",w=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];(tb=s||(s={})).GZipJS="gzip-js",tb.Base64="base64";var S=["fatal","error","warning","log","info","debug"];function k(e,t){return -1!==e.indexOf(t)}var E=function(e){return e.trim()},x=function(e){return e.replace(/^\$/,"")},T=Array.isArray,C=Object.prototype,I=C.hasOwnProperty,O=C.toString,R=T||function(e){return"[object Array]"===O.call(e)},A=e=>"function"==typeof e,P=e=>e===Object(e)&&!R(e),M=e=>{if(P(e)){for(var t in e)if(I.call(e,t))return!1;return!0}return!1},L=e=>void 0===e,$=e=>"[object String]"==O.call(e),N=e=>$(e)&&0===e.trim().length,j=e=>null===e,D=e=>L(e)||j(e),F=e=>"[object Number]"==O.call(e),U=e=>"[object Boolean]"===O.call(e),B=e=>e instanceof FormData,W=e=>k(w,e),H=e=>{var t={t:function(t){if(o&&(y.DEBUG||_.POSTHOG_DEBUG)&&!L(o.console)&&o.console){for(var r=("__rrweb_original__"in o.console[t])?o.console[t].__rrweb_original__:o.console[t],n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];r(e,...i)}},info:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];t.t("log",...r)},warn:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];t.t("warn",...r)},error:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];t.t("error",...r)},critical:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];console.error(e,...r)},uninitializedWarning:e=>{t.error("You must initialize PostHog before calling "+e)},createLogger:t=>H(e+" "+t)};return t},q=H("[PostHog.js]"),z=q.createLogger,G=z("[ExternalScriptsLoader]"),J=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return G.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=null==h?void 0:h.querySelectorAll("script");if(n){for(var i=0;i<n.length;i++)if(n[i].src===t)return r()}var s=()=>{if(!h)return r("document not found");var n=h.createElement("script");if(n.type="text/javascript",n.crossOrigin="anonymous",n.src=t,n.onload=e=>r(void 0,e),n.onerror=e=>r(e),e.config.prepare_external_dependency_script&&(n=e.config.prepare_external_dependency_script(n)),!n)return r("prepare_external_dependency_script returned null");var i,s=h.querySelectorAll("body > script");s.length>0?null==(i=s[0].parentNode)||i.insertBefore(n,s[0]):h.body.appendChild(n)};null!=h&&h.body?s():null==h||h.addEventListener("DOMContentLoaded",s)};function X(){return(X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}_.__PosthogExtensions__=_.__PosthogExtensions__||{},_.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;"remote-config"===t&&(n="/array/"+e.config.token+"/config.js"),"toolbar"===t&&(n=n+"&t="+3e5*Math.floor(Date.now()/3e5));var i=e.requestRouter.endpointFor("assets",n);J(e,i,r)},_.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);J(e,n,r)};var K={};function Y(e,t,r){if(R(e)){if(u&&e.forEach===u)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n)===K)return}}}function Z(e,t,r){if(!D(e)){if(R(e))return Y(e,t,r);if(B(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===K)return}else for(var i in e)if(I.call(e,i)&&t.call(r,e[i],i)===K)return}}var Q=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Y(r,function(t){for(var r in t)void 0!==t[r]&&(e[r]=t[r])}),e},ee=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Y(r,function(t){Y(t,function(t){e.push(t)})}),e};function et(e){for(var t=Object.keys(e),r=t.length,n=Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var er=function(e){try{return e()}catch(e){return}},en=function(e){return function(){try{for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(e){q.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),q.critical(e)}}},ei=function(e){var t={};return Z(e,function(e,r){($(e)&&e.length>0||F(e))&&(t[r]=e)}),t},es=["herokuapp.com","vercel.app","netlify.app"];function eo(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function ea(e,t,r,n){var{capture:i=!1,passive:s=!0}=null!=n?n:{};null==e||e.addEventListener(t,r,{capture:i,passive:s})}var el="$people_distinct_id",eu="__alias",ec="__timers",ed="$autocapture_disabled_server_side",eh="$heatmaps_enabled_server_side",ef="$exception_capture_enabled_server_side",ep="$web_vitals_enabled_server_side",eg="$dead_clicks_enabled_server_side",em="$web_vitals_allowed_metrics",ev="$session_recording_enabled_server_side",e_="$console_log_recording_enabled_server_side",ey="$session_recording_network_payload_capture",eb="$session_recording_masking",ew="$session_recording_canvas_recording",eS="$replay_sample_rate",ek="$replay_minimum_duration",eE="$replay_script_config",ex="$sesid",eT="$session_is_sampled",eC="$session_recording_url_trigger_activated_session",eI="$session_recording_event_trigger_activated_session",eO="$enabled_feature_flags",eR="$early_access_features",eA="$feature_flag_details",eP="$stored_person_properties",eM="$stored_group_properties",eL="$surveys",e$="$surveys_activated",eN="$flag_call_reported",ej="$user_state",eD="$client_session_props",eF="$capture_rate_limit",eU="$initial_campaign_params",eB="$initial_referrer_info",eW="$initial_person_info",eH="$epp",eq="__POSTHOG_TOOLBAR__",ez="$posthog_cookieless",eG=[el,eu,"__cmpns",ec,ev,eh,ex,eO,ej,eR,eA,eM,eP,eL,eN,eD,eF,eU,eB,eH,eW];function eJ(e){return e instanceof Element&&(e.id===eq||!(null==e.closest||!e.closest(".toolbar-global-fade-container")))}function eX(e){return!!e&&1===e.nodeType}function eV(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function eK(e){return!!e&&3===e.nodeType}function eY(e){return!!e&&11===e.nodeType}function eZ(e){return e?E(e).split(/\s+/):[]}function eQ(e){var t=null==o?void 0:o.location.href;return!!(t&&e&&e.some(e=>t.match(e)))}function e0(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return eZ(t)}function e1(e){return D(e)?null:E(e).split(/(\s+)/).filter(e=>ti(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function e2(e){var t="";return e8(e)&&!e6(e)&&e.childNodes&&e.childNodes.length&&Z(e.childNodes,function(e){var r;eK(e)&&e.textContent&&(t+=null!==(r=e1(e.textContent))&&void 0!==r?r:"")}),E(t)}function e3(e){var t;return L(e.target)?e.srcElement||null:null!=(t=e.target)&&t.shadowRoot?e.composedPath()[0]||null:e.target||null}var e4=["a","button","form","input","select","textarea","label"];function e5(e){var t=e.parentNode;return!(!t||!eX(t))&&t}function e8(e){for(var t=e;t.parentNode&&!eV(t,"body");t=t.parentNode){var r=e0(t);if(k(r,"ph-sensitive")||k(r,"ph-no-capture"))return!1}if(k(e0(e),"ph-include"))return!0;var n=e.type||"";if($(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!($(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function e6(e){return!!(eV(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||eV(e,"select")||eV(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var e9="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",e7=RegExp("^(?:"+e9+")$"),te=new RegExp(e9),tt="\\d{3}-?\\d{2}-?\\d{4}",tr=RegExp("^("+tt+")$"),tn=RegExp("("+tt+")");function ti(e,t){return void 0===t&&(t=!0),!(D(e)||$(e)&&(e=E(e),(t?e7:te).test((e||"").replace(/[- ]/g,""))||(t?tr:tn).test(e)))}function ts(e){var t=e2(e);return ti(t=(t+" "+function e(t){var r="";return t&&t.childNodes&&t.childNodes.length&&Z(t.childNodes,function(t){var n;if(t&&"span"===(null==(n=t.tagName)?void 0:n.toLowerCase()))try{var i=e2(t);r=(r+" "+i).trim(),t.childNodes&&t.childNodes.length&&(r=(r+" "+e(t)).trim())}catch(e){q.error("[AutoCapture]",e)}}),r}(e)).trim())?t:""}function to(e){return e.replace(/"|\\"/g,'\\"')}class ta{constructor(){this.clicks=[]}isRageClick(e,t,r){var n=this.clicks[this.clicks.length-1];if(n&&Math.abs(e-n.x)+Math.abs(t-n.y)<30&&r-n.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:r}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:r}];return!1}}var tl=["localhost","127.0.0.1"],tu=e=>{var t=null==h?void 0:h.createElement("a");return L(t)?null:(t.href=e,t)},tc=function(e,t){void 0===t&&(t="&");var r,n,i=[];return Z(e,function(e,t){L(e)||L(t)||"undefined"===t||(r=encodeURIComponent(e instanceof File?e.name:e.toString()),n=encodeURIComponent(t),i[i.length]=n+"="+r)}),i.join(t)},td=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<n.length;i++){var s=n[i].split("=");if(s[0]===t){r=s;break}}if(!R(r)||r.length<2)return"";var o=r[1];try{o=decodeURIComponent(o)}catch(e){q.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},th=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),i=n[0]||"",s=n[1],o=i.split("?"),a=o[1],l=o[0],u=(a||"").split("&"),c=[],d=0;d<u.length;d++){var h=u[d].split("=");R(h)&&(t.includes(h[0])?c.push(h[0]+"="+r):c.push(u[d]))}var f=l;return null!=a&&(f+="?"+c.join("&")),null!=s&&(f+="#"+s),f},tf=function(e,t){var r=e.match(RegExp(t+"=([^&]*)"));return r?r[1]:null},tp=z("[AutoCapture]");function tg(e,t){return t.length>e?t.slice(0,e)+"...":t}class tm{constructor(e){this.i=!1,this.o=null,this.rageclicks=new ta,this.h=!1,this.instance=e,this.m=null}get S(){var e,t,r=P(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=null==(e=r.url_allowlist)?void 0:e.map(e=>new RegExp(e)),r.url_ignorelist=null==(t=r.url_ignorelist)?void 0:t.map(e=>new RegExp(e)),r}$(){if(this.isBrowserSupported()){if(o&&h){var e=e=>{e=e||(null==o?void 0:o.event);try{this.k(e)}catch(e){tp.error("Failed to capture event",e)}};if(ea(h,"submit",e,{capture:!0}),ea(h,"change",e,{capture:!0}),ea(h,"click",e,{capture:!0}),this.S.capture_copied_text){var t=e=>{e=e||(null==o?void 0:o.event),this.k(e,b)};ea(h,"copy",t,{capture:!0}),ea(h,"cut",t,{capture:!0})}}}else tp.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.h=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[ed]:!!e.autocapture_opt_out}),this.o=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.m=e}getElementSelectors(e){var t,r=[];return null==(t=this.m)||t.forEach(t=>{var n=null==h?void 0:h.querySelectorAll(t);null==n||n.forEach(n=>{e===n&&r.push(t)})}),r}get isEnabled(){var e,t,r=null==(e=this.instance.persistence)?void 0:e.props[ed];if(j(this.o)&&!U(r)&&!this.instance.config.advanced_disable_decide)return!1;var n=null!==(t=this.o)&&void 0!==t?t:!!r;return!!this.instance.config.autocapture&&!n}k(e,t){if(void 0===t&&(t="$autocapture"),this.isEnabled){var r,n=e3(e);eK(n)&&(n=n.parentNode||null),"$autocapture"===t&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!=(r=this.rageclicks)&&r.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this.k(e,"$rageclick");var i=t===b;if(n&&function(e,t,r,n,i){if(void 0===r&&(r=void 0),!o||!e||eV(e,"html")||!eX(e)||null!=(s=r)&&s.url_allowlist&&!eQ(r.url_allowlist)||null!=(a=r)&&a.url_ignorelist&&eQ(r.url_ignorelist))return!1;if(null!=(l=r)&&l.dom_event_allowlist){var s,a,l,u=r.dom_event_allowlist;if(u&&!u.some(e=>t.type===e))return!1}for(var c=!1,d=[e],h=!0,f=e;f.parentNode&&!eV(f,"body");)if(eY(f.parentNode))d.push(f.parentNode.host),f=f.parentNode.host;else{if(!(h=e5(f)))break;if(n||e4.indexOf(h.tagName.toLowerCase())>-1)c=!0;else{var p=o.getComputedStyle(h);p&&"pointer"===p.getPropertyValue("cursor")&&(c=!0)}d.push(h),f=h}if(!function(e,t){var r=null==t?void 0:t.element_allowlist;if(L(r))return!0;var n=function(e){if(r.some(t=>e.tagName.toLowerCase()===t))return{v:!0}};for(var i of e){var s=n(i);if("object"==typeof s)return s.v}return!1}(d,r)||!function(e,t){var r=null==t?void 0:t.css_selector_allowlist;if(L(r))return!0;var n=function(e){if(r.some(t=>e.matches(t)))return{v:!0}};for(var i of e){var s=n(i);if("object"==typeof s)return s.v}return!1}(d,r))return!1;var g=o.getComputedStyle(e);if(g&&"pointer"===g.getPropertyValue("cursor")&&"click"===t.type)return!0;var m=e.tagName.toLowerCase();switch(m){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return c?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(e4.indexOf(m)>-1||"true"===e.getAttribute("contenteditable"))}}(n,e,this.S,i,i?["copy","cut"]:void 0)){var{props:s,explicitNoCapture:a}=function(e,t){for(var r,n,{e:i,maskAllElementAttributes:s,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:u}=t,c=[e],d=e;d.parentNode&&!eV(d,"body");)eY(d.parentNode)?(c.push(d.parentNode.host),d=d.parentNode.host):(c.push(d.parentNode),d=d.parentNode);var h,f=[],p={},g=!1,m=!1;if(Z(c,e=>{var t=e8(e);"a"===e.tagName.toLowerCase()&&(g=e.getAttribute("href"),g=t&&g&&ti(g)&&g),k(e0(e),"ph-no-capture")&&(m=!0),f.push(function(e,t,r,n){var i=e.tagName.toLowerCase(),s={tag_name:i};e4.indexOf(i)>-1&&!r&&("a"===i.toLowerCase()||"button"===i.toLowerCase()?s.$el_text=tg(1024,ts(e)):s.$el_text=tg(1024,e2(e)));var o=e0(e);o.length>0&&(s.classes=o.filter(function(e){return""!==e})),Z(e.attributes,function(r){var i;if((!e6(e)||-1!==["name","id","class","aria-label"].indexOf(r.name))&&(null==n||!n.includes(r.name))&&!t&&ti(r.value)&&(!$(i=r.name)||"_ngcontent"!==i.substring(0,10)&&"_nghost"!==i.substring(0,7))){var o=r.value;"class"===r.name&&(o=eZ(o).join(" ")),s["attr__"+r.name]=tg(1024,o)}});for(var a=1,l=1,u=e;u=function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!eX(t));return t}(u);)a++,u.tagName===e.tagName&&l++;return s.nth_child=a,s.nth_of_type=l,s}(e,s,a,l)),Q(p,function(e){if(!e8(e))return{};var t={};return Z(e.attributes,function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var r=e.name.replace("data-ph-capture-attribute-",""),n=e.value;r&&n&&ti(n)&&(t[r]=n)}}),t}(e))}),m)return{props:{},explicitNoCapture:m};if(a||("a"===e.tagName.toLowerCase()||"button"===e.tagName.toLowerCase()?f[0].$el_text=ts(e):f[0].$el_text=e2(e)),g){f[0].attr__href=g;var v,_,y=null==(v=tu(g))?void 0:v.host,b=null==o||null==(_=o.location)?void 0:_.host;y&&b&&y!==b&&(h=g)}return{props:Q({$event_type:i.type,$ce_version:1},u?{}:{$elements:f},{$elements_chain:f.map(e=>{var t,r,n,i={text:null==(r=e.$el_text)?void 0:r.slice(0,400),tag_name:e.tag_name,href:null==(n=e.attr__href)?void 0:n.slice(0,2048),attr_class:(t=e.attr__class)?R(t)?t:eZ(t):void 0,attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return et(e).filter(e=>{var[t]=e;return 0===t.indexOf("attr__")}).forEach(e=>{var[t,r]=e;return i.attributes[t]=r}),i}).map(e=>{var t,r,n="";if(e.tag_name&&(n+=e.tag_name),e.attr_class)for(var i of(e.attr_class.sort(),e.attr_class))n+="."+i.replace(/"/g,"");var s=X({},e.text?{text:e.text}:{},{"nth-child":null!==(t=e.nth_child)&&void 0!==t?t:0,"nth-of-type":null!==(r=e.nth_of_type)&&void 0!==r?r:0},e.href?{href:e.href}:{},e.attr_id?{attr_id:e.attr_id}:{},e.attributes),o={};return et(s).sort((e,t)=>{var[r]=e,[n]=t;return r.localeCompare(n)}).forEach(e=>{var[t,r]=e;return o[to(t.toString())]=to(r.toString())}),n+=":"+et(o).map(e=>{var[t,r]=e;return t+'="'+r+'"'}).join("")}).join(";")},null!=(r=f[0])&&r.$el_text?{$el_text:null==(n=f[0])?void 0:n.$el_text}:{},h&&"click"===i.type?{$external_click_url:h}:{},p)}}(n,{e:e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(a)return!1;var l=this.getElementSelectors(n);if(l&&l.length>0&&(s.$element_selectors=l),t===b){var u,c=e1(null==o||null==(u=o.getSelection())?void 0:u.toString()),d=e.type||"clipboard";if(!c)return!1;s.$selected_content=c,s.$copy_type=d}return this.instance.capture(t,s),!0}}}isBrowserSupported(){return A(null==h?void 0:h.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return F(e)&&isFinite(e)&&Math.floor(e)===e});var tv="0123456789abcdef";class t_{constructor(e){if(this.bytes=e,16!==e.length)throw TypeError("not 128-bit length")}static fromFieldsV7(e,t,r,n){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||e<0||t<0||r<0||n<0||e>0xffffffffffff||t>4095||r>1073741823||n>4294967295)throw RangeError("invalid field value");var i=new Uint8Array(16);return i[0]=e/1099511627776,i[1]=e/4294967296,i[2]=e/16777216,i[3]=e/65536,i[4]=e/256,i[5]=e,i[6]=112|t>>>8,i[7]=t,i[8]=128|r>>>24,i[9]=r>>>16,i[10]=r>>>8,i[11]=r,i[12]=n>>>24,i[13]=n>>>16,i[14]=n>>>8,i[15]=n,new t_(i)}toString(){for(var e="",t=0;t<this.bytes.length;t++)e=e+tv.charAt(this.bytes[t]>>>4)+tv.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw Error("Invalid UUIDv7 was generated");return e}clone(){return new t_(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(var t=0;t<16;t++){var r=this.bytes[t]-e.bytes[t];if(0!==r)return Math.sign(r)}return 0}}class ty{constructor(){this.I=0,this.P=0,this.R=new tk}generate(){var e=this.generateOrAbort();if(L(e)){this.I=0;var t=this.generateOrAbort();if(L(t))throw Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.I)this.I=e,this.T();else{if(!(e+1e4>this.I))return;this.P++,this.P>4398046511103&&(this.I++,this.T())}return t_.fromFieldsV7(this.I,Math.trunc(this.P/1073741824),1073741823&this.P,this.R.nextUint32())}T(){this.P=1024*this.R.nextUint32()+(1023&this.R.nextUint32())}}var tb,tw,tS=e=>{if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};o&&!L(o.crypto)&&crypto.getRandomValues&&(tS=e=>crypto.getRandomValues(e));class tk{constructor(){this.M=new Uint32Array(8),this.C=1/0}nextUint32(){return this.C>=this.M.length&&(tS(this.M),this.C=0),this.M[this.C++]}}var tE,tx=()=>tT().toString(),tT=()=>(tw||(tw=new ty)).generate(),tC="",tI=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,tO={O:()=>!!h,F:function(e){q.error("cookieStore error: "+e)},A:function(e){if(h){try{for(var t=e+"=",r=h.cookie.split(";").filter(e=>e.length),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}}catch(e){}return null}},D:function(e){var t;try{t=JSON.parse(tO.A(e))||{}}catch(e){}return t},j:function(e,t,r,n,i){if(h)try{var s="",o="",a=function(e,t){if(t){var r=function(e,t){if(void 0===t&&(t=h),tC)return tC;if(!t||["localhost","127.0.0.1"].includes(e))return"";for(var r=e.split("."),n=Math.min(r.length,8),i="dmn_chk_"+tx(),s=RegExp("(^|;)\\s*"+i+"=1");!tC&&n--;){var o=r.slice(n).join("."),a=i+"=1;domain=."+o;t.cookie=a,s.test(t.cookie)&&(t.cookie=a+";expires=Thu, 01 Jan 1970 00:00:00 GMT",tC=o)}return tC}(e);if(!r){var n,i=(n=e.match(tI))?n[0]:"";i!==r&&q.info("Warning: cookie subdomain discovery mismatch",i,r),r=i}return r?"; domain=."+r:""}return""}(h.location.hostname,n);if(r){var l=new Date;l.setTime(l.getTime()+24*r*36e5),s="; expires="+l.toUTCString()}i&&(o="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return u.length>3686.4&&q.warn("cookieStore warning: large cookie, len="+u.length),h.cookie=u,u}catch(e){return}},L:function(e,t){try{tO.j(e,"",-1,t)}catch(e){return}}},tR=null,tA={O:function(){if(!j(tR))return tR;var e=!0;if(L(o))e=!1;else try{var t="__mplssupport__";tA.j(t,"xyz"),'"xyz"'!==tA.A(t)&&(e=!1),tA.L(t)}catch(t){e=!1}return e||q.error("localStorage unsupported; falling back to cookie store"),tR=e,e},F:function(e){q.error("localStorage error: "+e)},A:function(e){try{return null==o?void 0:o.localStorage.getItem(e)}catch(e){tA.F(e)}return null},D:function(e){try{return JSON.parse(tA.A(e))||{}}catch(e){}return null},j:function(e,t){try{null==o||o.localStorage.setItem(e,JSON.stringify(t))}catch(e){tA.F(e)}},L:function(e){try{null==o||o.localStorage.removeItem(e)}catch(e){tA.F(e)}}},tP=["distinct_id",ex,eT,eH,eW],tM=X({},tA,{D:function(e){try{var t={};try{t=tO.D(e)||{}}catch(e){}var r=Q(t,JSON.parse(tA.A(e)||"{}"));return tA.j(e,r),r}catch(e){}return null},j:function(e,t,r,n,i,s){try{tA.j(e,t,void 0,void 0,s);var o={};tP.forEach(e=>{t[e]&&(o[e]=t[e])}),Object.keys(o).length&&tO.j(e,o,r,n,i,s)}catch(e){tA.F(e)}},L:function(e,t){try{null==o||o.localStorage.removeItem(e),tO.L(e,t)}catch(e){tA.F(e)}}}),tL={},t$={O:function(){return!0},F:function(e){q.error("memoryStorage error: "+e)},A:function(e){return tL[e]||null},D:function(e){return tL[e]||null},j:function(e,t){tL[e]=t},L:function(e){delete tL[e]}},tN=null,tj={O:function(){if(!j(tN))return tN;if(tN=!0,L(o))tN=!1;else try{var e="__support__";tj.j(e,"xyz"),'"xyz"'!==tj.A(e)&&(tN=!1),tj.L(e)}catch(e){tN=!1}return tN},F:function(e){q.error("sessionStorage error: ",e)},A:function(e){try{return null==o?void 0:o.sessionStorage.getItem(e)}catch(e){tj.F(e)}return null},D:function(e){try{return JSON.parse(tj.A(e))||null}catch(e){}return null},j:function(e,t){try{null==o||o.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){tj.F(e)}},L:function(e){try{null==o||o.sessionStorage.removeItem(e)}catch(e){tj.F(e)}}};(tZ=tE||(tE={}))[tZ.PENDING=-1]="PENDING",tZ[tZ.DENIED=0]="DENIED",tZ[tZ.GRANTED=1]="GRANTED";class tD{constructor(e){this._instance=e}get S(){return this._instance.config}get consent(){return this.N()?tE.DENIED:this.U}isOptedOut(){return this.consent===tE.DENIED||this.consent===tE.PENDING&&this.S.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.q.j(this.B,e?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.q.L(this.B,this.S.cross_subdomain_cookie)}get B(){var{token:e,opt_out_capturing_cookie_prefix:t}=this._instance.config;return(t||"__ph_opt_in_out_")+e}get U(){var e=this.q.A(this.B);return"1"===e?tE.GRANTED:"0"===e?tE.DENIED:tE.PENDING}get q(){if(!this.H){var e=this.S.opt_out_capturing_persistence_type;this.H="localStorage"===e?tA:tO;var t="localStorage"===e?tO:tA;t.A(this.B)&&(this.H.A(this.B)||this.optInOut("1"===t.A(this.B)),t.L(this.B,this.S.cross_subdomain_cookie))}return this.H}N(){return!!this.S.respect_dnt&&!!eo([null==d?void 0:d.doNotTrack,null==d?void 0:d.msDoNotTrack,_.doNotTrack],e=>k([!0,1,"1","yes"],e))}}var tF=z("[Dead Clicks]"),tU=()=>!0,tB=e=>{var t,r=!(null==(t=e.instance.persistence)||!t.get_property(eg)),n=e.instance.config.capture_dead_clicks;return U(n)?n:r};class tW{get lazyLoadedDeadClicksAutocapture(){return this.W}constructor(e,t,r){this.instance=e,this.isEnabled=t,this.onCapture=r,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[eg]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.G(()=>{this.J()})}G(e){var t,r;null!=(t=_.__PosthogExtensions__)&&t.initDeadClicksAutocapture&&e(),null==(r=_.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this.instance,"dead-clicks-autocapture",t=>{t?tF.error("failed to load script",t):e()})}J(){var e;if(h){if(!this.W&&null!=(e=_.__PosthogExtensions__)&&e.initDeadClicksAutocapture){var t=P(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this.W=_.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this.W.start(h),tF.info("starting...")}}else tF.error("`document` not found. Cannot start.")}stop(){this.W&&(this.W.stop(),this.W=void 0,tF.info("stopping..."))}}var tH=z("[ExceptionAutocapture]");class tq{constructor(e){var t;this.V=()=>{var e;if(o&&this.isEnabled&&null!=(e=_.__PosthogExtensions__)&&e.errorWrappingFunctions){var t=_.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,r=_.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,n=_.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.K&&this.S.capture_unhandled_errors&&(this.K=t(this.captureException.bind(this))),!this.Y&&this.S.capture_unhandled_rejections&&(this.Y=r(this.captureException.bind(this))),!this.X&&this.S.capture_console_errors&&(this.X=n(this.captureException.bind(this)))}catch(e){tH.error("failed to start",e),this.Z()}}},this._instance=e,this.tt=!(null==(t=this._instance.persistence)||!t.props[ef]),this.S=this.it(),this.startIfEnabled()}it(){var e=this._instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return P(e)?t=X({},t,e):(L(e)?this.tt:e)&&(t=X({},t,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(tH.info("enabled"),this.G(this.V))}G(e){var t,r;null!=(t=_.__PosthogExtensions__)&&t.errorWrappingFunctions&&e(),null==(r=_.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,"exception-autocapture",t=>{if(t)return tH.error("failed to load script",t);e()})}Z(){var e,t,r;null==(e=this.K)||e.call(this),this.K=void 0,null==(t=this.Y)||t.call(this),this.Y=void 0,null==(r=this.X)||r.call(this),this.X=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.tt=!!t,this.S=this.it(),this._instance.persistence&&this._instance.persistence.register({[ef]:this.tt}),this.startIfEnabled()}captureException(e){var t=this._instance.requestRouter.endpointFor("ui");e.$exception_personURL=t+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id(),this._instance.exceptions.sendExceptionEvent(e)}}function tz(e){return!L(Event)&&tG(e,Event)}function tG(e,t){try{return e instanceof t}catch(e){return!1}}function tJ(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return tG(e,Error)}}function tX(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function tV(e){return tX(e,"DOMError")}var tK=/\(error: (.*)\)/;function tY(e,t,r,n){var i={platform:"web:javascript",filename:e,function:"<anonymous>"===t?"?":t,in_app:!0};return L(r)||(i.lineno=r),L(n)||(i.colno=n),i}var tZ,tQ,t0,t1,t2=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,t3=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,t4=/\((\S*)(?::(\d+))(?::(\d+))\)/,t5=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,t8=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,t6=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return function(e,t){void 0===t&&(t=0);for(var r=[],i=e.split("\n"),s=t;s<i.length;s++){var o=i[s];if(!(o.length>1024)){var a=tK.test(o)?o.replace(tK,"$1"):o;if(!a.match(/\S*Error: /)){for(var l of n){var u=l(a);if(u){r.push(u);break}}if(r.length>=50)break}}}return function(e){if(!e.length)return[];var t=Array.from(e);return t.reverse(),t.slice(0,50).map(e=>X({},e,{filename:e.filename||(t[t.length-1]||{}).filename,function:e.function||"?"}))}(r)}}([30,e=>{var t=t2.exec(e);if(t){var[,r,n,i]=t;return tY(r,"?",+n,+i)}var s=t3.exec(e);if(s){if(s[2]&&0===s[2].indexOf("eval")){var o=t4.exec(s[2]);o&&(s[2]=o[1],s[3]=o[2],s[4]=o[3])}var[a,l]=t9(s[1]||"?",s[2]);return tY(l,a,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}}],[50,e=>{var t=t5.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var r=t8.exec(t[3]);r&&(t[1]=t[1]||"eval",t[3]=r[1],t[4]=r[2],t[5]="")}var n=t[3],i=t[1]||"?";return[i,n]=t9(i,n),tY(n,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),t9=(e,t)=>{var r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:"?",r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},t7=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function re(e,t){void 0===t&&(t=0);var r=e.stacktrace||e.stack||"",n=e&&rt.test(e.message)?1:0;try{var i,s,o=(i=t6(r,n),s=function(e){var t=globalThis._posthogChunkIds;if(!t)return{};var r=Object.keys(t);return t1&&r.length===t0||(t0=r.length,t1=r.reduce((r,n)=>{tQ||(tQ={});var i=tQ[n];if(i)r[i[0]]=i[1];else for(var s=e(n),o=s.length-1;o>=0;o--){var a=s[o],l=null==a?void 0:a.filename,u=t[n];if(l&&u){r[l]=u,tQ[n]=[l,u];break}}return r},{})),t1}(t6),i.forEach(e=>{e.filename&&(e.chunk_id=s[e.filename])}),i);return o.slice(0,o.length-t)}catch(e){}return[]}var rt=/Minified React error #\d+;/i;function rr(e,t){return{$exception_list:function e(t,r){var n,i,s,o,a,l,u=(o=re(t),a=null===(i=null==r?void 0:r.handled)||void 0===i||i,l=null!==(s=null==r?void 0:r.synthetic)&&void 0!==s&&s,{type:null!=r&&r.overrideExceptionType?r.overrideExceptionType:t.name,value:(n=t.message).error&&"string"==typeof n.error.message?String(n.error.message):String(n),stacktrace:{frames:o,type:"raw"},mechanism:{handled:a,synthetic:l}});return t.cause&&tJ(t.cause)&&t.cause!==t?[u,...e(t.cause,{handled:null==r?void 0:r.handled,synthetic:null==r?void 0:r.synthetic})]:[u]}(e,t),$exception_level:"error"}}function rn(e,t){var r,n,i,s=null===(r=null==t?void 0:t.handled)||void 0===r||r,o=null===(n=null==t?void 0:t.synthetic)||void 0===n||n,a={type:null!=t&&t.overrideExceptionType?t.overrideExceptionType:null!==(i=null==t?void 0:t.defaultExceptionType)&&void 0!==i?i:"Error",value:e||(null==t?void 0:t.defaultExceptionMessage),mechanism:{handled:s,synthetic:o}};if(null!=t&&t.syntheticException){var l=re(t.syntheticException,1);l.length&&(a.stacktrace={frames:l,type:"raw"})}return{$exception_list:[a],$exception_level:"error"}}function ri(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],i=r(n);return A(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=i,()=>{e[t]=n}}catch(e){return()=>{}}}class rs{constructor(e){var t;this._instance=e,this.et=(null==o||null==(t=o.location)?void 0:t.pathname)||""}get isEnabled(){return"history_change"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(q.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.rt&&this.rt(),this.rt=void 0,q.info("History API monitoring stopped")}monitorHistoryChanges(){var e,t;if(o&&o.history){var r=this;null!=(e=o.history.pushState)&&e.__posthog_wrapped__||ri(o.history,"pushState",e=>function(t,n,i){e.call(this,t,n,i),r.st("pushState")}),null!=(t=o.history.replaceState)&&t.__posthog_wrapped__||ri(o.history,"replaceState",e=>function(t,n,i){e.call(this,t,n,i),r.st("replaceState")}),this.nt()}}st(e){try{var t,r=null==o||null==(t=o.location)?void 0:t.pathname;if(!r)return;r!==this.et&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.et=r}catch(t){q.error("Error capturing "+e+" pageview",t)}}nt(){if(!this.rt){var e=()=>{this.st("popstate")};ea(o,"popstate",e),this.rt=()=>{o&&o.removeEventListener("popstate",e)}}}}function ro(e){var t,r;return(null==(t=JSON.stringify(e,(r=[],function(e,t){if(P(t)){for(;r.length>0&&r[r.length-1]!==this;)r.pop();return r.includes(t)?"[Circular]":(r.push(t),t)}return t})))?void 0:t.length)||0}var ra=((n=ra||{})[n.DomContentLoaded=0]="DomContentLoaded",n[n.Load=1]="Load",n[n.FullSnapshot=2]="FullSnapshot",n[n.IncrementalSnapshot=3]="IncrementalSnapshot",n[n.Meta=4]="Meta",n[n.Custom=5]="Custom",n[n.Plugin=6]="Plugin",n),rl=((i=rl||{})[i.Mutation=0]="Mutation",i[i.MouseMove=1]="MouseMove",i[i.MouseInteraction=2]="MouseInteraction",i[i.Scroll=3]="Scroll",i[i.ViewportResize=4]="ViewportResize",i[i.Input=5]="Input",i[i.TouchMove=6]="TouchMove",i[i.MediaInteraction=7]="MediaInteraction",i[i.StyleSheetRule=8]="StyleSheetRule",i[i.CanvasMutation=9]="CanvasMutation",i[i.Font=10]="Font",i[i.Log=11]="Log",i[i.Drag=12]="Drag",i[i.StyleDeclaration=13]="StyleDeclaration",i[i.Selection=14]="Selection",i[i.AdoptedStyleSheet=15]="AdoptedStyleSheet",i[i.CustomElement=16]="CustomElement",i),ru="[SessionRecording]",rc="redacted",rd={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com"]},rh=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],rf=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],rp=["/s/","/e/","/i/"];function rg(e,t,r,n){if(D(e))return e;var i=(null==t?void 0:t["content-length"])||new Blob([e]).size;return $(i)&&(i=parseInt(i)),i>r?ru+" "+n+" body too large to record ("+i+" bytes)":e}function rm(e,t){if(D(e))return e;var r=e;return ti(r,!1)||(r=ru+" "+t+" body "+rc),Z(rf,e=>{var n,i;null!=(n=r)&&n.length&&-1!==(null==(i=r)?void 0:i.indexOf(e))&&(r=ru+" "+t+" body "+rc+" as might contain: "+e)}),r}var rv=(e,t)=>{var r,n,i={payloadSizeLimitBytes:rd.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...rd.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...rd.payloadHostDenyList]},s=!1!==e.session_recording.recordHeaders&&t.recordHeaders,o=!1!==e.session_recording.recordBody&&t.recordBody,a=!1!==e.capture_performance&&t.recordPerformance,l=(n=Math.min(1e6,null!==(r=i.payloadSizeLimitBytes)&&void 0!==r?r:1e6),e=>(null!=e&&e.requestBody&&(e.requestBody=rg(e.requestBody,e.requestHeaders,n,"Request")),null!=e&&e.responseBody&&(e.responseBody=rg(e.responseBody,e.responseHeaders,n,"Response")),e)),u=t=>{var r;return l(((e,t)=>{var r,n=tu(e.name),i=0===t.indexOf("http")?null==(r=tu(t))?void 0:r.pathname:t;"/"===i&&(i="");var s=null==n?void 0:n.pathname.replace(i||"","");if(!(n&&s&&rp.some(e=>0===s.indexOf(e))))return e})((D(r=t.requestHeaders)||Z(Object.keys(null!=r?r:{}),e=>{rh.includes(e.toLowerCase())&&(r[e]=rc)}),t),e.api_host))},c=A(e.session_recording.maskNetworkRequestFn);return c&&A(e.session_recording.maskCapturedNetworkRequestFn)&&q.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),c&&(e.session_recording.maskCapturedNetworkRequestFn=t=>{var r=e.session_recording.maskNetworkRequestFn({url:t.name});return X({},t,{name:null==r?void 0:r.url})}),i.maskRequestFn=A(e.session_recording.maskCapturedNetworkRequestFn)?t=>{var r,n=u(t);return n&&null!==(r=null==e.session_recording.maskCapturedNetworkRequestFn?void 0:e.session_recording.maskCapturedNetworkRequestFn(n))&&void 0!==r?r:void 0}:e=>(function(e){if(!L(e))return e.requestBody=rm(e.requestBody,"Request"),e.responseBody=rm(e.responseBody,"Response"),e})(u(e)),X({},rd,i,{recordHeaders:s,recordBody:o,recordPerformance:a,recordInitialRequests:a})};function r_(e,t,r,n,i){return t>r&&(q.warn("min cannot be greater than max."),t=r),F(e)?e>r?(n&&q.warn(n+" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n&&q.warn(n+" cannot be less than min: "+t+". Using min value instead."),t):e:(n&&q.warn(n+" must be a number. using max or fallback. max: "+r+", fallback: "+i),r_(i||r,t,r,n))}class ry{constructor(e,t){var r,n;void 0===t&&(t={}),this.ot=100,this.lt=10,this.ht={},this.ut={},this.dt=()=>{Object.keys(this.ht).forEach(e=>{this.ht[e]=this.ht[e]+this.lt,this.ht[e]>=this.ot&&delete this.ht[e]})},this.vt=e=>{var t=this._rrweb.mirror.getNode(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var r=t.closest("svg");if(r)return[this._rrweb.mirror.getId(r),r]}return[e,t]},this.ct=e=>{var t,r,n,i,s,o,a,l;return(null!==(t=null==(r=e.removes)?void 0:r.length)&&void 0!==t?t:0)+(null!==(n=null==(i=e.attributes)?void 0:i.length)&&void 0!==n?n:0)+(null!==(s=null==(o=e.texts)?void 0:o.length)&&void 0!==s?s:0)+(null!==(a=null==(l=e.adds)?void 0:l.length)&&void 0!==a?a:0)},this.throttleMutations=e=>{if(3!==e.type||0!==e.data.source)return e;var t=e.data,r=this.ct(t);t.attributes&&(t.attributes=t.attributes.filter(e=>{var t,r,n,[i,s]=this.vt(e.id);return 0!==this.ht[i]&&(this.ht[i]=null!==(t=this.ht[i])&&void 0!==t?t:this.ot,this.ht[i]=Math.max(this.ht[i]-1,0),0===this.ht[i]&&(this.ut[i]||(this.ut[i]=!0,null==(r=(n=this.ft).onBlockedNode)||r.call(n,i,s))),e)}));var n=this.ct(t);return 0!==n||r===n?e:void 0},this._rrweb=e,this.ft=t,this.lt=r_(null!==(r=this.ft.refillRate)&&void 0!==r?r:this.lt,0,100,"mutation throttling refill rate"),this.ot=r_(null!==(n=this.ft.bucketSize)&&void 0!==n?n:this.ot,0,100,"mutation throttling bucket size"),setInterval(()=>{this.dt()},1e3)}}var rb=Uint8Array,rw=Uint16Array,rS=Uint32Array,rk=new rb([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rE=new rb([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rx=new rb([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rT=function(e,t){for(var r=new rw(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new rS(r[30]);for(n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return[r,i]},rC=rT(rk,2),rI=rC[0],rO=rC[1];rI[28]=258,rO[258]=28;for(var rR=rT(rE,0)[1],rA=new rw(32768),rP=0;rP<32768;++rP){var rM=(43690&rP)>>>1|(21845&rP)<<1;rM=(61680&(rM=(52428&rM)>>>2|(13107&rM)<<2))>>>4|(3855&rM)<<4,rA[rP]=((65280&rM)>>>8|(255&rM)<<8)>>>1}var rL=function(e,t,r){for(var n=e.length,i=0,s=new rw(t);i<n;++i)++s[e[i]-1];var o,a=new rw(t);for(i=0;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;if(r){o=new rw(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],d=a[e[i]-1]++<<c,h=d|(1<<c)-1;d<=h;++d)o[rA[d]>>>l]=u}else for(o=new rw(n),i=0;i<n;++i)o[i]=rA[a[e[i]-1]++]>>>15-e[i];return o},r$=new rb(288);for(rP=0;rP<144;++rP)r$[rP]=8;for(rP=144;rP<256;++rP)r$[rP]=9;for(rP=256;rP<280;++rP)r$[rP]=7;for(rP=280;rP<288;++rP)r$[rP]=8;var rN=new rb(32);for(rP=0;rP<32;++rP)rN[rP]=5;var rj=rL(r$,9,0),rD=rL(rN,5,0),rF=function(e){return(e/8>>0)+(7&e&&1)},rU=function(e,t,r){(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof rw?rw:e instanceof rS?rS:rb)(r-t);return n.set(e.subarray(t,r)),n},rB=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},rW=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},rH=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return[new rb(0),0];if(1==i){var o=new rb(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],u=0,c=1,d=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=r[r[u].f<r[d].f?u++:d++],l=r[u!=c&&r[u].f<r[d].f?u++:d++],r[c++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(n=1;n<i;++n)s[n].s>h&&(h=s[n].s);var f=new rw(h+1),p=rq(r[c-1],f,0);if(p>t){n=0;var g=0,m=p-t,v=1<<m;for(s.sort(function(e,t){return f[t.s]-f[e.s]||e.f-t.f});n<i;++n){var _=s[n].s;if(!(f[_]>t))break;g+=v-(1<<p-f[_]),f[_]=t}for(g>>>=m;g>0;){var y=s[n].s;f[y]<t?g-=1<<t-f[y]++-1:++n}for(;n>=0&&g;--n){var b=s[n].s;f[b]==t&&(--f[b],++g)}p=t}return[new rb(f),p]},rq=function(e,t,r){return -1==e.s?Math.max(rq(e.l,t,r+1),rq(e.r,t,r+1)):t[e.s]=r},rz=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new rw(++t),n=0,i=e[0],s=1,o=function(e){r[n++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return[r.subarray(0,n),t]},rG=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},rJ=function(e,t,r){var n=r.length,i=rF(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<n;++s)e[i+s+4]=r[s];return 8*(i+4+n)},rX=function(e,t,r,n,i,s,o,a,l,u,c){rB(t,c++,r),++i[256];for(var d=rH(i,15),h=d[0],f=d[1],p=rH(s,15),g=p[0],m=p[1],v=rz(h),_=v[0],y=v[1],b=rz(g),w=b[0],S=b[1],k=new rw(19),E=0;E<_.length;++E)k[31&_[E]]++;for(E=0;E<w.length;++E)k[31&w[E]]++;for(var x=rH(k,7),T=x[0],C=x[1],I=19;I>4&&!T[rx[I-1]];--I);var O,R,A,P,M=u+5<<3,L=rG(i,r$)+rG(s,rN)+o,$=rG(i,h)+rG(s,g)+o+14+3*I+rG(k,T)+(2*k[16]+3*k[17]+7*k[18]);if(M<=L&&M<=$)return rJ(t,c,e.subarray(l,l+u));if(rB(t,c,1+($<L)),c+=2,$<L){O=rL(h,f,0),R=h,A=rL(g,m,0),P=g;var N=rL(T,C,0);for(rB(t,c,y-257),rB(t,c+5,S-1),rB(t,c+10,I-4),c+=14,E=0;E<I;++E)rB(t,c+3*E,T[rx[E]]);c+=3*I;for(var j=[_,w],D=0;D<2;++D){var F=j[D];for(E=0;E<F.length;++E){var U=31&F[E];rB(t,c,N[U]),c+=T[U],U>15&&(rB(t,c,F[E]>>>5&127),c+=F[E]>>>12)}}}else O=rj,R=r$,A=rD,P=rN;for(E=0;E<a;++E)if(n[E]>255){rW(t,c,O[(U=n[E]>>>18&31)+257]),c+=R[U+257],U>7&&(rB(t,c,n[E]>>>23&31),c+=rk[U]);var B=31&n[E];rW(t,c,A[B]),c+=P[B],B>3&&(rW(t,c,n[E]>>>5&8191),c+=rE[B])}else rW(t,c,O[n[E]]),c+=R[n[E]];return rW(t,c,O[256]),c+R[256]},rV=new rS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rK=function(){for(var e=new rS(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e}(),rY=function(){var e=4294967295;return{p:function(t){for(var r=e,n=0;n<t.length;++n)r=rK[255&r^t[n]]^r>>>8;e=r},d:function(){return 4294967295^e}}},rZ=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},rQ=function(e,t){var r=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&rZ(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),r){e[3]=8;for(var n=0;n<=r.length;++n)e[n+10]=r.charCodeAt(n)}};function r0(e,t){void 0===t&&(t={});var r,n,i,s=rY(),o=e.length;s.p(e);var a=(n=t,i=10+((r=t).filename&&r.filename.length+1||0),function(e,t,r,n,i,s){var o=e.length,a=new rb(n+o+5*(1+Math.floor(o/7e3))+8),l=a.subarray(n,a.length-8),u=0;if(!t||o<8)for(var c=0;c<=o;c+=65535){var d=c+65535;d<o?u=rJ(l,u,e.subarray(c,d)):(l[c]=s,u=rJ(l,u,e.subarray(c,o)))}else{for(var h=rV[t-1],f=h>>>13,p=8191&h,g=(1<<r)-1,m=new rw(32768),v=new rw(g+1),_=Math.ceil(r/3),y=2*_,b=function(t){return(e[t]^e[t+1]<<_^e[t+2]<<y)&g},w=new rS(25e3),S=new rw(288),k=new rw(32),E=0,x=0,T=(c=0,0),C=0,I=0;c<o;++c){var O=b(c),R=32767&c,A=v[O];if(m[R]=A,v[O]=R,C<=c){var P=o-c;if((E>7e3||T>24576)&&P>423){u=rX(e,l,0,w,S,k,x,T,I,c-I,u),T=E=x=0,I=c;for(var M=0;M<286;++M)S[M]=0;for(M=0;M<30;++M)k[M]=0}var L=2,$=0,N=p,j=R-A&32767;if(P>2&&O==b(c-j))for(var D=Math.min(f,P)-1,F=Math.min(32767,c),U=Math.min(258,P);j<=F&&--N&&R!=A;){if(e[c+L]==e[c+L-j]){for(var B=0;B<U&&e[c+B]==e[c+B-j];++B);if(B>L){if(L=B,$=j,B>D)break;var W=Math.min(j,B-2),H=0;for(M=0;M<W;++M){var q=c-j+M+32768&32767,z=q-m[q]+32768&32767;z>H&&(H=z,A=q)}}}j+=(R=A)-(A=m[R])+32768&32767}if($){w[T++]=268435456|rO[L]<<18|rR[$];var G=31&rO[L],J=31&rR[$];x+=rk[G]+rE[J],++S[257+G],++k[J],C=c+L,++E}else w[T++]=e[c],++S[e[c]]}}u=rX(e,l,s,w,S,k,x,T,I,c-I,u)}return rU(a,0,n+rF(u)+i)}(e,null==n.level?6:n.level,null==n.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+n.mem,i,8,!0)),l=a.length;return rQ(a,t),rZ(a,l-8,s.d()),rZ(a,l-4,o),a}function r1(e,t){var r=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var n=new rb(e.length+(e.length>>>1)),i=0,s=function(e){n[i++]=e},o=0;o<r;++o){if(i+5>n.length){var a=new rb(i+8+(r-o<<1));a.set(n),n=a}var l=e.charCodeAt(o);l<128||t?s(l):(l<2048?s(192|l>>>6):(l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),s(128|l>>>12&63)):s(224|l>>>12),s(128|l>>>6&63)),s(128|63&l))}return rU(n,0,i)}var r2="disabled",r3="sampled",r4="active",r5="buffering",r8="paused",r6="trigger",r9=r6+"_activated",r7=r6+"_pending",ne=r6+"_"+r2;function nt(e,t){return t.some(t=>"regex"===t.matching&&new RegExp(t.url).test(e))}class nr{constructor(e){this.gt=e}triggerStatus(e){var t=this.gt.map(t=>t.triggerStatus(e));return t.includes(r9)?r9:t.includes(r7)?r7:ne}stop(){this.gt.forEach(e=>e.stop())}}class nn{constructor(e){this.gt=e}triggerStatus(e){var t=new Set;for(var r of this.gt)t.add(r.triggerStatus(e));switch(t.delete(ne),t.size){case 0:return ne;case 1:return Array.from(t)[0];default:return r7}}stop(){this.gt.forEach(e=>e.stop())}}class ni{triggerStatus(){return r7}stop(){}}class ns{constructor(e){this._t=[],this.bt=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var t,r;this._t=(null==(t=e.sessionRecording)?void 0:t.urlTriggers)||[],this.bt=(null==(r=e.sessionRecording)?void 0:r.urlBlocklist)||[]}wt(e){var t;return 0===this._t.length?ne:(null==(t=this._instance)?void 0:t.get_property(eC))===e?r9:r7}triggerStatus(e){var t=this.wt(e),r=t===r9?r9:t===r7?r7:ne;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:r}),r}checkUrlTriggerConditions(e,t,r){if(void 0!==o&&o.location.href){var n=o.location.href,i=this.urlBlocked,s=nt(n,this.bt);i&&s||(s&&!i?e():!s&&i&&t(),nt(n,this._t)&&r("url"))}}stop(){}}class no{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.yt=()=>{},this._instance=e}triggerStatus(){var e=r7;return D(this.linkedFlag)&&(e=ne),this.linkedFlagSeen&&(e=r9),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,t){var r;if(this.linkedFlag=(null==(r=e.sessionRecording)?void 0:r.linkedFlag)||null,!D(this.linkedFlag)&&!this.linkedFlagSeen){var n=$(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,i=$(this.linkedFlag)?null:this.linkedFlag.variant;this.yt=this._instance.onFeatureFlags((e,r)=>{var s=P(r)&&n in r&&(i?r[n]===i:!0===r[n]);s&&t(n,i),this.linkedFlagSeen=s})}}stop(){this.yt()}}class na{constructor(e){this.St=[],this._instance=e}onRemoteConfig(e){var t;this.St=(null==(t=e.sessionRecording)?void 0:t.eventTriggers)||[]}$t(e){var t;return 0===this.St.length?ne:(null==(t=this._instance)?void 0:t.get_property(eI))===e?r9:r7}triggerStatus(e){var t=this.$t(e),r=t===r9?r9:t===r7?r7:ne;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:r}),r}stop(){}}function nl(e){return e.isRecordingEnabled?r5:r2}function nu(e){if(!e.receivedDecide)return r5;if(!e.isRecordingEnabled)return r2;if(e.urlTriggerMatching.urlBlocked)return r8;var t=!0===e.isSampled,r=new nr([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId);return t?r3:r===r9?r4:r===r7?r5:!1===e.isSampled?r2:r4}function nc(e){if(!e.receivedDecide)return r5;if(!e.isRecordingEnabled)return r2;if(e.urlTriggerMatching.urlBlocked)return r8;var t=new nn([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId),r=t!==ne,n=U(e.isSampled);return r&&t===r7?r5:r&&t===ne||n&&!e.isSampled?r2:!0===e.isSampled?r3:r4}var nd="[SessionRecording]",nh=z(nd);function nf(){var e,t;return null==_||null==(e=_.__PosthogExtensions__)||null==(t=e.rrweb)?void 0:t.record}var np=[rl.MouseMove,rl.MouseInteraction,rl.Scroll,rl.ViewportResize,rl.Input,rl.TouchMove,rl.MediaInteraction,rl.Drag],ng=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function nm(e){return function(e,t){for(var r="",n=0;n<e.length;){var i=e[n++];i<128||t?r+=String.fromCharCode(i):i<224?r+=String.fromCharCode((31&i)<<6|63&e[n++]):i<240?r+=String.fromCharCode((15&i)<<12|(63&e[n++])<<6|63&e[n++]):r+=String.fromCharCode(55296|(i=((15&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536)>>10,56320|1023&i)}return r}(r0(r1(JSON.stringify(e))),!0)}function nv(e){return e.type===ra.Custom&&"sessionIdle"===e.data.tag}class n_{get sessionId(){return this.kt}get xt(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Et}get It(){if(!this._instance.sessionManager)throw Error(nd+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Pt(){var e,t;return this.Rt.triggerStatus(this.sessionId)===r7?6e4:null!==(e=null==(t=this._instance.config.session_recording)?void 0:t.full_snapshot_interval_millis)&&void 0!==e?e:3e5}get Tt(){var e=this._instance.get_property(eT);return U(e)?e:null}get Mt(){var e,t,r=null==(e=this.M)?void 0:e.data[(null==(t=this.M)?void 0:t.data.length)-1],{sessionStartTimestamp:n}=this.It.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-n:null}get Ct(){var e=!!this._instance.get_property(ev),t=!this._instance.config.disable_session_recording;return o&&e&&t}get Ot(){var e=!!this._instance.get_property(e_),t=this._instance.config.enable_recording_console_log;return null!=t?t:e}get Ft(){var e,t,r,n,i,s,o=this._instance.config.session_recording.captureCanvas,a=this._instance.get_property(ew),l=null!==(e=null!==(t=null==o?void 0:o.recordCanvas)&&void 0!==t?t:null==a?void 0:a.enabled)&&void 0!==e&&e,u=null!==(r=null!==(n=null==o?void 0:o.canvasFps)&&void 0!==n?n:null==a?void 0:a.fps)&&void 0!==r?r:4,c=null!==(i=null!==(s=null==o?void 0:o.canvasQuality)&&void 0!==s?s:null==a?void 0:a.quality)&&void 0!==i?i:.4;if("string"==typeof c){var d=parseFloat(c);c=isNaN(d)?.4:d}return{enabled:l,fps:r_(u,0,12,"canvas recording fps",4),quality:r_(c,0,1,"canvas recording quality",.4)}}get At(){var e,t,r=this._instance.get_property(ey),n={recordHeaders:null==(e=this._instance.config.session_recording)?void 0:e.recordHeaders,recordBody:null==(t=this._instance.config.session_recording)?void 0:t.recordBody},i=(null==n?void 0:n.recordHeaders)||(null==r?void 0:r.recordHeaders),s=(null==n?void 0:n.recordBody)||(null==r?void 0:r.recordBody),o=P(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,a=!!(U(o)?o:null==r?void 0:r.capturePerformance);return i||s||a?{recordHeaders:i,recordBody:s,recordPerformance:a}:void 0}get Dt(){var e,t,r,n,i,s,o=this._instance.get_property(eb),a={maskAllInputs:null==(e=this._instance.config.session_recording)?void 0:e.maskAllInputs,maskTextSelector:null==(t=this._instance.config.session_recording)?void 0:t.maskTextSelector,blockSelector:null==(r=this._instance.config.session_recording)?void 0:r.blockSelector},l=null!==(n=null==a?void 0:a.maskAllInputs)&&void 0!==n?n:null==o?void 0:o.maskAllInputs,u=null!==(i=null==a?void 0:a.maskTextSelector)&&void 0!==i?i:null==o?void 0:o.maskTextSelector,c=null!==(s=null==a?void 0:a.blockSelector)&&void 0!==s?s:null==o?void 0:o.blockSelector;return L(l)&&L(u)&&L(c)?void 0:{maskAllInputs:null==l||l,maskTextSelector:u,blockSelector:c}}get jt(){var e=this._instance.get_property(eS);return F(e)?e:null}get Lt(){var e=this._instance.get_property(ek);return F(e)?e:null}get status(){return this.Nt?this.zt({receivedDecide:this.Nt,isRecordingEnabled:this.Ct,isSampled:this.Tt,urlTriggerMatching:this.Ut,eventTriggerMatching:this.qt,linkedFlagMatching:this.Bt,sessionId:this.sessionId}):r5}constructor(e){if(this.zt=nl,this.Nt=!1,this.Ht=[],this.Wt="unknown",this.Gt=Date.now(),this.Rt=new ni,this.Jt=void 0,this.Vt=void 0,this.Kt=void 0,this.Yt=void 0,this.Xt=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.Qt=()=>{this.Zt()},this.ti=()=>{this.ii("browser offline",{})},this.ei=()=>{this.ii("browser online",{})},this.ri=()=>{if(null!=h&&h.visibilityState){var e="window "+h.visibilityState;this.ii(e,{})}},this._instance=e,this.Et=!1,this.si="/s/",this.ni=void 0,this.Nt=!1,!this._instance.sessionManager)throw nh.error("started without valid sessionManager"),Error(nd+" started without valid sessionManager. This is a bug.");if(this._instance.config.__preview_experimental_cookieless_mode)throw Error(nd+" cannot be used with __preview_experimental_cookieless_mode.");this.Bt=new no(this._instance),this.Ut=new ns(this._instance),this.qt=new na(this._instance);var{sessionId:t,windowId:r}=this.It.checkAndGetSessionAndWindowId();this.kt=t,this.oi=r,this.M=this.ai(),this.xt>=this.It.sessionTimeoutMs&&nh.warn("session_idle_threshold_ms ("+this.xt+") is greater than the session timeout ("+this.It.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.Ct?(this.li(e),ea(o,"beforeunload",this.Qt),ea(o,"offline",this.ti),ea(o,"online",this.ei),ea(o,"visibilitychange",this.ri),this.hi(),this.ui(),D(this.Jt)&&(this.Jt=this._instance.on("eventCaptured",e=>{try{if("$pageview"===e.event){var t=null!=e&&e.properties.$current_url?this.di(null==e?void 0:e.properties.$current_url):"";if(!t)return;this.ii("$pageview",{href:t})}}catch(e){nh.error("Could not add $pageview to rrweb session",e)}})),this.Vt||(this.Vt=this.It.onSessionId((e,t,r)=>{var n,i,s,o;r&&(this.ii("$session_id_change",{sessionId:e,windowId:t,changeReason:r}),null==(n=this._instance)||null==(i=n.persistence)||i.unregister(eI),null==(s=this._instance)||null==(o=s.persistence)||o.unregister(eC))}))):this.stopRecording()}stopRecording(){var e,t,r,n;this.Et&&this.ni&&(this.ni(),this.ni=void 0,this.Et=!1,null==o||o.removeEventListener("beforeunload",this.Qt),null==o||o.removeEventListener("offline",this.ti),null==o||o.removeEventListener("online",this.ei),null==o||o.removeEventListener("visibilitychange",this.ri),this.ai(),clearInterval(this.vi),null==(e=this.Jt)||e.call(this),this.Jt=void 0,null==(t=this.Xt)||t.call(this),this.Xt=void 0,null==(r=this.Vt)||r.call(this),this.Vt=void 0,null==(n=this.Yt)||n.call(this),this.Yt=void 0,this.qt.stop(),this.Ut.stop(),this.Bt.stop(),nh.info("stopped"))}ci(){var e;null==(e=this._instance.persistence)||e.unregister(eT)}fi(e){var t,r=this.kt!==e,n=this.jt;if(F(n)){var i=this.Tt,s=r||!U(i),o=s?function(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return Math.abs(t)}(e)%100<r_(100*n,0,100):i;s&&(o?this.pi(r3):nh.warn("Sample rate ("+n+") has determined that this sessionId ("+e+") will not be sent to the server."),this.ii("samplingDecisionMade",{sampleRate:n,isSampled:o})),null==(t=this._instance.persistence)||t.register({[eT]:o})}else this.ci()}onRemoteConfig(e){var t,r,n,i;this.ii("$remote_config_received",e),this.gi(e),null!=(t=e.sessionRecording)&&t.endpoint&&(this.si=null==(i=e.sessionRecording)?void 0:i.endpoint),this.hi(),"any"===(null==(r=e.sessionRecording)?void 0:r.triggerMatchType)?(this.zt=nu,this.Rt=new nr([this.qt,this.Ut])):(this.zt=nc,this.Rt=new nn([this.qt,this.Ut])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:null==(n=e.sessionRecording)?void 0:n.triggerMatchType}),this.Ut.onRemoteConfig(e),this.qt.onRemoteConfig(e),this.Bt.onRemoteConfig(e,(e,t)=>{this.pi("linked_flag_matched",{flag:e,variant:t})}),this.Nt=!0,this.startIfEnabledOrStop()}hi(){F(this.jt)&&D(this.Yt)&&(this.Yt=this.It.onSessionId(e=>{this.fi(e)}))}gi(e){if(this._instance.persistence){var t,r=this._instance.persistence,n=()=>{var t,n,i,s,o,a,l,u,c,d=null==(t=e.sessionRecording)?void 0:t.sampleRate,h=D(d)?null:parseFloat(d);D(h)&&this.ci();var f=null==(n=e.sessionRecording)?void 0:n.minimumDurationMilliseconds;r.register({[ev]:!!e.sessionRecording,[e_]:null==(i=e.sessionRecording)?void 0:i.consoleLogRecordingEnabled,[ey]:X({capturePerformance:e.capturePerformance},null==(s=e.sessionRecording)?void 0:s.networkPayloadCapture),[eb]:null==(o=e.sessionRecording)?void 0:o.masking,[ew]:{enabled:null==(a=e.sessionRecording)?void 0:a.recordCanvas,fps:null==(l=e.sessionRecording)?void 0:l.canvasFps,quality:null==(u=e.sessionRecording)?void 0:u.canvasQuality},[eS]:h,[ek]:L(f)?null:f,[eE]:null==(c=e.sessionRecording)?void 0:c.scriptConfig})};n(),null==(t=this.Kt)||t.call(this),this.Kt=this.It.onSessionId(n)}}log(e,t){var r;void 0===t&&(t="log"),null==(r=this._instance.sessionRecording)||r.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:t,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}li(e){if(!L(Object.assign)&&!L(Array.from)&&!(this.Et||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var t;(this.Et=!0,this.It.checkAndGetSessionAndWindowId(),nf())?this.mi():null==(t=_.__PosthogExtensions__)||null==t.loadExternalDependency||t.loadExternalDependency(this._instance,this.bi,e=>{if(e)return nh.error("could not load recorder",e);this.mi()}),nh.info("starting"),this.status===r4&&this.pi(e||"recording_initialized")}}get bi(){var e,t,r;return(null==(e=this._instance)||null==(t=e.persistence)||null==(r=t.get_property(eE))?void 0:r.script)||"recorder"}wi(e){var t;return 3===e.type&&-1!==np.indexOf(null==(t=e.data)?void 0:t.source)}yi(e){var t=this.wi(e);t||this.Wt||e.timestamp-this.Gt>this.xt&&(this.Wt=!0,clearInterval(this.vi),this.ii("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.Gt,threshold:this.xt,bufferLength:this.M.data.length,bufferSize:this.M.size}),this.Zt());var r=!1;if(t&&(this.Gt=e.timestamp,this.Wt)){var n="unknown"===this.Wt;this.Wt=!1,n||(this.ii("sessionNoLongerIdle",{reason:"user activity",type:e.type}),r=!0)}if(!this.Wt){var{windowId:i,sessionId:s}=this.It.checkAndGetSessionAndWindowId(!t,e.timestamp),o=this.kt!==s,a=this.oi!==i;this.oi=i,this.kt=s,o||a?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this.Si()}}$i(e){try{return e.rrwebMethod(),!0}catch(t){return this.Ht.length<10?this.Ht.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):nh.warn("could not emit queued rrweb event.",t,e),!1}}ii(e,t){return this.$i(ng(()=>nf().addCustomEvent(e,t)))}ki(){return this.$i(ng(()=>nf().takeFullSnapshot()))}mi(){var e,t,r,n,i={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};for(var[s,o]of Object.entries(this._instance.config.session_recording||{}))s in i&&("maskInputOptions"===s?i.maskInputOptions=X({password:!0},o):i[s]=o);this.Ft&&this.Ft.enabled&&(i.recordCanvas=!0,i.sampling={canvas:this.Ft.fps},i.dataURLOptions={type:"image/webp",quality:this.Ft.quality}),this.Dt&&(i.maskAllInputs=null===(t=this.Dt.maskAllInputs)||void 0===t||t,i.maskTextSelector=null!==(r=this.Dt.maskTextSelector)&&void 0!==r?r:void 0,i.blockSelector=null!==(n=this.Dt.blockSelector)&&void 0!==n?n:void 0);var a=nf();if(a){this.xi=null!==(e=this.xi)&&void 0!==e?e:new ry(a,{refillRate:this._instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this._instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(e,t)=>{var r="Too many mutations on node '"+e+"'. Rate limiting. This could be due to SVG animations or something similar";nh.info(r,{node:t}),this.log(nd+" "+r,"warn")}});var l=this.Ei();this.ni=a(X({emit:e=>{this.onRRwebEmit(e)},plugins:l},i)),this.Gt=Date.now(),this.Wt=U(this.Wt)?this.Wt:"unknown",this.ii("$session_options",{sessionRecordingOptions:i,activePlugins:l.map(e=>null==e?void 0:e.name)}),this.ii("$posthog_config",{config:this._instance.config})}else nh.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Si(){if(this.vi&&clearInterval(this.vi),!0!==this.Wt){var e=this.Pt;e&&(this.vi=setInterval(()=>{this.ki()},e))}}Ei(){var e,t,r,n,i=[],s=null==(e=_.__PosthogExtensions__)||null==(t=e.rrwebPlugins)?void 0:t.getRecordConsolePlugin;s&&this.Ot&&i.push(s());var o=null==(r=_.__PosthogExtensions__)||null==(n=r.rrwebPlugins)?void 0:n.getRecordNetworkPlugin;return this.At&&A(o)&&(!tl.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?i.push(o(rv(this._instance.config,this.At))):nh.info("NetworkCapture not started because we are on localhost.")),i}onRRwebEmit(e){var t;if(this.Ii(),e&&P(e)){if(e.type===ra.Meta){var r=this.di(e.data.href);if(this.Pi=r,!r)return;e.data.href=r}else this.Ri();if(this.Ut.checkUrlTriggerConditions(()=>this.Ti(),()=>this.Mi(),e=>this.Ci(e)),!this.Ut.urlBlocked||e.type===ra.Custom&&"recording paused"===e.data.tag){e.type===ra.FullSnapshot&&this.Si(),e.type===ra.FullSnapshot&&this.Nt&&this.Rt.triggerStatus(this.sessionId)===r7&&this.ai();var n=this.xi?this.xi.throttleMutations(e):e;if(n){var i=function(e){if(e&&P(e)&&6===e.type&&P(e.data)&&"rrweb/console@1"===e.data.plugin){e.data.payload.payload.length>10&&(e.data.payload.payload=e.data.payload.payload.slice(0,10),e.data.payload.payload.push("...[truncated]"));for(var t=[],r=0;r<e.data.payload.payload.length;r++)e.data.payload.payload[r]&&e.data.payload.payload[r].length>2e3?t.push(e.data.payload.payload[r].slice(0,2e3)+"...[truncated]"):t.push(e.data.payload.payload[r]);return e.data.payload.payload=t,e}return e}(n);if(this.yi(i),!0!==this.Wt||nv(i)){if(nv(i)){var s=i.data.payload;if(s){var o=s.lastActivityTimestamp,a=s.threshold;i.timestamp=o+a}}var l=null===(t=this._instance.config.session_recording.compress_events)||void 0===t||t?function(e){if(1024>ro(e))return e;try{if(e.type===ra.FullSnapshot)return X({},e,{data:nm(e.data),cv:"2024-10"});if(e.type===ra.IncrementalSnapshot&&e.data.source===rl.Mutation)return X({},e,{cv:"2024-10",data:X({},e.data,{texts:nm(e.data.texts),attributes:nm(e.data.attributes),removes:nm(e.data.removes),adds:nm(e.data.adds)})});if(e.type===ra.IncrementalSnapshot&&e.data.source===rl.StyleSheetRule)return X({},e,{cv:"2024-10",data:X({},e.data,{adds:e.data.adds?nm(e.data.adds):void 0,removes:e.data.removes?nm(e.data.removes):void 0})})}catch(e){nh.error("could not compress event - will use uncompressed event",e)}return e}(i):i,u={$snapshot_bytes:ro(l),$snapshot_data:l,$session_id:this.kt,$window_id:this.oi};this.status!==r2?this.Oi(u):this.ai()}}}}}Ri(){if(!this._instance.config.capture_pageview&&o){var e=this.di(o.location.href);this.Pi!==e&&(this.ii("$url_changed",{href:e}),this.Pi=e)}}Ii(){if(this.Ht.length){var e=[...this.Ht];this.Ht=[],e.forEach(e=>{Date.now()-e.enqueuedAt<=2e3&&this.$i(e)})}}di(e){var t=this._instance.config.session_recording;if(t.maskNetworkRequestFn){var r,n={url:e};return null==(r=n=t.maskNetworkRequestFn(n))?void 0:r.url}return e}ai(){return this.M={size:0,data:[],sessionId:this.kt,windowId:this.oi},this.M}Zt(){this.Fi&&(clearTimeout(this.Fi),this.Fi=void 0);var e=this.Lt,t=this.Mt,r=F(t)&&t>=0,n=F(e)&&r&&t<e;return this.status===r5||this.status===r8||this.status===r2||n?(this.Fi=setTimeout(()=>{this.Zt()},2e3),this.M):(this.M.data.length>0&&(function e(t,r){if(void 0===r&&(r=6606028.8),t.size>=r&&t.data.length>1){var n=Math.floor(t.data.length/2),i=t.data.slice(0,n),s=t.data.slice(n);return[e({size:ro(i),data:i,sessionId:t.sessionId,windowId:t.windowId}),e({size:ro(s),data:s,sessionId:t.sessionId,windowId:t.windowId})].flatMap(e=>e)}return[t]})(this.M).forEach(e=>{this.Ai({$snapshot_bytes:e.size,$snapshot_data:e.data,$session_id:e.sessionId,$window_id:e.windowId,$lib:"web",$lib_version:y.LIB_VERSION})}),this.ai())}Oi(e){var t,r=2+((null==(t=this.M)?void 0:t.data.length)||0);!this.Wt&&(this.M.size+e.$snapshot_bytes+r>943718.4||this.M.sessionId!==this.kt)&&(this.M=this.Zt()),this.M.size+=e.$snapshot_bytes,this.M.data.push(e.$snapshot_data),this.Fi||this.Wt||(this.Fi=setTimeout(()=>{this.Zt()},2e3))}Ai(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.si),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}Ci(e){var t,r;this.Rt.triggerStatus(this.sessionId)===r7&&(null==(t=this._instance)||null==(r=t.persistence)||r.register({["url"===e?eC:eI]:this.kt}),this.Zt(),this.pi(e+"_trigger_matched"))}Ti(){this.Ut.urlBlocked||(this.Ut.urlBlocked=!0,clearInterval(this.vi),nh.info("recording paused due to URL blocker"),this.ii("recording paused",{reason:"url blocker"}))}Mi(){this.Ut.urlBlocked&&(this.Ut.urlBlocked=!1,this.ki(),this.Si(),this.ii("recording resumed",{reason:"left blocked url"}),nh.info("recording resumed"))}ui(){0!==this.qt.St.length&&D(this.Xt)&&(this.Xt=this._instance.on("eventCaptured",e=>{try{this.qt.St.includes(e.event)&&this.Ci("event")}catch(e){nh.error("Could not activate event trigger",e)}}))}overrideLinkedFlag(){this.Bt.linkedFlagSeen=!0,this.ki(),this.pi("linked_flag_overridden")}overrideSampling(){var e;null==(e=this._instance.persistence)||e.register({[eT]:!0}),this.ki(),this.pi("sampling_overridden")}overrideTrigger(e){this.Ci(e)}pi(e,t){this._instance.register_for_session({$session_recording_start_reason:e}),nh.info(e.replace("_"," "),t),k(["recording_initialized","session_id_changed"],e)||this.ii(e,t)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.It.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.M.data.length,$sdk_debug_replay_internal_buffer_size:this.M.size,$sdk_debug_current_session_duration:this.Mt,$sdk_debug_session_start:e}}}var ny=z("[SegmentIntegration]"),nb="posthog-js";function nw(e,t){var{organization:r,projectId:n,prefix:i,severityAllowList:s=["error"]}=void 0===t?{}:t;return t=>{if(!("*"===s||s.includes(t.level))||!e.__loaded)return t;t.tags||(t.tags={});var o,a,l,u,c,d=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());t.tags["PostHog Person URL"]=d,e.sessionRecordingStarted()&&(t.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var h=(null==(o=t.exception)?void 0:o.values)||[],f=h.map(e=>X({},e,{stacktrace:e.stacktrace?X({},e.stacktrace,{type:"raw",frames:(e.stacktrace.frames||[]).map(e=>X({},e,{platform:"web:javascript"}))}):void 0})),p={$exception_message:(null==(a=h[0])?void 0:a.value)||t.message,$exception_type:null==(l=h[0])?void 0:l.type,$exception_personURL:d,$exception_level:t.level,$exception_list:f,$sentry_event_id:t.event_id,$sentry_exception:t.exception,$sentry_exception_message:(null==(u=h[0])?void 0:u.value)||t.message,$sentry_exception_type:null==(c=h[0])?void 0:c.type,$sentry_tags:t.tags};return r&&n&&(p.$sentry_url=(i||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+t.event_id),e.exceptions.sendExceptionEvent(p),t}}class nS{constructor(e,t,r,n,i){this.name=nb,this.setupOnce=function(s){s(nw(e,{organization:t,projectId:r,prefix:n,severityAllowList:i}))}}}var nk,nE=null!=o&&o.location?tf(o.location.hash,"__posthog")||tf(location.hash,"state"):null,nx="_postHogToolbarParams",nT=z("[Toolbar]");(iN=nk||(nk={}))[iN.UNINITIALIZED=0]="UNINITIALIZED",iN[iN.LOADING=1]="LOADING",iN[iN.LOADED=2]="LOADED";class nC{constructor(e){this.instance=e}Di(e){_.ph_toolbar_state=e}ji(){var e;return null!==(e=_.ph_toolbar_state)&&void 0!==e?e:nk.UNINITIALIZED}maybeLoadToolbar(e,t,r){var n,i;if(void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===r&&(r=void 0),!o||!h)return!1;e=null!==(n=e)&&void 0!==n?n:o.location,r=null!==(i=r)&&void 0!==i?i:o.history;try{if(!t){try{o.localStorage.setItem("test","test"),o.localStorage.removeItem("test")}catch(e){return!1}t=null==o?void 0:o.localStorage}var s,a=nE||tf(e.hash,"__posthog")||tf(e.hash,"state"),l=a?er(()=>JSON.parse(atob(decodeURIComponent(a))))||er(()=>JSON.parse(decodeURIComponent(a))):null;return l&&"ph_authorize"===l.action?((s=l).source="url",s&&Object.keys(s).length>0&&(l.desiredHash?e.hash=l.desiredHash:r?r.replaceState(r.state,"",e.pathname+e.search):e.hash="")):((s=JSON.parse(t.getItem(nx)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch(e){return!1}}Li(e){var t=_.ph_load_toolbar||_.ph_load_editor;!D(t)&&A(t)?t(e,this.instance):nT.warn("No toolbar load function found")}loadToolbar(e){var t,r=!(null==h||!h.getElementById(eq));if(!o||r)return!1;var n="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,i=X({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});return(o.localStorage.setItem(nx,JSON.stringify(X({},i,{source:void 0}))),this.ji()===nk.LOADED)?this.Li(i):this.ji()===nk.UNINITIALIZED&&(this.Di(nk.LOADING),null==(t=_.__PosthogExtensions__)||null==t.loadExternalDependency||t.loadExternalDependency(this.instance,"toolbar",e=>{if(e)return nT.error("[Toolbar] Failed to load",e),void this.Di(nk.UNINITIALIZED);this.Di(nk.LOADED),this.Li(i)}),ea(o,"turbolinks:load",()=>{this.Di(nk.UNINITIALIZED),this.loadToolbar(i)})),!0}Ni(e){return this.loadToolbar(e)}maybeLoadEditor(e,t,r){return void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===r&&(r=void 0),this.maybeLoadToolbar(e,t,r)}}var nI=z("[TracingHeaders]");class nO{constructor(e){this.zi=void 0,this.Ui=void 0,this.V=()=>{var e,t,r,n;L(this.zi)&&(null==(e=_.__PosthogExtensions__)||null==(t=e.tracingHeadersPatchFns)||t._patchXHR(this._instance.sessionManager)),L(this.Ui)&&(null==(r=_.__PosthogExtensions__)||null==(n=r.tracingHeadersPatchFns)||n._patchFetch(this._instance.sessionManager))},this._instance=e}G(e){var t,r;null!=(t=_.__PosthogExtensions__)&&t.tracingHeadersPatchFns&&e(),null==(r=_.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,"tracing-headers",t=>{if(t)return nI.error("failed to load script",t);e()})}startIfEnabledOrStop(){var e,t;this._instance.config.__add_tracing_headers?this.G(this.V):(null==(e=this.zi)||e.call(this),null==(t=this.Ui)||t.call(this),this.zi=void 0,this.Ui=void 0)}}var nR=z("[Web Vitals]");class nA{constructor(e){var t;this.qi=!1,this.i=!1,this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Bi=()=>{clearTimeout(this.Hi),0!==this.M.metrics.length&&(this._instance.capture("$web_vitals",this.M.metrics.reduce((e,t)=>X({},e,{["$web_vitals_"+t.name+"_event"]:X({},t),["$web_vitals_"+t.name+"_value"]:t.value}),{})),this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Wi=e=>{var t,r=null==(t=this._instance.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0);if(L(r))nR.error("Could not read session ID. Dropping metrics!");else{this.M=this.M||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var n=this.Gi();L(n)||(D(null==e?void 0:e.name)||D(null==e?void 0:e.value)?nR.error("Invalid metric received",e):this.Ji&&e.value>=this.Ji?nR.error("Ignoring metric with value >= "+this.Ji,e):(this.M.url!==n&&(this.Bi(),this.Hi=setTimeout(this.Bi,this.flushToCaptureTimeoutMs)),L(this.M.url)&&(this.M.url=n),this.M.firstMetricTimestamp=L(this.M.firstMetricTimestamp)?Date.now():this.M.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.M.metrics.push(X({},e,{$current_url:n,$session_id:r.sessionId,$window_id:r.windowId,timestamp:Date.now()})),this.M.metrics.length===this.allowedMetrics.length&&this.Bi()))}},this.V=()=>{var e,t,r,n,i=_.__PosthogExtensions__;L(i)||L(i.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:r,onINP:n}=i.postHogWebVitalsCallbacks),e&&t&&r&&n?(this.allowedMetrics.indexOf("LCP")>-1&&e(this.Wi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&t(this.Wi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&r(this.Wi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&n(this.Wi.bind(this)),this.i=!0):nR.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.qi=!(null==(t=this._instance.persistence)||!t.props[ep]),this.startIfEnabled()}get allowedMetrics(){var e,t,r=P(this._instance.config.capture_performance)?null==(e=this._instance.config.capture_performance)?void 0:e.web_vitals_allowed_metrics:void 0;return L(r)?(null==(t=this._instance.persistence)?void 0:t.props[em])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(P(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ji(){var e=P(this._instance.config.capture_performance)&&F(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:9e5;return 0<e&&e<=6e4?9e5:e}get isEnabled(){var e=null==f?void 0:f.protocol;if("http:"!==e&&"https:"!==e)return nR.info("Web Vitals are disabled on non-http/https protocols"),!1;var t=P(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:U(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return U(t)?t:this.qi}startIfEnabled(){this.isEnabled&&!this.i&&(nR.info("enabled, starting..."),this.G(this.V))}onRemoteConfig(e){var t=P(e.capturePerformance)&&!!e.capturePerformance.web_vitals,r=P(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[ep]:t}),this._instance.persistence.register({[em]:r})),this.qi=t,this.startIfEnabled()}G(e){var t,r;null!=(t=_.__PosthogExtensions__)&&t.postHogWebVitalsCallbacks&&e(),null==(r=_.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,"web-vitals",t=>{t?nR.error("failed to load script",t):e()})}Gi(){var e=o?o.location.href:void 0;return e||nR.error("Could not determine current URL"),e}}var nP=z("[Heatmaps]");function nM(e){return P(e)&&"clientX"in e&&"clientY"in e&&F(e.clientX)&&F(e.clientY)}class nL{constructor(e){var t;this.rageclicks=new ta,this.qi=!1,this.i=!1,this.Vi=null,this.instance=e,this.qi=!(null==(t=this.instance.persistence)||!t.props[eh])}get flushIntervalMilliseconds(){var e=5e3;return P(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return L(this.instance.config.capture_heatmaps)?L(this.instance.config.enable_heatmaps)?this.qi:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled)this.i||(nP.info("starting..."),this.Ki(),this.Vi=setInterval(this.Yi.bind(this),this.flushIntervalMilliseconds));else{var e,t;clearInterval(null!==(e=this.Vi)&&void 0!==e?e:void 0),null==(t=this.Xi)||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[eh]:t}),this.qi=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.M;return this.M=void 0,e}Qi(e){this.Zi(e.originalEvent,"deadclick")}Ki(){o&&h&&(ea(o,"beforeunload",this.Yi.bind(this)),ea(h,"click",e=>this.Zi(e||(null==o?void 0:o.event)),{capture:!0}),ea(h,"mousemove",e=>this.te(e||(null==o?void 0:o.event)),{capture:!0}),this.Xi=new tW(this.instance,tU,this.Qi.bind(this)),this.Xi.startIfEnabled(),this.i=!0)}ie(e,t){var r=this.instance.scrollManager.scrollY(),n=this.instance.scrollManager.scrollX(),i=this.instance.scrollManager.scrollElement(),s=function(e,t,r){for(var n=e;n&&eX(n)&&!eV(n,"body")&&n!==r;){if(k(t,null==o?void 0:o.getComputedStyle(n).position))return!0;n=e5(n)}return!1}(e3(e),["fixed","sticky"],i);return{x:e.clientX+(s?0:n),y:e.clientY+(s?0:r),target_fixed:s,type:t}}Zi(e,t){var r;if(void 0===t&&(t="click"),!eJ(e.target)&&nM(e)){var n=this.ie(e,t);null!=(r=this.rageclicks)&&r.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this.ee(X({},n,{type:"rageclick"})),this.ee(n)}}te(e){!eJ(e.target)&&nM(e)&&(clearTimeout(this.re),this.re=setTimeout(()=>{this.ee(this.ie(e,"mousemove"))},500))}ee(e){if(o){var t=o.location.href;this.M=this.M||{},this.M[t]||(this.M[t]=[]),this.M[t].push(e)}}Yi(){this.M&&!M(this.M)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class n${constructor(e){this._instance=e}doPageView(e,t){var r,n=this.se(e,t);return this.ne={pathname:null!==(r=null==o?void 0:o.location.pathname)&&void 0!==r?r:"",pageViewId:t,timestamp:e},this._instance.scrollManager.resetContext(),n}doPageLeave(e){var t;return this.se(e,null==(t=this.ne)?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:null==(e=this.ne)?void 0:e.pageViewId}}se(e,t){var r=this.ne;if(!r)return{$pageview_id:t};var n={$pageview_id:t,$prev_pageview_id:r.pageViewId},i=this._instance.scrollManager.getContext();if(i&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:s,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:u,maxContentY:c}=i;if(!(L(s)||L(o)||L(a)||L(l)||L(u)||L(c))){s=Math.ceil(s),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c);var d=s<=1?1:r_(o/s,0,1),h=s<=1?1:r_(a/s,0,1),f=l<=1?1:r_(u/l,0,1),p=l<=1?1:r_(c/l,0,1);n=Q(n,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:h,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:f,$prev_pageview_max_content:c,$prev_pageview_max_content_percentage:p})}}return r.pathname&&(n.$prev_pageview_pathname=r.pathname),r.timestamp&&(n.$prev_pageview_duration=(e.getTime()-r.timestamp.getTime())/1e3),n}}class nN{constructor(e){this._instance=e}sendExceptionEvent(e){this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"})}}var nj="Mobile",nD="Android",nF="Tablet",nU=nD+" "+nF,nB="iPad",nW="Apple",nH=nW+" Watch",nq="Safari",nz="BlackBerry",nG="Samsung",nJ=nG+"Browser",nX=nG+" Internet",nV="Chrome",nK=nV+" OS",nY=nV+" iOS",nZ="Internet Explorer",nQ=nZ+" "+nj,n0="Opera",n1=n0+" Mini",n2="Edge",n3="Microsoft "+n2,n4="Firefox",n5=n4+" iOS",n8="Nintendo",n6="PlayStation",n9="Xbox",n7=nD+" "+nj,ie=nj+" "+nq,it="Windows",ir=it+" Phone",ii="Nokia",is="Ouya",io="Generic",ia=io+" "+nj.toLowerCase(),il=io+" "+nF.toLowerCase(),iu="Konqueror",ic="(\\d+(\\.\\d+)?)",id=RegExp("Version/"+ic),ih=RegExp(n9,"i"),ip=RegExp(n6+" \\w+","i"),ig=RegExp(n8+" \\w+","i"),im=RegExp(nz+"|PlayBook|BB10","i"),iv={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},i_=(e,t)=>t&&k(t,nW)||k(e,nq)&&!k(e,nV)&&!k(e,nD),iy=function(e,t){return t=t||"",k(e," OPR/")&&k(e,"Mini")?n1:k(e," OPR/")?n0:im.test(e)?nz:k(e,"IE"+nj)||k(e,"WPDesktop")?nQ:k(e,nJ)?nX:k(e,n2)||k(e,"Edg/")?n3:k(e,"FBIOS")?"Facebook "+nj:k(e,"UCWEB")||k(e,"UCBrowser")?"UC Browser":k(e,"CriOS")?nY:k(e,"CrMo")||k(e,nV)?nV:k(e,nD)&&k(e,nq)?n7:k(e,"FxiOS")?n5:k(e.toLowerCase(),iu.toLowerCase())?iu:i_(e,t)?k(e,nj)?ie:nq:k(e,n4)?n4:k(e,"MSIE")||k(e,"Trident/")?nZ:k(e,"Gecko")?n4:""},ib={[nQ]:[RegExp("rv:"+ic)],[n3]:[RegExp(n2+"?\\/"+ic)],[nV]:[RegExp("("+nV+"|CrMo)\\/"+ic)],[nY]:[RegExp("CriOS\\/"+ic)],"UC Browser":[RegExp("(UCBrowser|UCWEB)\\/"+ic)],[nq]:[id],[ie]:[id],[n0]:[RegExp("(Opera|OPR)\\/"+ic)],[n4]:[RegExp(n4+"\\/"+ic)],[n5]:[RegExp("FxiOS\\/"+ic)],[iu]:[RegExp("Konqueror[:/]?"+ic,"i")],[nz]:[RegExp(nz+" "+ic),id],[n7]:[RegExp("android\\s"+ic,"i")],[nX]:[RegExp(nJ+"\\/"+ic)],[nZ]:[RegExp("(rv:|MSIE )"+ic)],Mozilla:[RegExp("rv:"+ic)]},iw=function(e,t){var r=ib[iy(e,t)];if(L(r))return null;for(var n=0;n<r.length;n++){var i=r[n],s=e.match(i);if(s)return parseFloat(s[s.length-2])}return null},iS=[[RegExp(n9+"; "+n9+" (.*?)[);]","i"),e=>[n9,e&&e[1]||""]],[RegExp(n8,"i"),[n8,""]],[RegExp(n6,"i"),[n6,""]],[im,[nz,""]],[RegExp(it,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[ir,""];if(new RegExp(nj).test(t)&&!/IEMobile\b/.test(t))return[it+" "+nj,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=iv[r[1]]||"";return/arm/i.test(t)&&(n="RT"),[it,n]}return[it,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>e&&e[3]?["iOS",[e[3],e[4],e[5]||"0"].join(".")]:["iOS",""]],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=L(e[2])?e[3]:e[2]),["watchOS",t]}],[RegExp("("+nD+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+nD+")","i"),e=>e&&e[2]?[nD,[e[2],e[3],e[4]||"0"].join(".")]:[nD,""]],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[nK,""]],[/Linux|debian/i,["Linux",""]]],ik=function(e){return ig.test(e)?n8:ip.test(e)?n6:ih.test(e)?n9:RegExp(is,"i").test(e)?is:RegExp("("+ir+"|WPDesktop)","i").test(e)?ir:/iPad/.test(e)?nB:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?nH:im.test(e)?nz:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":RegExp(ii,"i").test(e)?ii:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(nj).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?nD:nU:nD:RegExp("(pda|"+nj+")","i").test(e)?ia:RegExp(nF,"i").test(e)&&!RegExp(nF+" pc","i").test(e)?il:""},iE="https?://(.*)",ix=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],iT=ee(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],ix),iC="<masked>";function iI(e,t,r){if(!h)return{};var n=t?ee([],ix,r||[]):[];return iO(th(h.URL,n,iC),e)}function iO(e,t){var r=iT.concat(t||[]),n={};return Z(r,function(t){var r=td(e,t);n[t]=r||null}),n}function iR(e){var t=e?0===e.search(iE+"google.([^/?]*)")?"google":0===e.search(iE+"bing.com")?"bing":0===e.search(iE+"yahoo.com")?"yahoo":0===e.search(iE+"duckduckgo.com")?"duckduckgo":null:null,r={};if(!j(t)){r.$search_engine=t;var n=h?td(h.referrer,"yahoo"!=t?"q":"p"):"";n.length&&(r.ph_keyword=n)}return r}function iA(){return navigator.language||navigator.userLanguage}function iP(){return(null==h?void 0:h.referrer)||"$direct"}function iM(e,t){var r=e?ee([],ix,t||[]):[],n=null==f?void 0:f.href.substring(0,1e3);return{r:iP().substring(0,1e3),u:n?th(n,r,iC):void 0}}function iL(e){var t,{r:r,u:n}=e,i={$referrer:r,$referring_domain:null==r?void 0:"$direct"==r?"$direct":null==(t=tu(r))?void 0:t.host};if(n){i.$current_url=n;var s=tu(n);i.$host=null==s?void 0:s.host,i.$pathname=null==s?void 0:s.pathname,Q(i,iO(n))}return r&&Q(i,iR(r)),i}function i$(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}}var iN,ij,iD=z("[FeatureFlags]"),iF="$active_feature_flags",iU="$override_feature_flags",iB="$feature_flag_payloads",iW="$override_feature_flag_payloads",iH="$feature_flag_request_id",iq=e=>{var t={};for(var[r,n]of et(e||{}))n&&(t[r]=n);return t},iz=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(e=>{var r;return[e,null!==(r=t[e].variant)&&void 0!==r?r:t[e].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(e=>t[e].enabled).filter(e=>{var r;return null==(r=t[e].metadata)?void 0:r.payload}).map(e=>{var r;return[e,null==(r=t[e].metadata)?void 0:r.payload]}))):iD.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e};(sf=ij||(ij={})).FeatureFlags="feature_flags",sf.Recordings="recordings";class iG{constructor(e){this.oe=!1,this.ae=!1,this.le=!1,this.he=!1,this.ue=!1,this.de=!1,this.ve=!1,this._instance=e,this.featureFlagEventHandlers=[]}decide(){if(this._instance.config.__preview_remote_config)this.de=!0;else{var e=!this.ce&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.fe({disableFlags:e})}}get hasLoadedFlags(){return this.ae}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(eA),t=this._instance.get_property(iU),r=this._instance.get_property(iW);if(!r&&!t)return e||{};var n=Q({},e||{});for(var i of[...new Set([...Object.keys(r||{}),...Object.keys(t||{})])]){var s,o,a=n[i],l=null==t?void 0:t[i],u=L(l)?null!==(s=null==a?void 0:a.enabled)&&void 0!==s&&s:!!l,c=L(l)?a.variant:"string"==typeof l?l:void 0,d=null==r?void 0:r[i],h=X({},a,{enabled:u,variant:u?null!=c?c:null==a?void 0:a.variant:void 0});u!==(null==a?void 0:a.enabled)&&(h.original_enabled=null==a?void 0:a.enabled),c!==(null==a?void 0:a.variant)&&(h.original_variant=null==a?void 0:a.variant),d&&(h.metadata=X({},null==a?void 0:a.metadata,{payload:d,original_payload:null==a||null==(o=a.metadata)?void 0:o.payload})),n[i]=h}return this.oe||(iD.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:r,finalDetails:n}),this.oe=!0),n}getFlagVariants(){var e=this._instance.get_property(eO),t=this._instance.get_property(iU);if(!t)return e||{};for(var r=Q({},e),n=Object.keys(t),i=0;i<n.length;i++)r[n[i]]=t[n[i]];return this.oe||(iD.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:r}),this.oe=!0),r}getFlagPayloads(){var e=this._instance.get_property(iB),t=this._instance.get_property(iW);if(!t)return e||{};for(var r=Q({},e||{}),n=Object.keys(t),i=0;i<n.length;i++)r[n[i]]=t[n[i]];return this.oe||(iD.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:t,finalPayloads:r}),this.oe=!0),r}reloadFeatureFlags(){this.he||this._instance.config.advanced_disable_feature_flags||this.ce||(this.ce=setTimeout(()=>{this.fe()},5))}pe(){clearTimeout(this.ce),this.ce=void 0}ensureFlagsLoaded(){this.ae||this.le||this.ce||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.he=e}fe(e){var t;if(this.pe(),!this._instance.config.advanced_disable_decide){if(this.le)this.ue=!0;else{var r={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:X({},(null==(t=this._instance.persistence)?void 0:t.get_initial_props())||{},this._instance.get_property(eP)||{}),group_properties:this._instance.get_property(eM)};(null!=e&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0);var n=this._instance.config.__preview_flags_v2&&this._instance.config.__preview_remote_config;n&&(r.timezone=i$()),this.le=!0,this._instance.ge({method:"POST",url:this._instance.requestRouter.endpointFor("api",n?"/flags/?v=2":"/decide/?v=4"),data:r,compression:this._instance.config.disable_compression?void 0:s.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var t,n,i,s=!0;200===e.statusCode&&(this.ue||(this.$anon_distinct_id=void 0),s=!1),this.le=!1,this.de||(this.de=!0,this._instance._e(null!==(i=e.json)&&void 0!==i?i:{})),r.disable_flags&&!this.ue||(this.ve=!s,e.json&&null!=(t=e.json.quotaLimited)&&t.includes(ij.FeatureFlags)?iD.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(this.receivedFeatureFlags(null!==(n=e.json)&&void 0!==n?n:{},s),this.ue&&(this.ue=!1,this.fe())))}})}}}getFeatureFlag(e,t){if(void 0===t&&(t={}),this.ae||this.getFlags()&&this.getFlags().length>0){var r=this.getFlagVariants()[e],n=""+r,i=this._instance.get_property(iH)||void 0,s=this._instance.get_property(eN)||{};if((t.send_event||!("send_event"in t))&&(!(e in s)||!s[e].includes(n))){R(s[e])?s[e].push(n):s[e]=[n],null==(l=this._instance.persistence)||l.register({[eN]:s});var o=this.getFeatureFlagDetails(e),a={$feature_flag:e,$feature_flag_response:r,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:i,$feature_flag_bootstrapped_response:(null==(u=this._instance.config.bootstrap)||null==(c=u.featureFlags)?void 0:c[e])||null,$feature_flag_bootstrapped_payload:(null==(d=this._instance.config.bootstrap)||null==(h=d.featureFlagPayloads)?void 0:h[e])||null,$used_bootstrap_value:!this.ve};L(null==o||null==(f=o.metadata)?void 0:f.version)||(a.$feature_flag_version=o.metadata.version);var l,u,c,d,h,f,p,g,m,v,_,y,b=null!==(p=null==o||null==(g=o.reason)?void 0:g.description)&&void 0!==p?p:null==o||null==(m=o.reason)?void 0:m.code;b&&(a.$feature_flag_reason=b),null!=o&&null!=(v=o.metadata)&&v.id&&(a.$feature_flag_id=o.metadata.id),L(null==o?void 0:o.original_variant)&&L(null==o?void 0:o.original_enabled)||(a.$feature_flag_original_response=L(o.original_variant)?o.original_enabled:o.original_variant),null!=o&&null!=(_=o.metadata)&&_.original_payload&&(a.$feature_flag_original_payload=null==o||null==(y=o.metadata)?void 0:y.original_payload),this._instance.capture("$feature_flag_called",a)}return r}iD.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,t){var r=this._instance.config.token;this._instance.ge({method:"POST",url:this._instance.requestRouter.endpointFor("api","/decide/?v=4"),data:{distinct_id:this._instance.get_distinct_id(),token:r},compression:this._instance.config.disable_compression?void 0:s.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:r=>{var n,i=null==(n=r.json)?void 0:n.featureFlagPayloads;t((null==i?void 0:i[e])||void 0)}})}isFeatureEnabled(e,t){if(void 0===t&&(t={}),this.ae||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);iD.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(t=>t!==e)}receivedFeatureFlags(e,t){if(this._instance.persistence){this.ae=!0;var r=this.getFlagVariants(),n=this.getFlagPayloads(),i=this.getFlagsWithDetails();!function(e,t,r,n,i){void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i={});var s=iz(e),o=s.flags,a=s.featureFlags,l=s.featureFlagPayloads;if(a){var u=e.requestId;if(R(a)){iD.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var c={};if(a)for(var d=0;d<a.length;d++)c[a[d]]=!0;t&&t.register({[iF]:a,[eO]:c})}else{var h=a,f=l,p=o;e.errorsWhileComputingFlags&&(h=X({},r,h),f=X({},n,f),p=X({},i,p)),t&&t.register(X({[iF]:Object.keys(iq(h)),[eO]:h||{},[iB]:f||{},[eA]:p||{}},u?{[iH]:u}:{}))}}}(e,this._instance.persistence,r,n,i),this.me(t)}}override(e,t){void 0===t&&(t=!1),iD.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return iD.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(!1===e)return this._instance.persistence.unregister(iU),this._instance.persistence.unregister(iW),void this.me();if(e&&"object"==typeof e&&("flags"in e||"payloads"in e)){var t;if(this.oe=!!(null!==(t=e.suppressWarning)&&void 0!==t&&t),"flags"in e){if(!1===e.flags)this._instance.persistence.unregister(iU);else if(e.flags){if(R(e.flags)){for(var r={},n=0;n<e.flags.length;n++)r[e.flags[n]]=!0;this._instance.persistence.register({[iU]:r})}else this._instance.persistence.register({[iU]:e.flags})}}return"payloads"in e&&(!1===e.payloads?this._instance.persistence.unregister(iW):e.payloads&&this._instance.persistence.register({[iW]:e.payloads})),void this.me()}this.me()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.ae){var{flags:t,flagVariants:r}=this.be();e(t,r)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t){var r,n=(this._instance.get_property(eR)||[]).find(t=>t.flagKey===e),i={["$feature_enrollment/"+e]:t},s={$feature_flag:e,$feature_enrollment:t,$set:i};n&&(s.$early_access_feature_name=n.name),this._instance.capture("$feature_enrollment_update",s),this.setPersonPropertiesForFlags(i,!1);var o=X({},this.getFlagVariants(),{[e]:t});null==(r=this._instance.persistence)||r.register({[iF]:Object.keys(iq(o)),[eO]:o}),this.me()}getEarlyAccessFeatures(e,t,r){void 0===t&&(t=!1);var n=this._instance.get_property(eR),i=r?"&"+r.map(e=>"stage="+e).join("&"):"";if(n&&!t)return e(n);this._instance.ge({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+i),method:"GET",callback:t=>{var r;if(t.json){var n=t.json.earlyAccessFeatures;return null==(r=this._instance.persistence)||r.register({[eR]:n}),e(n)}}})}be(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(e=>t[e]),flagVariants:Object.keys(t).filter(e=>t[e]).reduce((e,r)=>(e[r]=t[r],e),{})}}me(e){var{flags:t,flagVariants:r}=this.be();this.featureFlagEventHandlers.forEach(n=>n(t,r,{errorsLoading:e}))}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0);var r=this._instance.get_property(eP)||{};this._instance.register({[eP]:X({},r,e)}),t&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(eP)}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0);var r=this._instance.get_property(eM)||{};0!==Object.keys(r).length&&Object.keys(r).forEach(t=>{r[t]=X({},r[t],e[t]),delete e[t]}),this._instance.register({[eM]:X({},r,e)}),t&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this._instance.get_property(eM)||{};this._instance.register({[eM]:X({},t,{[e]:{}})})}else this._instance.unregister(eM)}}var iJ=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class iX{constructor(e){var t;this.S=e,this.props={},this.we=!1,this.ye=(t="",e.token&&(t=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),e.persistence_name?"ph_"+e.persistence_name:"ph_"+t+"_posthog"),this.q=this.Se(e),this.load(),e.debug&&q.info("Persistence loaded",e.persistence,X({},this.props)),this.update_config(e,e),this.save()}Se(e){-1===iJ.indexOf(e.persistence.toLowerCase())&&(q.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&tA.O()?tA:"localstorage+cookie"===t&&tM.O()?tM:"sessionstorage"===t&&tj.O()?tj:"memory"===t?t$:"cookie"===t?tO:tM.O()?tM:tO}properties(){var e={};return Z(this.props,function(t,r){if(r===eO&&P(t))for(var n,i=Object.keys(t),s=0;s<i.length;s++)e["$feature/"+i[s]]=t[i[s]];else n=!1,(j(eG)?n:c&&eG.indexOf===c?-1!=eG.indexOf(r):(Z(eG,function(e){if(n||(n=e===r))return K}),n))||(e[r]=t)}),e}load(){if(!this.$e){var e=this.q.D(this.ye);e&&(this.props=Q({},e))}}save(){this.$e||this.q.j(this.ye,this.props,this.ke,this.xe,this.Ee,this.S.debug)}remove(){this.q.L(this.ye,!1),this.q.L(this.ye,!0)}clear(){this.remove(),this.props={}}register_once(e,t,r){if(P(e)){L(t)&&(t="None"),this.ke=L(r)?this.Ie:r;var n=!1;if(Z(e,(e,r)=>{this.props.hasOwnProperty(r)&&this.props[r]!==t||(this.props[r]=e,n=!0)}),n)return this.save(),!0}return!1}register(e,t){if(P(e)){this.ke=L(t)?this.Ie:t;var r=!1;if(Z(e,(t,n)=>{e.hasOwnProperty(n)&&this.props[n]!==t&&(this.props[n]=t,r=!0)}),r)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.we){var e=iI(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);M(ei(e))||this.register(e),this.we=!0}}update_search_keyword(){var e;this.register((e=null==h?void 0:h.referrer)?iR(e):{})}update_referrer_info(){var e;this.register_once({$referrer:iP(),$referring_domain:null!=h&&h.referrer&&(null==(e=tu(h.referrer))?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[eU]||this.props[eB]||this.register_once({[eW]:iM(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};Z([eB,eU],t=>{var r=this.props[t];r&&Z(r,function(t,r){e["$initial_"+x(r)]=t})});var t,r,n=this.props[eW];return n&&Q(e,(t=iL(n),r={},Z(t,function(e,t){r["$initial_"+x(t)]=e}),r)),e}safe_merge(e){return Z(this.props,function(t,r){r in e||(e[r]=t)}),e}update_config(e,t){if(this.Ie=this.ke=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var r=this.Se(e),n=this.props;this.clear(),this.q=r,this.props=n,this.save()}}set_disabled(e){this.$e=e,this.$e?this.remove():this.save()}set_cross_subdomain(e){e!==this.xe&&(this.xe=e,this.remove(),this.save())}set_secure(e){e!==this.Ee&&(this.Ee=e,this.remove(),this.save())}set_event_timer(e,t){var r=this.props[ec]||{};r[e]=t,this.props[ec]=r,this.save()}remove_event_timer(e){var t=(this.props[ec]||{})[e];return L(t)||(delete this.props[ec][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}class iV{constructor(){this.Pe={},this.Pe={}}on(e,t){return this.Pe[e]||(this.Pe[e]=[]),this.Pe[e].push(t),()=>{this.Pe[e]=this.Pe[e].filter(e=>e!==t)}}emit(e,t){for(var r of this.Pe[e]||[])r(t);for(var n of this.Pe["*"]||[])n(e,t)}}var iK=function(e,t){if(!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(e){return!1}};class iY{constructor(e){this.Re=new iV,this.Te=(e,t)=>this.Me(e,t)&&this.Ce(e,t)&&this.Oe(e,t),this.Me=(e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event),this._instance=e,this.Fe=new Set,this.Ae=new Set}init(){var e,t;L(null==(e=this._instance)?void 0:e.De)||null==(t=this._instance)||t.De((e,t)=>{this.on(e,t)})}register(e){var t,r;if(!L(null==(t=this._instance)?void 0:t.De)&&(e.forEach(e=>{var t,r;null==(t=this.Ae)||t.add(e),null==(r=e.steps)||r.forEach(e=>{var t;null==(t=this.Fe)||t.add((null==e?void 0:e.event)||"")})}),null!=(r=this._instance)&&r.autocapture)){var n,i=new Set;e.forEach(e=>{var t;null==(t=e.steps)||t.forEach(e=>{null!=e&&e.selector&&i.add(null==e?void 0:e.selector)})}),null==(n=this._instance)||n.autocapture.setElementSelectors(i)}}on(e,t){var r;null!=t&&0!=e.length&&(this.Fe.has(e)||this.Fe.has(null==t?void 0:t.event))&&this.Ae&&(null==(r=this.Ae)?void 0:r.size)>0&&this.Ae.forEach(e=>{this.je(t,e)&&this.Re.emit("actionCaptured",e.name)})}Le(e){this.onAction("actionCaptured",t=>e(t))}je(e,t){if(null==(null==t?void 0:t.steps))return!1;for(var r of t.steps)if(this.Te(e,r))return!0;return!1}onAction(e,t){return this.Re.on(e,t)}Ce(e,t){if(null!=t&&t.url){var r,n=null==e||null==(r=e.properties)?void 0:r.$current_url;if(!n||"string"!=typeof n||!iY.Ne(n,null==t?void 0:t.url,(null==t?void 0:t.url_matching)||"contains"))return!1}return!0}static Ne(e,t,r){switch(r){case"regex":return!!o&&iK(e,t);case"exact":return t===e;case"contains":return iK(e,iY.ze(t).replace(/_/g,".").replace(/%/g,".*"));default:return!1}}static ze(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Oe(e,t){if((null!=t&&t.href||null!=t&&t.tag_name||null!=t&&t.text)&&!this.Ue(e).some(e=>!(null!=t&&t.href&&!iY.Ne(e.href||"",null==t?void 0:t.href,(null==t?void 0:t.href_matching)||"exact"))&&(null==t||!t.tag_name||e.tag_name===(null==t?void 0:t.tag_name))&&!(null!=t&&t.text&&!iY.Ne(e.text||"",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||"exact")&&!iY.Ne(e.$el_text||"",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||"exact"))))return!1;if(null!=t&&t.selector){var r,n=null==e||null==(r=e.properties)?void 0:r.$element_selectors;if(!n||!n.includes(null==t?void 0:t.selector))return!1}return!0}Ue(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}var iZ=z("[Surveys]");class iQ{constructor(e){this._instance=e,this.qe=new Map,this.Be=new Map}register(e){var t;L(null==(t=this._instance)?void 0:t.De)||(this.He(e),this.We(e))}We(e){var t=e.filter(e=>{var t,r,n,i;return(null==(t=e.conditions)?void 0:t.actions)&&(null==(r=e.conditions)||null==(n=r.actions)||null==(i=n.values)?void 0:i.length)>0});0!==t.length&&(null==this.Ge&&(this.Ge=new iY(this._instance),this.Ge.init(),this.Ge.Le(e=>{this.onAction(e)})),t.forEach(e=>{var t,r,n,i,s,o,a,l,u,c;e.conditions&&null!=(t=e.conditions)&&t.actions&&null!=(r=e.conditions)&&null!=(n=r.actions)&&n.values&&(null==(i=e.conditions)||null==(s=i.actions)||null==(o=s.values)?void 0:o.length)>0&&(null==(a=this.Ge)||a.register(e.conditions.actions.values),null==(l=e.conditions)||null==(u=l.actions)||null==(c=u.values)||c.forEach(t=>{if(t&&t.name){var r=this.Be.get(t.name);r&&r.push(e.id),this.Be.set(t.name,r||[e.id])}}))}))}He(e){var t;0!==e.filter(e=>{var t,r,n,i;return(null==(t=e.conditions)?void 0:t.events)&&(null==(r=e.conditions)||null==(n=r.events)||null==(i=n.values)?void 0:i.length)>0}).length&&(null==(t=this._instance)||t.De((e,t)=>{this.onEvent(e,t)}),e.forEach(e=>{var t,r,n;null==(t=e.conditions)||null==(r=t.events)||null==(n=r.values)||n.forEach(t=>{if(t&&t.name){var r=this.qe.get(t.name);r&&r.push(e.id),this.qe.set(t.name,r||[e.id])}})}))}onEvent(e,t){var r,n,i=(null==(r=this._instance)||null==(n=r.persistence)?void 0:n.props[e$])||[];if("survey shown"===e&&t&&i.length>0){iZ.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:t,existingActivatedSurveys:i});var s,o=null==t||null==(s=t.properties)?void 0:s.$survey_id;if(o){var a=i.indexOf(o);a>=0&&(i.splice(a,1),this.Je(i))}}else this.qe.has(e)&&(iZ.info("survey event matched, updating activated surveys",{event:e,surveys:this.qe.get(e)}),this.Je(i.concat(this.qe.get(e)||[])))}onAction(e){var t,r,n=(null==(t=this._instance)||null==(r=t.persistence)?void 0:r.props[e$])||[];this.Be.has(e)&&this.Je(n.concat(this.Be.get(e)||[]))}Je(e){var t,r;null==(t=this._instance)||null==(r=t.persistence)||r.register({[e$]:[...new Set(e)]})}getSurveys(){var e,t;return(null==(e=this._instance)||null==(t=e.persistence)?void 0:t.props[e$])||[]}getEventToSurveys(){return this.qe}Ve(){return this.Ge}}class i0{constructor(e){this.Ke=null,this.Ye=!1,this.Xe=!1,this.Qe=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var t=e.surveys;if(D(t))return iZ.warn("Decide not loaded yet. Not loading surveys.");var r=R(t);this.Ze=r?t.length>0:t,iZ.info("decide response received, hasSurveys: "+this.Ze),this.Ze&&this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],t=0;t<localStorage.length;t++){var r=localStorage.key(t);(null!=r&&r.startsWith("seenSurvey_")||null!=r&&r.startsWith("inProgressSurvey_"))&&e.push(r)}e.forEach(e=>localStorage.removeItem(e))}loadIfEnabled(){if(!this.Ke){if(this.Xe)iZ.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)iZ.info("Disabled. Not loading surveys.");else if(this.Ze){var e=null==_?void 0:_.__PosthogExtensions__;if(e){this.Xe=!0;try{var t=e.generateSurveys;if(t)return void this.tr(t);var r=e.loadExternalDependency;if(!r)return void this.ir("PostHog loadExternalDependency extension not found.");r(this._instance,"surveys",t=>{t||!e.generateSurveys?this.ir("Could not load surveys script",t):this.tr(e.generateSurveys)})}catch(e){throw this.ir("Error initializing surveys",e),e}finally{this.Xe=!1}}else iZ.error("PostHog Extensions not found.")}else iZ.info("No surveys to load.")}}tr(e){this.Ke=e(this._instance),this._surveyEventReceiver=new iQ(this._instance),iZ.info("Surveys loaded successfully"),this.er({isLoaded:!0})}ir(e,t){iZ.error(e,t),this.er({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.Qe.push(e),this.Ke&&this.er({isLoaded:!0}),()=>{this.Qe=this.Qe.filter(t=>t!==e)}}getSurveys(e,t){if(void 0===t&&(t=!1),this._instance.config.disable_surveys)return iZ.info("Disabled. Not loading surveys."),e([]);var r=this._instance.get_property(eL);if(r&&!t)return e(r,{isLoaded:!0});if(this.Ye)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.Ye=!0,this._instance.ge({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:t=>{this.Ye=!1;var r=t.statusCode;if(200!==r||!t.json){var n="Surveys API could not be loaded, status: "+r;return iZ.error(n),e([],{isLoaded:!1,error:n})}var i,s,o=t.json.surveys||[],a=o.filter(e=>{var t,r,n,i,s,o;return!(!e.start_date||e.end_date)&&(!(null==(t=e.conditions)||null==(r=t.events)||null==(n=r.values)||!n.length)||!(null==(i=e.conditions)||null==(s=i.actions)||null==(o=s.values)||!o.length))});return a.length>0&&(null==(s=this._surveyEventReceiver)||s.register(a)),null==(i=this._instance.persistence)||i.register({[eL]:o}),e(o,{isLoaded:!0})}})}catch(e){throw this.Ye=!1,e}}er(e){for(var t of this.Qe)try{e.isLoaded?this.getSurveys(t):t([],e)}catch(e){iZ.error("Error in survey callback",e)}}getActiveMatchingSurveys(e,t){if(void 0===t&&(t=!1),!D(this.Ke))return this.Ke.getActiveMatchingSurveys(e,t);iZ.warn("init was not called")}rr(e){var t=null;return this.getSurveys(r=>{var n;t=null!==(n=r.find(t=>t.id===e))&&void 0!==n?n:null}),t}sr(e){if(D(this.Ke))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var t="string"==typeof e?this.rr(e):e;return t?this.Ke.checkSurveyEligibility(t):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(D(this.Ke))return iZ.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var t=this.sr(e);return{visible:t.eligible,disabledReason:t.reason}}canRenderSurveyAsync(e,t){return D(this.Ke)?(iZ.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(r=>{this.getSurveys(t=>{var n,i=null!==(n=t.find(t=>t.id===e))&&void 0!==n?n:null;if(i){var s=this.sr(i);r({visible:s.eligible,disabledReason:s.reason})}else r({visible:!1,disabledReason:"Survey not found"})},t)})}renderSurvey(e,t){if(D(this.Ke))iZ.warn("init was not called");else{var r=this.rr(e),n=null==h?void 0:h.querySelector(t);r?n?this.Ke.renderSurvey(r,n):iZ.warn("Survey element not found"):iZ.warn("Survey not found")}}}var i1=z("[RateLimiter]");class i2{constructor(e){var t,r;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=e=>{var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach(e=>{i1.info((e||"events")+" is quota limited."),this.serverLimits[e]=(new Date).getTime()+6e4})}catch(e){return void i1.warn('could not rate limit - continuing. Error: "'+(null==e?void 0:e.message)+'"',{text:t})}},this.instance=e,this.captureEventsPerSecond=(null==(t=e.config.rate_limiting)?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(r=e.config.rate_limiting)?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){void 0===e&&(e=!1);var t,r,n,i=(new Date).getTime(),s=null!==(t=null==(r=this.instance.persistence)?void 0:r.get_property(eF))&&void 0!==t?t:{tokens:this.captureEventsBurstLimit,last:i};s.tokens+=(i-s.last)/1e3*this.captureEventsPerSecond,s.last=i,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var o=s.tokens<1;return o||e||(s.tokens=Math.max(0,s.tokens-1)),!o||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null==(n=this.instance.persistence)||n.set_property(eF,s),{isRateLimited:o,remainingTokens:s.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}var i3=z("[RemoteConfig]");class i4{constructor(e){this._instance=e}get remoteConfig(){var e,t;return null==(e=_._POSTHOG_REMOTE_CONFIG)||null==(t=e[this._instance.config.token])?void 0:t.config}nr(e){var t,r;null!=(t=_.__PosthogExtensions__)&&t.loadExternalDependency?null==(r=_.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(i3.error("PostHog Extensions not found. Cannot load remote config."),e())}ar(e){this._instance.ge({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return i3.info("Using preloaded remote config",this.remoteConfig),void this._e(this.remoteConfig);if(this._instance.config.advanced_disable_decide)return void i3.warn("Remote config is disabled. Falling back to local config.");this.nr(e=>{if(!e)return i3.info("No config found after loading remote JS config. Falling back to JSON."),void this.ar(e=>{this._e(e)});this._e(e)})}catch(e){i3.error("Error loading remote config",e)}}_e(e){e?this._instance.config.__preview_remote_config?(this._instance._e(e),!1!==e.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):i3.info("__preview_remote_config is disabled. Logging config instead",e):i3.error("Failed to fetch remote config from PostHog.")}}var i5=function(e){var t,r,n,i,s="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<n;i++){var o=e.charCodeAt(i),a=null;o<128?r++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),j(a)||(r>t&&(s+=e.substring(t,r)),s+=a,t=r=i+1)}return r>t&&(s+=e.substring(t,e.length)),s},i8=!!g||!!p,i6="text/plain",i9=(e,t)=>{var[r,n]=e.split("?"),i=X({},t);null==n||n.split("&").forEach(e=>{var[t]=e.split("=");delete i[t]});var s=tc(i);return r+"?"+(s=s?(n?n+"&":"")+s:n)},i7=(e,t)=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t,t),se=e=>{var{data:t,compression:r}=e;if(t){if(r===s.GZipJS){var n=new Blob([r0(r1(i7(t)),{mtime:0})],{type:i6});return{contentType:i6,body:n,estimatedSize:n.size}}if(r===s.Base64){let e;var i="data="+encodeURIComponent("string"==typeof(e=function(e){var t,r,n,i,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,l=0,u="",c=[];if(!e)return e;e=i5(e);do t=(s=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,r=s>>12&63,n=s>>6&63,i=63&s,c[l++]=o.charAt(t)+o.charAt(r)+o.charAt(n)+o.charAt(i);while(a<e.length);switch(u=c.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u}(i7(t)))?e:i7(e));return{contentType:"application/x-www-form-urlencoded",body:i,estimatedSize:new Blob([i]).size}}var o=i7(t);return{contentType:"application/json",body:o,estimatedSize:new Blob([o]).size}}},st=[];p&&st.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:i,estimatedSize:s}=null!==(t=se(e))&&void 0!==t?t:{},o=new Headers;Z(e.headers,function(e,t){o.append(t,e)}),n&&o.append("Content-Type",n);var a=e.url,l=null;if(m){var u=new m;l={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}p(a,X({method:(null==e?void 0:e.method)||"GET",headers:o,keepalive:"POST"===e.method&&52428.8>(s||0),body:i,signal:null==(r=l)?void 0:r.signal},e.fetchOptions)).then(t=>t.text().then(r=>{var n={statusCode:t.status,text:r};if(200===t.status)try{n.json=JSON.parse(r)}catch(e){q.error(e)}null==e.callback||e.callback(n)})).catch(t=>{q.error(t),null==e.callback||e.callback({statusCode:0,text:t})}).finally(()=>l?clearTimeout(l.timeout):null)}}),g&&st.push({transport:"XHR",method:e=>{var t,r=new g;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:i}=null!==(t=se(e))&&void 0!==t?t:{};Z(e.headers,function(e,t){r.setRequestHeader(t,e)}),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),r.withCredentials=!0,r.onreadystatechange=()=>{if(4===r.readyState){var t={statusCode:r.status,text:r.responseText};if(200===r.status)try{t.json=JSON.parse(r.responseText)}catch(e){}null==e.callback||e.callback(t)}},r.send(i)}}),null!=d&&d.sendBeacon&&st.push({transport:"sendBeacon",method:e=>{var t=i9(e.url,{beacon:"1"});try{var r,{contentType:n,body:i}=null!==(r=se(e))&&void 0!==r?r:{},s="string"==typeof i?new Blob([i],{type:n}):i;d.sendBeacon(t,s)}catch(e){}}});class sr{constructor(e,t){this.lr=!0,this.hr=[],this.ur=r_((null==t?void 0:t.flush_interval_ms)||3e3,250,5e3,"flush interval",3e3),this.dr=e}enqueue(e){this.hr.push(e),this.vr||this.cr()}unload(){this.pr();var e=Object.values(this.hr.length>0?this.gr():{});[...e.filter(e=>0===e.url.indexOf("/e")),...e.filter(e=>0!==e.url.indexOf("/e"))].map(e=>{this.dr(X({},e,{transport:"sendBeacon"}))})}enable(){this.lr=!1,this.cr()}cr(){var e=this;this.lr||(this.vr=setTimeout(()=>{if(this.pr(),this.hr.length>0){var t=this.gr();for(var r in t)!function(r){var n=t[r],i=(new Date).getTime();n.data&&R(n.data)&&Z(n.data,e=>{e.offset=Math.abs(e.timestamp-i),delete e.timestamp}),e.dr(n)}(r)}},this.ur))}pr(){clearTimeout(this.vr),this.vr=void 0}gr(){var e={};return Z(this.hr,t=>{var r,n=(t?t.batchKey:null)||t.url;L(e[n])&&(e[n]=X({},t,{data:[]})),null==(r=e[n].data)||r.push(t.data)}),this.hr=[],e}}var sn=["retriesPerformedSoFar"];class si{constructor(e){this._r=!1,this.mr=3e3,this.hr=[],this._instance=e,this.hr=[],this.br=!0,!L(o)&&"onLine"in o.navigator&&(this.br=o.navigator.onLine,ea(o,"online",()=>{this.br=!0,this.Yi()}),ea(o,"offline",()=>{this.br=!1}))}get length(){return this.hr.length}retriableRequest(e){var{retriesPerformedSoFar:t}=e,r=V(e,sn);F(t)&&t>0&&(r.url=i9(r.url,{retry_count:t})),this._instance.ge(X({},r,{callback:e=>{200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.wr(X({retriesPerformedSoFar:t},r)):null==r.callback||r.callback(e)}}))}wr(e){var t,r,n,i=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=i+1;var s=(n=(Math.random()-.5)*((r=Math.min(18e5,t=3e3*Math.pow(2,i)))-t/2),Math.ceil(r+n)),o=Date.now()+s;this.hr.push({retryAt:o,requestOptions:e});var a="Enqueued failed request for retry in "+s;navigator.onLine||(a+=" (Browser is offline)"),q.warn(a),this._r||(this._r=!0,this.yr())}yr(){this.Sr&&clearTimeout(this.Sr),this.Sr=setTimeout(()=>{this.br&&this.hr.length>0&&this.Yi(),this.yr()},this.mr)}Yi(){var e=Date.now(),t=[],r=this.hr.filter(r=>r.retryAt<e||(t.push(r),!1));if(this.hr=t,r.length>0)for(var{requestOptions:n}of r)this.retriableRequest(n)}unload(){for(var{requestOptions:e}of(this.Sr&&(clearTimeout(this.Sr),this.Sr=void 0),this.hr))try{this._instance.ge(X({},e,{transport:"sendBeacon"}))}catch(e){q.error(e)}this.hr=[]}}class ss{constructor(e){this.$r=()=>{this.kr||(this.kr={});var e,t,r,n,i=this.scrollElement(),s=this.scrollY(),o=i?Math.max(0,i.scrollHeight-i.clientHeight):0,a=s+((null==i?void 0:i.clientHeight)||0),l=(null==i?void 0:i.scrollHeight)||0;this.kr.lastScrollY=Math.ceil(s),this.kr.maxScrollY=Math.max(s,null!==(e=this.kr.maxScrollY)&&void 0!==e?e:0),this.kr.maxScrollHeight=Math.max(o,null!==(t=this.kr.maxScrollHeight)&&void 0!==t?t:0),this.kr.lastContentY=a,this.kr.maxContentY=Math.max(a,null!==(r=this.kr.maxContentY)&&void 0!==r?r:0),this.kr.maxContentHeight=Math.max(l,null!==(n=this.kr.maxContentHeight)&&void 0!==n?n:0)},this._instance=e}getContext(){return this.kr}resetContext(){var e=this.kr;return setTimeout(this.$r,0),e}startMeasuringScrollPosition(){ea(o,"scroll",this.$r,{capture:!0}),ea(o,"scrollend",this.$r,{capture:!0}),ea(o,"resize",this.$r)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==o?void 0:o.document.documentElement;for(var e of R(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector]){var t=null==o?void 0:o.document.querySelector(e);if(t)return t}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return o&&(o.scrollY||o.pageYOffset||o.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return o&&(o.scrollX||o.pageXOffset||o.document.documentElement.scrollLeft)||0}}var so=e=>iM(null==e?void 0:e.config.mask_personal_data_properties,null==e?void 0:e.config.custom_personal_data_properties);class sa{constructor(e,t,r,n){this.Er=e=>{var t=this.Ir();if(!t||t.sessionId!==e){var r={sessionId:e,props:this.Pr(this._instance)};this.Rr.register({[eD]:r})}},this._instance=e,this.Tr=t,this.Rr=r,this.Pr=n||so,this.Tr.onSessionId(this.Er)}Ir(){return this.Rr.props[eD]}getSetOnceProps(){var e,t=null==(e=this.Ir())?void 0:e.props;return t?"r"in t?iL(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return Z(ei(this.getSetOnceProps()),(t,r)=>{"$current_url"===r&&(r="url"),e["$session_entry_"+x(r)]=t}),e}}var sl=z("[SessionId]");class su{constructor(e,t,r){if(this.Mr=[],!e.persistence)throw Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.__preview_experimental_cookieless_mode)throw Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");this.S=e.config,this.Rr=e.persistence,this.oi=void 0,this.kt=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Cr=t||tx,this.Or=r||tx;var n,i=this.S.persistence_name||this.S.token,s=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*r_(s,60,36e3,"session_idle_timeout_seconds",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Fr(),this.Ar="ph_"+i+"_window_id",this.Dr="ph_"+i+"_primary_window_exists",this.jr()){var o=tj.D(this.Ar),a=tj.D(this.Dr);o&&!a?this.oi=o:tj.L(this.Ar),tj.j(this.Dr,!0)}if(null!=(n=this.S.bootstrap)&&n.sessionID)try{var l=(e=>{var t=e.replace(/-/g,"");if(32!==t.length)throw Error("Not a valid UUID");if("7"!==t[12])throw Error("Not a UUIDv7");return parseInt(t.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Lr(this.S.bootstrap.sessionID,(new Date).getTime(),l)}catch(e){sl.error("Invalid sessionID in bootstrap",e)}this.Nr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return L(this.Mr)&&(this.Mr=[]),this.Mr.push(e),this.kt&&e(this.kt,this.oi),()=>{this.Mr=this.Mr.filter(t=>t!==e)}}jr(){return"memory"!==this.S.persistence&&!this.Rr.$e&&tj.O()}zr(e){e!==this.oi&&(this.oi=e,this.jr()&&tj.j(this.Ar,e))}Ur(){return this.oi?this.oi:this.jr()?tj.D(this.Ar):null}Lr(e,t,r){e===this.kt&&t===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=t,this.kt=e,this.Rr.register({[ex]:[t,e,r]}))}qr(){if(this.kt&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.kt,this._sessionStartTimestamp];var e=this.Rr.props[ex];return R(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Lr(null,null,null)}Nr(){ea(o,"beforeunload",()=>{this.jr()&&tj.L(this.Dr)},{capture:!1})}checkAndGetSessionAndWindowId(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=null),this.S.__preview_experimental_cookieless_mode)throw Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");var r=t||(new Date).getTime(),[n,i,s]=this.qr(),o=this.Ur(),a=F(s)&&s>0&&Math.abs(r-s)>864e5,l=!1,u=!i,c=!e&&Math.abs(r-n)>this.sessionTimeoutMs;u||c||a?(i=this.Cr(),o=this.Or(),sl.info("new session ID generated",{sessionId:i,windowId:o,changeReason:{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}}),s=r,l=!0):o||(o=this.Or(),l=!0);var d=0===n||!e||a?r:n,h=0===s?(new Date).getTime():s;return this.zr(o),this.Lr(i,d,h),e||this.Fr(),l&&this.Mr.forEach(e=>e(i,o,l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}:void 0)),{sessionId:i,windowId:o,sessionStartTimestamp:h,changeReason:l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:n}}Fr(){clearTimeout(this.Br),this.Br=setTimeout(()=>{this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var sc=["$set_once","$set"],sd=z("[SiteApps]");class sh{constructor(e){this._instance=e,this.Hr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Wr(e,t){if(t){var r=this.globalsForEvent(t);this.Hr.push(r),this.Hr.length>1e3&&(this.Hr=this.Hr.slice(10))}}get siteAppLoaders(){var e,t;return null==(e=_._POSTHOG_REMOTE_CONFIG)||null==(t=e[this._instance.config.token])?void 0:t.siteApps}init(){if(this.isEnabled){var e=this._instance.De(this.Wr.bind(this));this.Gr=()=>{e(),this.Hr=[],this.Gr=void 0}}}globalsForEvent(e){if(!e)throw Error("Event payload is required");var t,r,n,i,s,o,a,l={},u=this._instance.get_property("$groups")||[];for(var[c,d]of Object.entries(this._instance.get_property("$stored_group_properties")||{}))l[c]={id:u[c],type:c,properties:d};var{$set_once:h,$set:f}=e;return{event:X({},V(e,sc),{properties:X({},e.properties,f?{$set:X({},null!==(t=null==(r=e.properties)?void 0:r.$set)&&void 0!==t?t:{},f)}:{},h?{$set_once:X({},null!==(n=null==(i=e.properties)?void 0:i.$set_once)&&void 0!==n?n:{},h)}:{}),elements_chain:null!==(s=null==(o=e.properties)?void 0:o.$elements_chain)&&void 0!==s?s:"",distinct_id:null==(a=e.properties)?void 0:a.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:l}}setupSiteApp(e){var t=this.apps[e.id],r=()=>{var r;!t.errored&&this.Hr.length&&(sd.info("Processing "+this.Hr.length+" events for site app with id "+e.id),this.Hr.forEach(e=>null==t.processEvent?void 0:t.processEvent(e)),t.processedBuffer=!0),Object.values(this.apps).every(e=>e.processedBuffer||e.errored)&&(null==(r=this.Gr)||r.call(this))},n=!1,i=i=>{t.errored=!i,t.loaded=!0,sd.info("Site app with id "+e.id+" "+(i?"loaded":"errored")),n&&r()};try{var{processEvent:s}=e.init({posthog:this._instance,callback:e=>{i(e)}});s&&(t.processEvent=s),n=!0}catch(t){sd.error("Error while initializing PostHog app with config id "+e.id,t),i(!1)}if(n&&t.loaded)try{r()}catch(r){sd.error("Error while processing buffered events PostHog app with config id "+e.id,r),t.errored=!0}}Jr(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of e)this.setupSiteApp(r)}Vr(e){if(0!==Object.keys(this.apps).length){var t=this.globalsForEvent(e);for(var r of Object.values(this.apps))try{null==r.processEvent||r.processEvent(t)}catch(t){sd.error("Error while processing event "+e.event+" for site app "+r.id,t)}}}onRemoteConfig(e){var t,r,n,i=this;if(null!=(t=this.siteAppLoaders)&&t.length)return this.isEnabled?(this.Jr(),void this._instance.on("eventCaptured",e=>this.Vr(e))):void sd.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if(null==(r=this.Gr)||r.call(this),null!=(n=e.siteApps)&&n.length){if(this.isEnabled){var s=function(e,t){var r;_["__$$ph_site_app_"+e]=i._instance,null==(r=_.__PosthogExtensions__)||null==r.loadSiteApp||r.loadSiteApp(i._instance,t,t=>{if(t)return sd.error("Error while initializing PostHog app with config id "+e,t)})};for(var{id:o,url:a}of e.siteApps)s(o,a)}else sd.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}var sf,sp,sg=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","bytespider"],sm=function(e,t){if(!e)return!1;var r=e.toLowerCase();return sg.concat(t||[]).some(e=>{var t=e.toLowerCase();return -1!==r.indexOf(t)})},sv=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&sm(r,t))return!0;try{var n=null==e?void 0:e.userAgentData;if(null!=n&&n.brands&&n.brands.some(e=>sm(null==e?void 0:e.brand,t)))return!0}catch(e){}return!!e.webdriver};function s_(e,t,r){return i7({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}(sA=sp||(sp={})).US="us",sA.EU="eu",sA.CUSTOM="custom";var sy="i.posthog.com";class sb{constructor(e){this.Kr={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===e?"https://us.i.posthog.com":e}get uiHost(){var e,t=null==(e=this.instance.config.ui_host)?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace("."+sy,".posthog.com")),"https://app.posthog.com"===t?"https://us.posthog.com":t}get region(){return this.Kr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Kr[this.apiHost]=sp.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Kr[this.apiHost]=sp.EU:this.Kr[this.apiHost]=sp.CUSTOM),this.Kr[this.apiHost]}endpointFor(e,t){if(void 0===t&&(t=""),t&&(t="/"===t[0]?t:"/"+t),"ui"===e)return this.uiHost+t;if(this.region===sp.CUSTOM)return this.apiHost+t;var r=sy+t;switch(e){case"assets":return"https://"+this.region+"-assets."+r;case"api":return"https://"+this.region+"."+r}}}var sw={icontains:(e,t)=>!!o&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!o&&-1===t.href.toLowerCase().indexOf(e.toLowerCase()),regex:(e,t)=>!!o&&iK(t.href,e),not_regex:(e,t)=>!!o&&!iK(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class sS{constructor(e){var t=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(e){void 0===e&&(e=!1),t.getWebExperiments(e=>{sS.Yr("retrieved web experiments from the server"),t.Xr=new Map,e.forEach(e=>{if(e.feature_flag_key){t.Xr&&(sS.Yr("setting flag key ",e.feature_flag_key," to web experiment ",e),null==(r=t.Xr)||r.set(e.feature_flag_key,e));var r,n=t._instance.getFeatureFlag(e.feature_flag_key);$(n)&&e.variants[n]&&t.Qr(e.name,n,e.variants[n].transforms)}else if(e.variants)for(var i in e.variants){var s=e.variants[i];sS.Zr(s)&&t.Qr(e.name,i,s.transforms)}})},e)},this._instance=e,this._instance.onFeatureFlags(e=>{this.onFeatureFlags(e)})}onFeatureFlags(e){if(this._is_bot())sS.Yr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(D(this.Xr))return this.Xr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();sS.Yr("applying feature flags",e),e.forEach(e=>{var t;if(this.Xr&&null!=(t=this.Xr)&&t.has(e)){var r,n=this._instance.getFeatureFlag(e),i=null==(r=this.Xr)?void 0:r.get(e);n&&null!=i&&i.variants[n]&&this.Qr(i.name,n,i.variants[n].transforms)}})}}previewWebExperiment(){var e=sS.getWindowLocation();if(null!=e&&e.search){var t=td(null==e?void 0:e.search,"__experiment_id"),r=td(null==e?void 0:e.search,"__experiment_variant");t&&r&&(sS.Yr("previewing web experiments "+t+" && "+r),this.getWebExperiments(e=>{this.ts(parseInt(t),r,e)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,r){if(this._instance.config.disable_web_experiments&&!r)return e([]);var n=this._instance.get_property("$web_experiments");if(n&&!t)return e(n);this._instance.ge({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:t=>200===t.statusCode&&t.json?e(t.json.experiments||[]):e([])})}ts(e,t,r){var n=r.filter(t=>t.id===e);n&&n.length>0&&(sS.Yr("Previewing web experiment ["+n[0].name+"] with variant ["+t+"]"),this.Qr(n[0].name,t,n[0].variants[t].transforms))}static Zr(e){return!D(e.conditions)&&sS.es(e)&&sS.rs(e)}static es(e){if(D(e.conditions)||D(null==(t=e.conditions)?void 0:t.url))return!0;var t,r,n,i,s=sS.getWindowLocation();return!!s&&(null==(r=e.conditions)||!r.url||sw[null!==(n=null==(i=e.conditions)?void 0:i.urlMatchType)&&void 0!==n?n:"icontains"](e.conditions.url,s))}static getWindowLocation(){return null==o?void 0:o.location}static rs(e){if(D(e.conditions)||D(null==(r=e.conditions)?void 0:r.utm))return!0;var t=iI();if(t.utm_source){var r,n,i,s,o,a,l,u,c,d,h,f,p,g,m,v,_,y=null==(n=e.conditions)||null==(i=n.utm)||!i.utm_campaign||(null==(s=e.conditions)||null==(o=s.utm)?void 0:o.utm_campaign)==t.utm_campaign,b=null==(a=e.conditions)||null==(l=a.utm)||!l.utm_source||(null==(u=e.conditions)||null==(c=u.utm)?void 0:c.utm_source)==t.utm_source,w=null==(d=e.conditions)||null==(h=d.utm)||!h.utm_medium||(null==(f=e.conditions)||null==(p=f.utm)?void 0:p.utm_medium)==t.utm_medium,S=null==(g=e.conditions)||null==(m=g.utm)||!m.utm_term||(null==(v=e.conditions)||null==(_=v.utm)?void 0:_.utm_term)==t.utm_term;return y&&w&&S&&b}return!1}static Yr(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];q.info("[WebExperiments] "+e,r)}Qr(e,t,r){this._is_bot()?sS.Yr("Refusing to render web experiment since the viewer is a likely bot"):"control"!==t?r.forEach(r=>{if(r.selector){sS.Yr("applying transform of variant "+t+" for experiment "+e+" ",r);var n,i=null==(n=document)?void 0:n.querySelectorAll(r.selector);null==i||i.forEach(e=>{r.html&&(e.innerHTML=r.html),r.css&&e.setAttribute("style",r.css)})}}):sS.Yr("Control variants leave the page unmodified.")}_is_bot(){return d&&this._instance?sv(d,this._instance.config.custom_blocked_useragents):void 0}}var sk={},sE=()=>{},sx="posthog",sT=!i8&&-1===(null==v?void 0:v.indexOf("MSIE"))&&-1===(null==v?void 0:v.indexOf("Mozilla")),sC=()=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:function(e){var t=null==e?void 0:e.hostname;if(!$(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of es)if(r===n)return!1;return!0}(null==h?void 0:h.location),persistence:"localStorage+cookie",persistence_name:"",loaded:sE,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:f&&$(null==f?void 0:f.search)&&-1!==f.search.indexOf("__posthog_debug=true")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==o||null==(e=o.location)?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:e=>{var t="Bad HTTP status: "+e.statusCode+" "+e.text;q.error(t)},get_device_id:e=>e,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:3e3},_onCapture:sE}},sI=e=>{var t={};L(e.process_person)||(t.person_profiles=e.process_person),L(e.xhr_headers)||(t.request_headers=e.xhr_headers),L(e.cookie_name)||(t.persistence_name=e.cookie_name),L(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),L(e.store_google)||(t.save_campaign_params=e.store_google),L(e.verbose)||(t.debug=e.verbose);var r=Q({},t,e);return R(e.property_blacklist)&&(L(e.property_denylist)?r.property_denylist=e.property_blacklist:R(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:q.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class sO{constructor(){this.__forceAllowLocalhost=!1}get ss(){return this.__forceAllowLocalhost}set ss(e){q.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class sR{get decideEndpointWasHit(){var e,t;return null!==(e=null==(t=this.featureFlags)?void 0:t.hasLoadedFlags)&&void 0!==e&&e}constructor(){this.webPerformance=new sO,this.ns=!1,this.version=y.LIB_VERSION,this.os=new iV,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=sC(),this.SentryIntegration=nS,this.sentryIntegration=e=>{var t;return t=nw(this,e),{name:nb,processEvent:e=>t(e)}},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.ls=!1,this.hs=null,this.us=null,this.ds=null,this.featureFlags=new iG(this),this.toolbar=new nC(this),this.scrollManager=new ss(this),this.pageViewManager=new n$(this),this.surveys=new i0(this),this.experiments=new sS(this),this.exceptions=new nN(this),this.rateLimiter=new i2(this),this.requestRouter=new sb(this),this.consent=new tD(this),this.people={set:(e,t,r)=>{var n=$(e)?{[e]:t}:e;this.setPersonProperties(n),null==r||r({})},set_once:(e,t,r)=>{var n=$(e)?{[e]:t}:e;this.setPersonProperties(void 0,n),null==r||r({})}},this.on("eventCaptured",e=>q.info('send "'+(null==e?void 0:e.event)+'"',e))}init(e,t,r){if(r&&r!==sx){var n,i=null!==(n=sk[r])&&void 0!==n?n:new sR;return i._init(e,t,r),sk[r]=i,sk[sx][r]=i,i}return this._init(e,t,r)}_init(e,t,r){if(void 0===t&&(t={}),L(e)||N(e))return q.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return q.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.vs=[],t.person_profiles&&(this.us=t.person_profiles),this.set_config(Q({},sC(),sI(t),{name:r,token:e})),this.config.on_xhr_error&&q.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=t.disable_compression?void 0:s.GZipJS,this.persistence=new iX(this.config),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new iX(X({},this.config,{persistence:"sessionStorage"}));var n=X({},this.persistence.props),i=X({},this.sessionPersistence.props);if(this.cs=new sr(e=>this.fs(e),this.config.request_queue_config),this.ps=new si(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new su(this),this.sessionPropsManager=new sa(this,this.sessionManager,this.persistence)),new nO(this).startIfEnabledOrStop(),this.siteApps=new sh(this),null==(a=this.siteApps)||a.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new n_(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new tm(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new nL(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new nA(this),this.exceptionObserver=new tq(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new tW(this,tB),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new rs(this),this.historyAutocapture.startIfEnabled(),y.DEBUG=y.DEBUG||this.config.debug,y.DEBUG&&q.info("Starting in debug mode",{this:this,config:t,thisC:X({},this.config),p:n,s:i}),this.gs(),void 0!==(null==(l=t.bootstrap)?void 0:l.distinctID)){var a,l,u,c,d=this.config.get_device_id(tx()),h=null!=(u=t.bootstrap)&&u.isIdentifiedID?d:t.bootstrap.distinctID;this.persistence.set_property(ej,null!=(c=t.bootstrap)&&c.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:t.bootstrap.distinctID,$device_id:h})}if(this._s()){var f,p,g=Object.keys((null==(f=t.bootstrap)?void 0:f.featureFlags)||{}).filter(e=>{var r,n;return!(null==(r=t.bootstrap)||null==(n=r.featureFlags)||!n[e])}).reduce((e,r)=>{var n,i;return e[r]=(null==(n=t.bootstrap)||null==(i=n.featureFlags)?void 0:i[r])||!1,e},{}),m=Object.keys((null==(p=t.bootstrap)?void 0:p.featureFlagPayloads)||{}).filter(e=>g[e]).reduce((e,r)=>{var n,i,s,o;return null!=(n=t.bootstrap)&&null!=(i=n.featureFlagPayloads)&&i[r]&&(e[r]=null==(s=t.bootstrap)||null==(o=s.featureFlagPayloads)?void 0:o[r]),e},{});this.featureFlags.receivedFeatureFlags({featureFlags:g,featureFlagPayloads:m})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:ez,$device_id:null},"");else if(!this.get_distinct_id()){var v=this.config.get_device_id(tx());this.register_once({distinct_id:v,$device_id:v},""),this.persistence.set_property(ej,"anonymous")}return ea(o,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),t.segment?function(e,t){var r=e.config.segment;if(!r)return t();!function(e,t){var r=e.config.segment;if(!r)return t();var n=r=>{var n=()=>r.anonymousId()||tx();e.config.get_device_id=n,r.id()&&(e.register({distinct_id:r.id(),$device_id:n()}),e.persistence.set_property(ej,"identified")),t()},i=r.user();"then"in i&&A(i.then)?i.then(e=>n(e)):n(i)}(e,()=>{var n;r.register((Promise&&Promise.resolve||ny.warn("This browser does not have Promise support, and can not use the segment integration"),n=(t,r)=>{if(!r)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(ny.info("No userId set, resetting PostHog"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(ny.info("UserId set, identifying with PostHog"),e.identify(t.event.userId));var n=e.calculateEventProperties(r,t.event.properties);return t.event.properties=Object.assign({},n,t.event.properties),t},{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>n(e,e.event.event),page:e=>n(e,"$pageview"),identify:e=>n(e,"$identify"),screen:e=>n(e,"$screen")})).then(()=>{t()})})}(this,()=>this.bs()):this.bs(),A(this.config._onCapture)&&this.config._onCapture!==sE&&(q.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",e=>this.config._onCapture(e.event,e))),this}_e(e){var t,r,n,i,o,a,l,u;if(!h||!h.body)return q.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this._e(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=k(e.supportedCompression,s.GZipJS)?s.GZipJS:k(e.supportedCompression,s.Base64)?s.Base64:void 0),null!=(t=e.analytics)&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.us?this.us:"identified_only"}),null==(r=this.siteApps)||r.onRemoteConfig(e),null==(n=this.sessionRecording)||n.onRemoteConfig(e),null==(i=this.autocapture)||i.onRemoteConfig(e),null==(o=this.heatmaps)||o.onRemoteConfig(e),this.surveys.onRemoteConfig(e),null==(a=this.webVitalsAutocapture)||a.onRemoteConfig(e),null==(l=this.exceptionObserver)||l.onRemoteConfig(e),null==(u=this.deadClicksAutocapture)||u.onRemoteConfig(e)}bs(){try{this.config.loaded(this)}catch(e){q.critical("`loaded` function failed",e)}this.ws(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.ys()},1),new i4(this).load(),this.featureFlags.decide()}ws(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null==(e=this.cs)||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||Y(this.__request_queue,e=>this.fs(e)),this.__request_queue=[],this.ws()}_handle_unload(){var e,t;this.config.request_batching?(this.Ss()&&this.capture("$pageleave"),null==(e=this.cs)||e.unload(),null==(t=this.ps)||t.unload()):this.Ss()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}ge(e){this.__loaded&&(sT?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=i9(e.url,{ip:this.config.ip?1:0}),e.headers=X({},this.config.request_headers),e.compression="best-available"===e.compression?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(e=>{var t,r,n,i=X({},e);i.timeout=i.timeout||6e4,i.url=i9(i.url,{_:(new Date).getTime().toString(),ver:y.LIB_VERSION,compression:i.compression});var s=null!==(t=i.transport)&&void 0!==t?t:"fetch",o=null!==(r=null==(n=eo(st,e=>e.transport===s))?void 0:n.method)&&void 0!==r?r:st[0].method;if(!o)throw Error("No available transport method");o(i)})(X({},e,{callback:t=>{var r,n;this.rateLimiter.checkForLimiting(t),t.statusCode>=400&&(null==(r=(n=this.config).on_request_error)||r.call(n,t)),null==e.callback||e.callback(t)}}))))}fs(e){this.ps?this.ps.retriableRequest(e):this.ge(e)}_execute_array(e){var t,r=[],n=[],i=[];Y(e,e=>{e&&(R(t=e[0])?i.push(e):A(e)?e.call(this):R(e)&&"alias"===t?r.push(e):R(e)&&-1!==t.indexOf("capture")&&A(this[t])?i.push(e):n.push(e))});var s=function(e,t){Y(e,function(e){if(R(e[0])){var r=t;Z(e,function(e){r=r[e[0]].apply(r,e.slice(1))})}else this[e[0]].apply(this,e.slice(1))},t)};s(r,this),s(n,this),s(i,this)}_s(){var e,t;return(null==(e=this.config.bootstrap)?void 0:e.featureFlags)&&Object.keys(null==(t=this.config.bootstrap)?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,r){var n;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.cs){if(!this.consent.isOptedOut()){if(!L(e)&&$(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var i=null!=r&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==i||!i.isRateLimited){null!=t&&t.$current_url&&!$(null==t?void 0:t.$current_url)&&(q.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),null==t||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var s,o,a,l,u=new Date,c=(null==r?void 0:r.timestamp)||u,d=tx(),h={uuid:d,event:e,properties:this.calculateEventProperties(e,t||{},c,d)};i&&(h.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),(null==r?void 0:r.$set)&&(h.$set=null==r?void 0:r.$set);var f=this.$s(null==r?void 0:r.$set_once);f&&(h.$set_once=f),(s=h,o=null!=r&&r._noTruncate?null:this.config.properties_string_max_length,a=e=>$(e)&&!j(o)?e.slice(0,o):e,l=new Set,h=function e(t,r){var n;return t!==Object(t)?a?a(t,r):t:l.has(t)?void 0:(l.add(t),R(t)?(n=[],Y(t,t=>{n.push(e(t))})):(n={},Z(t,(t,r)=>{l.has(t)||(n[r]=e(t,r))})),n)}(s)).timestamp=c,L(null==r?void 0:r.timestamp)||(h.properties.$event_time_override_provided=!0,h.properties.$event_time_override_system_time=u);var p=X({},h.properties.$set,h.$set);if(M(p)||this.setPersonPropertiesForFlags(p),!D(this.config.before_send)){var g=this.ks(h);if(!g)return;h=g}this.os.emit("eventCaptured",h);var m={method:"POST",url:null!==(n=null==r?void 0:r._url)&&void 0!==n?n:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:h,compression:"best-available",batchKey:null==r?void 0:r._batchKey};return!this.config.request_batching||r&&(null==r||!r._batchKey)||null!=r&&r.send_instantly?this.fs(m):this.cs.enqueue(m),h}q.critical("This capture call is ignored due to client rate limiting.")}}else q.error("No event name provided to posthog.capture")}}else q.uninitializedWarning("posthog.capture")}De(e){return this.on("eventCaptured",t=>e(t.event,t))}calculateEventProperties(e,t,r,n,i){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return t;var s,a=i?void 0:this.persistence.remove_event_timer(e),l=X({},t);if(l.token=this.config.token,this.config.__preview_experimental_cookieless_mode&&(l.$cookieless_mode=!0),"$snapshot"===e){var u=X({},this.persistence.properties(),this.sessionPersistence.properties());return l.distinct_id=u.distinct_id,(!$(l.distinct_id)&&!F(l.distinct_id)||N(l.distinct_id))&&q.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),l}var c,d=function(e,t){if(!v)return{};var r,n,i=e?ee([],ix,t||[]):[],[s,a]=function(e){for(var t=0;t<iS.length;t++){var[r,n]=iS[t],i=r.exec(e),s=i&&(A(n)?n(i,e):n);if(s)return s}return["",""]}(v);return Q(ei({$os:s,$os_version:a,$browser:iy(v,navigator.vendor),$device:ik(v),$device_type:(n=ik(v))===nB||n===nU||"Kobo"===n||"Kindle Fire"===n||n===il?nF:n===n8||n===n9||n===n6||n===is?"Console":n===nH?"Wearable":n?nj:"Desktop",$timezone:i$(),$timezone_offset:function(){try{return(new Date).getTimezoneOffset()}catch(e){return}}()}),{$current_url:th(null==f?void 0:f.href,i,iC),$host:null==f?void 0:f.host,$pathname:null==f?void 0:f.pathname,$raw_user_agent:v.length>1e3?v.substring(0,997)+"...":v,$browser_version:iw(v,navigator.vendor),$browser_language:iA(),$browser_language_prefix:"string"==typeof(r=iA())?r.split("-")[0]:void 0,$screen_height:null==o?void 0:o.screen.height,$screen_width:null==o?void 0:o.screen.width,$viewport_height:null==o?void 0:o.innerHeight,$viewport_width:null==o?void 0:o.innerWidth,$lib:"web",$lib_version:y.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:p,windowId:g}=this.sessionManager.checkAndGetSessionAndWindowId(i,r.getTime());l.$session_id=p,l.$window_id=g}this.sessionPropsManager&&Q(l,this.sessionPropsManager.getSessionProps());try{this.sessionRecording&&Q(l,this.sessionRecording.sdkDebugProperties),l.$sdk_debug_retry_queue_size=null==(s=this.ps)?void 0:s.length}catch(e){l.$sdk_debug_error_capturing_properties=String(e)}if(this.requestRouter.region===sp.CUSTOM&&(l.$lib_custom_api_host=this.config.api_host),c="$pageview"!==e||i?"$pageleave"!==e||i?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(r):this.pageViewManager.doPageView(r,n),l=Q(l,c),"$pageview"===e&&h&&(l.title=h.title),!L(a)){var m=r.getTime()-a;l.$duration=parseFloat((m/1e3).toFixed(3))}v&&this.config.opt_out_useragent_filter&&(l.$browser_type=this._is_bot()?"bot":"browser"),(l=Q({},d,this.persistence.properties(),this.sessionPersistence.properties(),l)).$is_identified=this._isIdentified(),R(this.config.property_denylist)?Z(this.config.property_denylist,function(e){delete l[e]}):q.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var _=this.config.sanitize_properties;_&&(q.error("sanitize_properties is deprecated. Use before_send instead"),l=_(l,e));var b=this.xs();return l.$process_person_profile=b,b&&!i&&this.Es("_calculate_event_properties"),l}$s(e){if(!this.persistence||!this.xs()||this.ns)return e;var t,r=Q({},this.persistence.get_initial_props(),(null==(t=this.sessionPropsManager)?void 0:t.getSetOnceProps())||{},e||{}),n=this.config.sanitize_properties;return n&&(q.error("sanitize_properties is deprecated. Use before_send instead"),r=n(r,"$set_once")),this.ns=!0,M(r)?void 0:r}register(e,t){var r;null==(r=this.persistence)||r.register(e,t)}register_once(e,t,r){var n;null==(n=this.persistence)||n.register_once(e,t,r)}register_for_session(e){var t;null==(t=this.sessionPersistence)||t.register(e)}unregister(e){var t;null==(t=this.persistence)||t.unregister(e)}unregister_for_session(e){var t;null==(t=this.sessionPersistence)||t.unregister(e)}Is(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}getEarlyAccessFeatures(e,t,r){return void 0===t&&(t=!1),this.featureFlags.getEarlyAccessFeatures(e,t,r)}on(e,t){return this.os.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,r;return null!==(t=null==(r=this.sessionManager)?void 0:r.onSessionId(e))&&void 0!==t?t:()=>{}}getSurveys(e,t){void 0===t&&(t=!1),this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e,t){void 0===t&&(t=!1),this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,t){return void 0===t&&(t=!1),this.surveys.canRenderSurveyAsync(e,t)}identify(e,t,r){if(!this.__loaded||!this.persistence)return q.uninitializedWarning("posthog.identify");if(F(e)&&(e=e.toString(),q.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))q.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(this.Es("posthog.identify")){var n=this.get_distinct_id();this.register({$user_id:e}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:n},""),e!==n&&e!==this.get_property(eu)&&(this.unregister(eu),this.register({distinct_id:e}));var i="anonymous"===(this.persistence.get_property(ej)||"anonymous");e!==n&&i?(this.persistence.set_property(ej,"identified"),this.setPersonPropertiesForFlags(X({},r||{},t||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:n},{$set:t||{},$set_once:r||{}}),this.ds=s_(e,t,r),this.featureFlags.setAnonymousDistinctId(n)):(t||r)&&this.setPersonProperties(t,r),e!==n&&(this.reloadFeatureFlags(),this.unregister(eN))}}else q.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,t){if((e||t)&&this.Es("posthog.setPersonProperties")){var r=s_(this.get_distinct_id(),e,t);this.ds!==r?(this.setPersonPropertiesForFlags(X({},t||{},e||{})),this.capture("$set",{$set:e||{},$set_once:t||{}}),this.ds=r):q.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,t,r){if(e&&t){if(this.Es("posthog.group")){var n=this.getGroups();n[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:X({},n,{[e]:t})}),r&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:r}),this.setGroupPropertiesForFlags({[e]:r})),n[e]===t||r||this.reloadFeatureFlags()}}else q.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0),this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0),this.Es("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){if(q.info("reset"),!this.__loaded)return q.uninitializedWarning("posthog.reset");var t,r,n,i,s=this.get_property("$device_id");if(this.consent.reset(),null==(t=this.persistence)||t.clear(),null==(r=this.sessionPersistence)||r.clear(),this.surveys.reset(),null==(n=this.persistence)||n.set_property(ej,"anonymous"),null==(i=this.sessionManager)||i.resetSessionId(),this.ds=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:ez,$device_id:null},"");else{var o=this.config.get_device_id(tx());this.register_once({distinct_id:o,$device_id:e?o:s},"")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,t;return null!==(e=null==(t=this.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:t,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),n=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+t);if(null!=e&&e.withTimestamp&&r){var i,s=null!==(i=e.timestampLookBack)&&void 0!==i?i:10;if(!r)return n;n+="?t="+Math.max(Math.floor(((new Date).getTime()-r)/1e3)-s,0)}return n}alias(e,t){return e===this.get_property(el)?(q.critical("Attempting to create alias for existing People user - aborting."),-2):this.Es("posthog.alias")?(L(t)&&(t=this.get_distinct_id()),e!==t?(this.Is(eu,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(q.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var t,r,n,i,s=X({},this.config);P(e)&&(Q(this.config,sI(e)),null==(t=this.persistence)||t.update_config(this.config,s),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new iX(X({},this.config,{persistence:"sessionStorage"})),tA.O()&&"true"===tA.A("ph_debug")&&(this.config.debug=!0),this.config.debug&&(y.DEBUG=!0,q.info("set_config",JSON.stringify({config:e,oldConfig:s,newConfig:X({},this.config)},null,2))),null==(r=this.sessionRecording)||r.startIfEnabledOrStop(),null==(n=this.autocapture)||n.startIfEnabled(),null==(i=this.heatmaps)||i.startIfEnabled(),this.surveys.loadIfEnabled(),this.gs())}startSessionRecording(e){var t,r,n,i,s,o=!0===e,a={sampling:o||!(null==e||!e.sampling),linked_flag:o||!(null==e||!e.linked_flag),url_trigger:o||!(null==e||!e.url_trigger),event_trigger:o||!(null==e||!e.event_trigger)};Object.values(a).some(Boolean)&&(null==(t=this.sessionManager)||t.checkAndGetSessionAndWindowId(),a.sampling&&(null==(r=this.sessionRecording)||r.overrideSampling()),a.linked_flag&&(null==(n=this.sessionRecording)||n.overrideLinkedFlag()),a.url_trigger&&(null==(i=this.sessionRecording)||i.overrideTrigger("url")),a.event_trigger&&(null==(s=this.sessionRecording)||s.overrideTrigger("event"))),this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null==(e=this.sessionRecording)||!e.started)}captureException(e,t){var r=Error("PostHog syntheticException");this.exceptions.sendExceptionEvent(X({},function(e,t){var{error:r,event:n}=e,i={$exception_list:[]},s=r||n;if(tV(s)||tX(s,"DOMException")){if("stack"in s)i=rr(s,t);else{var o=s.name||(tV(s)?"DOMError":"DOMException"),a=s.message?o+": "+s.message:o;i=rn(a,X({},t,{overrideExceptionType:tV(s)?"DOMError":"DOMException",defaultExceptionMessage:a}))}return"code"in s&&(i.$exception_DOMException_code=""+s.code),i}if(tX(s,"ErrorEvent")&&s.error)return rr(s.error,t);if(tJ(s))return rr(s,t);if(tX(s,"Object")||tz(s))return function(e,t){var r,n,i,s=null===(n=null==t?void 0:t.handled)||void 0===n||n,o=null===(i=null==t?void 0:t.synthetic)||void 0===i||i,a={type:null!=t&&t.overrideExceptionType?t.overrideExceptionType:tz(e)?e.constructor.name:"Error",value:"Non-Error 'exception' captured with keys: "+function(e,t){void 0===t&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length||i.length<=t?i:i.slice(0,t)+"..."}return""}(e),mechanism:{handled:s,synthetic:o}};if(null!=t&&t.syntheticException){var l=re(null==t?void 0:t.syntheticException,1);l.length&&(a.stacktrace={frames:l,type:"raw"})}return{$exception_list:[a],$exception_level:$(r=e.level)&&!N(r)&&S.indexOf(r)>=0?e.level:"error"}}(s,t);if(L(r)&&$(n)){var l="Error",u=n,c=n.match(t7);return c&&(l=c[1],u=c[2]),rn(u,X({},t,{overrideExceptionType:l,defaultExceptionMessage:u}))}return rn(s,t)}(e instanceof Error?{error:e,event:e.message}:{event:e},{syntheticException:r}),t))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null==(t=this.persistence)?void 0:t.props[e]}getSessionProperty(e){var t;return null==(t=this.sessionPersistence)?void 0:t.props[e]}toString(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:sx;return t!==sx&&(t=sx+"."+t),t}_isIdentified(){var e,t;return"identified"===(null==(e=this.persistence)?void 0:e.get_property(ej))||"identified"===(null==(t=this.sessionPersistence)?void 0:t.get_property(ej))}xs(){var e,t,r,n;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&M(this.getGroups())&&(null==(e=this.persistence)||null==(t=e.props)||!t[eu])&&(null==(r=this.persistence)||null==(n=r.props)||!n[eH]))}Ss(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||"history_change"===this.config.capture_pageview)}createPersonProfile(){this.xs()||this.Es("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Es(e){return"never"===this.config.person_profiles?(q.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Is(eH,!0),!0)}gs(){var e,t,r,n,i=this.consent.isOptedOut(),s=this.config.opt_out_persistence_by_default,o=this.config.disable_persistence||i&&!!s;(null==(e=this.persistence)?void 0:e.$e)!==o&&(null==(r=this.persistence)||r.set_disabled(o)),(null==(t=this.sessionPersistence)?void 0:t.$e)!==o&&(null==(n=this.sessionPersistence)||n.set_disabled(o))}opt_in_capturing(e){var t;this.consent.optInOut(!0),this.gs(),(L(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:"$opt_in",null==e?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.ys()}opt_out_capturing(){this.consent.optInOut(!1),this.gs()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this.gs()}_is_bot(){return d?sv(d,this.config.custom_blocked_useragents):void 0}ys(){h&&("visible"===h.visibilityState?this.ls||(this.ls=!0,this.capture("$pageview",{title:h.title},{send_instantly:!0}),this.hs&&(h.removeEventListener("visibilitychange",this.hs),this.hs=null)):this.hs||(this.hs=this.ys.bind(this),ea(h,"visibilitychange",this.hs)))}debug(e){!1===e?(null==o||o.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==o||o.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}ks(e){if(D(this.config.before_send))return e;var t=R(this.config.before_send)?this.config.before_send:[this.config.before_send],r=e;for(var n of t){if(D(r=n(r))){var i="Event '"+e.event+"' was rejected in beforeSend function";return W(e.event)?q.warn(i+". This can cause unexpected behavior."):q.info(i),null}r.properties&&!M(r.properties)||q.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return r}getPageViewId(){var e;return null==(e=this.pageViewManager.ne)?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,r){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(r)})}}!function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=en(e.prototype[t[r]])}(sR,["identify"]),(sP=sD||(sD={})).Button="button",sP.Tab="tab",sP.Selector="selector",(sM=sF||(sF={})).Left="left",sM.Center="center",sM.Right="right",sM.NextToTrigger="next_to_trigger",(sL=sU||(sU={})).Popover="popover",sL.API="api",sL.Widget="widget",(s$=sB||(sB={})).Open="open",s$.MultipleChoice="multiple_choice",s$.SingleChoice="single_choice",s$.Rating="rating",s$.Link="link",(sN=sW||(sW={})).NextQuestion="next_question",sN.End="end",sN.ResponseBased="response_based",sN.SpecificQuestion="specific_question",(sj=sH||(sH={})).Once="once",sj.Recurring="recurring",sj.Always="always";var sA,sP,sM,sL,s$,sN,sj,sD,sF,sU,sB,sW,sH,sq,sz=(sq=sk[sx]=new sR,function(){function e(){e.done||(e.done=!0,sT=!1,Z(sk,function(e){e._dom_loaded()}))}null!=h&&h.addEventListener?"complete"===h.readyState?e():ea(h,"DOMContentLoaded",e,{capture:!1}):o&&q.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),sq)},36842:function(e,t,r){"use strict";r.d(t,{U0:function(){return a},zf:function(){return o}});var n=r(31488),i=r(71248),s=(0,i.createContext)({client:n.ZP});function o(e){var t=e.children,r=e.client,o=e.apiKey,a=e.options,l=(0,i.useRef)(null),u=(0,i.useMemo)(function(){return r?(o&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),a&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),r):(o||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),n.ZP)},[r,o,JSON.stringify(a)]);return(0,i.useEffect)(function(){if(!r){var e=l.current;e?(o!==e.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),a&&!function e(t,r,n){if(void 0===n&&(n=new WeakMap),t===r)return!0;if("object"!=typeof t||null===t||"object"!=typeof r||null===r)return!1;if(n.has(t)&&n.get(t)===r)return!0;n.set(t,r);var i=Object.keys(t),s=Object.keys(r);if(i.length!==s.length)return!1;for(var o=0;o<i.length;o++){var a=i[o];if(!s.includes(a)||!e(t[a],r[a],n))return!1}return!0}(a,e.options)&&n.ZP.set_config(a)):(n.ZP.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),n.ZP.init(o,a)),l.current={apiKey:o,options:null!=a?a:{}}}},[r,o,JSON.stringify(a)]),i.createElement(s.Provider,{value:{client:u}},t)}var a=function(){return(0,i.useContext)(s).client},l=function(e,t){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},u=function(e){return"function"==typeof e},c={componentStack:null,error:null};!function(e){function t(t){var r=e.call(this,t)||this;return r.state=c,r}!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.componentDidCatch=function(e,t){var r,n=t.componentStack,i=this.props.additionalProperties;this.setState({error:e,componentStack:n}),u(i)?r=i(e):"object"==typeof i&&(r=i),this.context.client.captureException(e,r)},t.prototype.render=function(){var e=this.props,t=e.children,r=e.fallback,n=this.state;if(null==n.componentStack)return u(t)?t():t;var s=u(r)?i.createElement(r,{error:n.error,componentStack:n.componentStack}):r;return i.isValidElement(s)?s:(console.warn("[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."),i.createElement(i.Fragment,null))},t.contextType=s}(i.Component)},12375:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YouTubeEmbed=t.GoogleMapsEmbed=t.GoogleAnalytics=void 0;var n=r(33909);Object.defineProperty(t,"GoogleAnalytics",{enumerable:!0,get:function(){return n.GoogleAnalytics}});var i=r(32962);Object.defineProperty(t,"GoogleMapsEmbed",{enumerable:!0,get:function(){return i.GoogleMapsEmbed}});var s=r(48640);Object.defineProperty(t,"YouTubeEmbed",{enumerable:!0,get:function(){return s.YouTubeEmbed}})},33909:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAnalytics=void 0;let s=i(r(89426)),o=r(79307);t.GoogleAnalytics=e=>{var t=n(e,[]);return(0,o.formatData)(s.default,t)}},32962:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleMapsEmbed=void 0;let s=i(r(27395)),o=r(79307);t.GoogleMapsEmbed=e=>{var t=n(e,[]);return(0,o.formatData)(s.default,t)}},48640:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.YouTubeEmbed=void 0;let s=i(r(88420)),o=r(79307);t.YouTubeEmbed=e=>{var t=n(e,[]);return(0,o.formatData)(s.default,t)}},79307:function(e,t){"use strict";function r(e,t,r=!1){return t?Object.keys(e).filter(e=>r?!t.includes(e):t.includes(e)).reduce((t,r)=>(t[r]=e[r],t),{}):{}}function n(e,t,r,n){let i=n&&Object.keys(n).length>0?new URL(Object.values(n)[0],e):new URL(e);return t&&r&&t.forEach(e=>{r[e]&&i.searchParams.set(e,r[e])}),i.toString()}function i(e,t,r,i,s){var o;if(!t)return`<${e}></${e}>`;let a=(null===(o=t.src)||void 0===o?void 0:o.url)?Object.assign(Object.assign({},t),{src:n(t.src.url,t.src.params,i,s)}):t,l=Object.keys(Object.assign(Object.assign({},a),r)).reduce((e,t)=>{let n=null==r?void 0:r[t],i=a[t],s=null!=n?n:i,o=!0===s?t:`${t}="${s}"`;return s?e+` ${o}`:e},"");return`<${e}${l}></${e}>`}Object.defineProperty(t,"__esModule",{value:!0}),t.formatData=t.createHtml=t.formatUrl=void 0,t.formatUrl=n,t.createHtml=i,t.formatData=function(e,t){var s,o,a,l,u;let c=r(t,null===(s=e.scripts)||void 0===s?void 0:s.reduce((e,t)=>[...e,...Array.isArray(t.params)?t.params:[]],[])),d=r(t,null===(a=null===(o=e.html)||void 0===o?void 0:o.attributes.src)||void 0===a?void 0:a.params),h=r(t,[null===(u=null===(l=e.html)||void 0===l?void 0:l.attributes.src)||void 0===u?void 0:u.slugParam]),f=r(t,[...Object.keys(c),...Object.keys(d),...Object.keys(h)],!0);return Object.assign(Object.assign({},e),{html:e.html?i(e.html.element,e.html.attributes,f,d,h):null,scripts:e.scripts?e.scripts.map(e=>Object.assign(Object.assign({},e),{url:n(e.url,e.params,c)})):null})}},6840:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(24291)}])},18274:function(e,t,r){"use strict";r.d(t,{pm:function(){return h}});var n=r(71248);let i=0,s=new Map,o=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},a=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?o(r):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],u={toasts:[]};function c(e){u=a(u,e),l.forEach(e=>{e(u)})}function d(e){let{...t}=e,r=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function h(){let[e,t]=n.useState(u);return n.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},98769:function(e,t,r){"use strict";r.d(t,{br:function(){return a},kx:function(){return o},tH:function(){return s},tg:function(){return i},v0:function(){return l}});var n=r(31031);let i=e=>{var t;return e?null===(t=Object.values(s).filter(t=>e===t.stripePriceId))||void 0===t?void 0:t[0]:s.free},s={free:{plan:"free",name:"Free",description:"Trying out Magic Loops?",priceUsd:0,credits:3e3,runsToSet:100,estimatedLoopRuns:"100",privateLoops:!1,unlimitedGenerations:!0,customModels:!1,soc2:!1,support:"Community",stripePriceId:void 0},hobby:{plan:"hobby",name:"Hobby",description:"Have a couple daily automations?",priceUsd:9,credits:9e3,runsToSet:300,estimatedLoopRuns:"300",privateLoops:!0,unlimitedGenerations:!0,customModels:!1,soc2:!1,support:"Dedicated",stripePriceId:(0,n.r8)()?"price_1OeALUICPXCh8NHbCeNTCE7h":"price_1OeAOmICPXCh8NHb1jeCVVCy"},professional:{plan:"professional",name:"Professional",description:"Do you rely on Loops for work?",priceUsd:20,credits:2e4,runsToSet:700,estimatedLoopRuns:"670",privateLoops:!0,unlimitedGenerations:!0,customModels:!1,soc2:!1,support:"Dedicated",stripePriceId:(0,n.r8)()?"price_1OeAL4ICPXCh8NHb7O5ISaH1":"price_1OeAOOICPXCh8NHb3IMIzdLM"},developer:{plan:"developer",name:"Developer",description:"Building with Magic Loops?",priceUsd:50,credits:5e4,runsToSet:2e3,estimatedLoopRuns:"1700",privateLoops:!0,unlimitedGenerations:!0,customModels:!1,soc2:!1,support:"Dedicated",stripePriceId:(0,n.r8)()?"price_1OeAKVICPXCh8NHbvdmzowK9":"price_1OeANrICPXCh8NHbQcKIlqjE"},startup:{plan:"startup",name:"Startup",description:"Production use? We got you.",priceUsd:300,credits:3e5,runsToSet:2e3,estimatedLoopRuns:"10k",privateLoops:!0,unlimitedGenerations:!0,customModels:!0,soc2:!1,support:"1:1",stripePriceId:(0,n.r8)()?"price_1Pe3JNICPXCh8NHbHwE5LKjt":"price_1PdMRqICPXCh8NHbe3K1hrSl"},enterprise:{plan:"enterprise",name:"Enterprise",description:"Using Magic Loops at scale?",priceUsd:0,credits:1e6,runsToSet:1e6,estimatedLoopRuns:"Unlimited",privateLoops:!0,unlimitedGenerations:!0,customModels:!0,soc2:!0,support:"1:1",stripePriceId:void 0}},o=Object.values(s),a=o.filter(e=>!!e.stripePriceId),l={free:{monthlyCredits:3e3,genAllocationPct:85,dailyGenCredits:250,monthlyRunCredits:500},hobby:{monthlyCredits:9e3,genAllocationPct:80},professional:{monthlyCredits:2e4,genAllocationPct:70},developer:{monthlyCredits:5e4,genAllocationPct:40},startup:{monthlyCredits:3e5,genAllocationPct:25},enterprise:{monthlyCredits:1e6,genAllocationPct:25}}},51645:function(e,t,r){"use strict";r.d(t,{H:function(){return a},a:function(){return l}});var n=r(74817),i=r(71248),s=r(86774);let o=(0,i.createContext)(void 0);function a(e){var t;let{children:r}=e,a=(0,i.useMemo)(()=>(0,s.e)(),[]),[l,u]=(0,i.useState)(null),[c,d]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let{data:{subscription:e}}=a.auth.onAuthStateChange((e,t)=>{"SIGNED_OUT"===e?u(null):t&&(u(t),"INITIAL_SESSION"===e&&d(!1))});return()=>e.unsubscribe()},[]);let h={supabase:a,session:l,user:null!==(t=null==l?void 0:l.user)&&void 0!==t?t:null,loading:c};return(0,n.jsx)(o.Provider,{value:h,children:r})}let l=()=>{let e=(0,i.useContext)(o);if(!e)throw Error("useAuth must be used within <AuthProvider>");return e}},29025:function(e,t,r){"use strict";r.d(t,{U:function(){return l},a:function(){return a}});var n=r(74817),i=r(71248),s=r(86774);let o=(0,i.createContext)(void 0),a=e=>{let{children:t}=e,[r,a]=(0,i.useState)(null),[l,u]=(0,i.useState)(void 0),c=(0,s.e)();(0,i.useEffect)(()=>{(async()=>{let{data:e}=await c.auth.getUser();a(e.user)})();let{data:{subscription:e}}=c.auth.onAuthStateChange((e,t)=>{var r;a(null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null)});return()=>{e.unsubscribe()}},[]);let d=(0,i.useCallback)(async()=>{if(!r)return;let{data:e,error:t}=await c.from("profiles").select("*").eq("id",r.id).single();t?console.error(t.message):u(e)},[r,c]);return(0,i.useEffect)(()=>{d()},[d]),(0,i.useEffect)(()=>{if(!r)return;let e=c.channel("profiles/".concat(r.id)).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:"id=eq.".concat(r.id)},e=>{u(e.new)}).subscribe();return()=>{c.removeChannel(e)}},[r,c]),(0,n.jsx)(o.Provider,{value:{userProfile:l,refreshProfile:d},children:t})},l=()=>{let e=(0,i.useContext)(o);if(void 0===e)throw Error("useProfile must be used within a ProfileProvider");return e}},73853:function(e,t,r){"use strict";r.d(t,{F:function(){return a},f:function(){return o}});var n=r(74817),i=r(71248);let s=(0,i.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,i.useState)(()=>localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));return(0,i.useEffect)(()=>{document.documentElement.classList.toggle("dark","dark"===r),localStorage.setItem("theme",r)},[r]),(0,n.jsx)(s.Provider,{value:{theme:r,setTheme:o},children:t})},a=()=>{let e=(0,i.useContext)(s);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},5673:function(e,t,r){"use strict";r.d(t,{$:function(){return u},B:function(){return l}});var n=r(74817),i=r(71248),s=r(51645),o=r(98769);let a=(0,i.createContext)(void 0),l=e=>{let{children:t}=e,{user:r,supabase:l}=(0,s.a)(),[u,c]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),f=e=>{if(!e)return null;if("free"===e.plan&&0>=(e.credit_balance||0)){let t=new Date,r=e.daily_gen_reset_ts?new Date(e.daily_gen_reset_ts):null,n=!r||t.getTime()-r.getTime()>=864e5?o.v0.free.dailyGenCredits:o.v0.free.dailyGenCredits-(e.daily_gen_spent||0),i=e.last_run_reset?new Date(e.last_run_reset):null,s=!i||t.getTime()-i.getTime()>=2592e6?o.v0.free.monthlyRunCredits:e.run_credit_balance||0;return{totalBalance:n+s,genRemaining:n,runRemaining:s,genAllocationPct:o.v0.free.genAllocationPct}}{let t=(e.credit_balance||0)+(e.period_gen_spend||0)+(e.period_run_spend||0),r=e.gen_allocation_pct||70,n=Math.floor(t*r/100);return{totalBalance:e.credit_balance||0,genRemaining:n-(e.period_gen_spend||0),runRemaining:t-n-(e.period_run_spend||0),genAllocationPct:r}}};return(0,i.useEffect)(()=>{if(!r){c(null),h(null);return}l.from("users").select("\n        *,\n        genCredits,\n        credit_balance,\n        gen_allocation_pct,\n        period_gen_spend,\n        period_run_spend,\n        daily_gen_spent,\n        daily_gen_reset_ts,\n        run_credit_balance,\n        last_run_reset\n      ").eq("id",r.id).single().then(e=>{let{data:t,error:r}=e;r?console.error(r.message):(c(t),h(f(t)))});let e=l.channel("users/".concat(r.id)).on("postgres_changes",{event:"UPDATE",schema:"public",table:"users",filter:"id=eq.".concat(r.id)},e=>{let t=e.new;c(t),h(f(t))}).subscribe();return()=>{l.removeChannel(e)}},[r,l]),(0,n.jsx)(a.Provider,{value:{userUsage:u,creditBalance:d,refreshCreditBalance:async()=>{if(r)try{let{data:e,error:t}=await l.from("users").select("\n                *,\n                genCredits,\n                credit_balance,\n                gen_allocation_pct,\n                period_gen_spend,\n                period_run_spend,\n                daily_gen_spent,\n                daily_gen_reset_ts,\n                run_credit_balance,\n                last_run_reset\n              ").eq("id",r.id).single();if(t){console.error("Error refreshing credit balance:",t);return}e&&(c(e),h(f(e)))}catch(e){console.error("Unexpected error refreshing credit balance:",e)}}},children:t})},u=()=>{let e=(0,i.useContext)(a);if(void 0===e)throw Error("useUserUsage must be used within a UserUsageProvider");return e}},2002:function(e,t,r){"use strict";r.d(t,{cn:function(){return Y},X:function(){return Z}});var n=r(72801);let i=e=>{let t=l(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{let r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),s(r,t)||a(e)},getConflictingClassGroupIds:(e,t)=>{let i=r[e]||[];return t&&n[e]?[...i,...n[e]]:i}}},s=(e,t)=>{if(0===e.length)return t.classGroupId;let r=e[0],n=t.nextPart.get(r),i=n?s(e.slice(1),n):void 0;if(i)return i;if(0===t.validators.length)return;let o=e.join("-");return t.validators.find(({validator:e})=>e(o))?.classGroupId},o=/^\[(.+)\]$/,a=e=>{if(o.test(e)){let t=o.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},l=e=>{let{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return h(Object.entries(e.classGroups),r).forEach(([e,r])=>{u(r,n,e,t)}),n},u=(e,t,r,n)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:c(t,e)).classGroupId=r;return}if("function"==typeof e){if(d(e)){u(e(n),t,r,n);return}t.validators.push({validator:e,classGroupId:r});return}Object.entries(e).forEach(([e,i])=>{u(i,c(t,e),r,n)})})},c=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},d=e=>e.isThemeGetter,h=(e,t)=>t?e.map(([e,r])=>[e,r.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,r])=>[t+e,r])):e)]):e,f=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=new Map,n=new Map,i=(i,s)=>{r.set(i,s),++t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(i(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):i(e,t)}}},p=e=>{let{separator:t,experimentalParseClassName:r}=e,n=1===t.length,i=t[0],s=t.length,o=e=>{let r;let o=[],a=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===a){if(c===i&&(n||e.slice(u,u+s)===t)){o.push(e.slice(l,u)),l=u+s;continue}if("/"===c){r=u;continue}}"["===c?a++:"]"===c&&a--}let u=0===o.length?e:e.substring(l),c=u.startsWith("!"),d=c?u.substring(1):u;return{modifiers:o,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:r&&r>l?r-l:void 0}};return r?e=>r({className:e,parseClassName:o}):o},g=e=>{if(e.length<=1)return e;let t=[],r=[];return e.forEach(e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t},m=e=>({cache:f(e.cacheSize),parseClassName:p(e),...i(e)}),v=/\s+/,_=(e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(v),a="";for(let e=o.length-1;e>=0;e-=1){let t=o[e],{modifiers:l,hasImportantModifier:u,baseClassName:c,maybePostfixModifierPosition:d}=r(t),h=!!d,f=n(h?c.substring(0,d):c);if(!f){if(!h||!(f=n(c))){a=t+(a.length>0?" "+a:a);continue}h=!1}let p=g(l).join(":"),m=u?p+"!":p,v=m+f;if(s.includes(v))continue;s.push(v);let _=i(f,h);for(let e=0;e<_.length;++e){let t=_[e];s.push(m+t)}a=t+(a.length>0?" "+a:a)}return a};function y(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=b(e))&&(n&&(n+=" "),n+=t);return n}let b=e=>{let t;if("string"==typeof e)return e;let r="";for(let n=0;n<e.length;n++)e[n]&&(t=b(e[n]))&&(r&&(r+=" "),r+=t);return r},w=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},S=/^\[(?:([a-z-]+):)?(.+)\]$/i,k=/^\d+\/\d+$/,E=new Set(["px","full","screen"]),x=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,T=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,C=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,I=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,R=e=>P(e)||E.has(e)||k.test(e),A=e=>z(e,"length",G),P=e=>!!e&&!Number.isNaN(Number(e)),M=e=>z(e,"number",P),L=e=>!!e&&Number.isInteger(Number(e)),$=e=>e.endsWith("%")&&P(e.slice(0,-1)),N=e=>S.test(e),j=e=>x.test(e),D=new Set(["length","size","percentage"]),F=e=>z(e,D,J),U=e=>z(e,"position",J),B=new Set(["image","url"]),W=e=>z(e,B,V),H=e=>z(e,"",X),q=()=>!0,z=(e,t,r)=>{let n=S.exec(e);return!!n&&(n[1]?"string"==typeof t?n[1]===t:t.has(n[1]):r(n[2]))},G=e=>T.test(e)&&!C.test(e),J=()=>!1,X=e=>I.test(e),V=e=>O.test(e),K=function(e,...t){let r,n,i;let s=function(a){return n=(r=m(t.reduce((e,t)=>t(e),e()))).cache.get,i=r.cache.set,s=o,o(a)};function o(e){let t=n(e);if(t)return t;let s=_(e,r);return i(e,s),s}return function(){return s(y.apply(null,arguments))}}(()=>{let e=w("colors"),t=w("spacing"),r=w("blur"),n=w("brightness"),i=w("borderColor"),s=w("borderRadius"),o=w("borderSpacing"),a=w("borderWidth"),l=w("contrast"),u=w("grayscale"),c=w("hueRotate"),d=w("invert"),h=w("gap"),f=w("gradientColorStops"),p=w("gradientColorStopPositions"),g=w("inset"),m=w("margin"),v=w("opacity"),_=w("padding"),y=w("saturate"),b=w("scale"),S=w("sepia"),k=w("skew"),E=w("space"),x=w("translate"),T=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",N,t],O=()=>[N,t],D=()=>["",R,A],B=()=>["auto",P,N],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",N],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[P,N];return{cacheSize:500,separator:":",theme:{colors:[q],spacing:[R,A],blur:["none","",j,N],brightness:Y(),borderColor:[e],borderRadius:["none","","full",j,N],borderSpacing:O(),borderWidth:D(),contrast:Y(),grayscale:V(),hueRotate:Y(),invert:V(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[$,A],inset:I(),margin:I(),opacity:Y(),padding:O(),saturate:Y(),scale:Y(),sepia:V(),skew:Y(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",N]}],container:["container"],columns:[{columns:[j]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),N]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",L,N]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",N]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",L,N]}],"grid-cols":[{"grid-cols":[q]}],"col-start-end":[{col:["auto",{span:["full",L,N]},N]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[q]}],"row-start-end":[{row:["auto",{span:[L,N]},N]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",N]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",N]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",N,t]}],"min-w":[{"min-w":[N,t,"min","max","fit"]}],"max-w":[{"max-w":[N,t,"none","full","min","max","fit","prose",{screen:[j]},j]}],h:[{h:[N,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[N,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[N,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[N,t,"auto","min","max","fit"]}],"font-size":[{text:["base",j,A]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",M]}],"font-family":[{font:[q]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",N]}],"line-clamp":[{"line-clamp":["none",P,M]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",R,N]}],"list-image":[{"list-image":["none",N]}],"list-style-type":[{list:["none","disc","decimal",N]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",R,A]}],"underline-offset":[{"underline-offset":["auto",R,N]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",N]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",N]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),U]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",F]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[R,N]}],"outline-w":[{outline:[R,A]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[R,A]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",j,H]}],"shadow-color":[{shadow:[q]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",j,N]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",N]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",N]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",N]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[L,N]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",N]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",N]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",N]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[R,A,M]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Y(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return K((0,n.W)(t))}function Z(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):""}},98812:function(e,t,r){"use strict";r.d(t,{j:function(){return l}});var n=r(18260),i=r(96338),s=r(90289),o=r(63221),a=r(89100);function l(){a.WINDOW.document?a.WINDOW.document.addEventListener("visibilitychange",()=>{let e=(0,n.x1)();if(a.WINDOW.document.hidden&&e){let t="cancelled",{op:r,status:n}=(0,i.XU)(e);o.X&&s.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${r}`),n||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):o.X&&s.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}},35860:function(e,t,r){"use strict";r.d(t,{E8:function(){return k},Wo:function(){return E},og:function(){return x}});var n=r(5438),i=r(94624),s=r(99749),o=r(96338),a=r(38924),l=r(78079),u=r(18260),c=r(37940),d=r(3559),h=r(90289),f=r(72277),p=r(51314),g=r(40154),m=r(63221),v=r(98812),_=r(1136),y=r(91193),b=r(53505),w=r(89100);let S={...n.AT,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...b.k3},k=(e={})=>{let t=!!m.X&&!!(e.tracePropagationTargets||e.tracingOrigins);(0,i.T)(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);let r={...S,...e},n=(0,y.PR)(),l={};r.enableInp&&(0,y.NR)(l,r.interactionsSampleRate),r.enableLongTask&&(0,y.Fv)(),r._experiments.enableInteractions&&(0,y.sn)();let g={name:void 0,context:void 0};function k(e){let t;let o=(0,s.Gd)(),{beforeStartSpan:a,idleTimeout:l,finalTimeout:u,heartbeatInterval:c}=r,f="pageload"===e.op;if(f){let r=f?T("sentry-trace"):"",n=f?T("baggage"):void 0,{traceId:i,dsc:s,parentSpanId:o,sampled:a}=(0,d.pT)(r,n);t={traceId:i,parentSpanId:o,parentSampled:a,...e,metadata:{...e.metadata,dynamicSamplingContext:s},trimEnd:!0}}else t={trimEnd:!0,...e};let p=a?a(t):t;p.metadata=p.name!==t.name?{...p.metadata,source:"custom"}:p.metadata,g.name=p.name,g.context=p,!1===p.sampled&&m.X&&h.kg.log(`[Tracing] Will not send ${p.op} transaction because of beforeNavigate.`),m.X&&h.kg.log(`[Tracing] Starting ${p.op} transaction on scope`);let{location:v}=w.WINDOW,_=(0,i.l)(o,p,l,u,!0,{location:v},c,f);return f&&w.WINDOW.document&&(w.WINDOW.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(w.WINDOW.document.readyState)&&_.sendAutoFinishSignal()}),["interactive","complete"].includes(w.WINDOW.document.readyState)&&_.sendAutoFinishSignal()),_.registerBeforeFinishCallback(e=>{n(),(0,y.f7)(e)}),_}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){let n;let d=e.getOptions(),{markBackgroundSpan:y,traceFetch:S,traceXHR:T,shouldCreateSpanForRequest:C,enableHTTPTimings:I,_experiments:O}=r,R=d&&d.tracePropagationTargets,A=R||r.tracePropagationTargets;m.X&&t&&R&&h.kg.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let P=w.WINDOW.location&&w.WINDOW.location.href;e.on&&(e.on("startNavigationSpan",e=>{n&&(m.X&&h.kg.log(`[Tracing] Finishing current transaction with op: ${(0,o.XU)(n).op}`),n.end()),n=k({op:"navigation",...e})}),e.on("startPageLoadSpan",e=>{n&&(m.X&&h.kg.log(`[Tracing] Finishing current transaction with op: ${(0,o.XU)(n).op}`),n.end()),n=k({op:"pageload",...e})})),r.instrumentPageLoad&&e.emit&&w.WINDOW.location&&E(e,{name:w.WINDOW.location.pathname,startTimestamp:f.Z1?f.Z1/1e3:void 0,origin:"auto.pageload.browser",attributes:{[a.Zj]:"url"}}),r.instrumentNavigation&&e.emit&&w.WINDOW.location&&(0,p.a)(({to:t,from:r})=>{if(void 0===r&&P&&-1!==P.indexOf(t)){P=void 0;return}r!==t&&(P=void 0,x(e,{name:w.WINDOW.location.pathname,origin:"auto.navigation.browser",attributes:{[a.Zj]:"url"}}))}),y&&(0,v.j)(),O.enableInteractions&&function(e,t){let r;let n=()=>{let{idleTimeout:n,finalTimeout:o,heartbeatInterval:l}=e,c="ui.action.click",d=(0,u.x1)();if(d&&d.op&&["navigation","pageload"].includes(d.op)){m.X&&h.kg.warn(`[Tracing] Did not create ${c} transaction because a pageload or navigation transaction is in progress.`);return}if(r&&(r.setFinishReason("interactionInterrupted"),r.end(),r=void 0),!t.name){m.X&&h.kg.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}let{location:f}=w.WINDOW,p={name:t.name,op:c,trimEnd:!0,data:{[a.Zj]:t.context?function(e){let t=e.attributes&&e.attributes[a.Zj],r=e.data&&e.data[a.Zj],n=e.metadata&&e.metadata.source;return t||r||n}(t.context):"url"}};r=(0,i.l)((0,s.Gd)(),p,n,o,!0,{location:f},l)};["click"].forEach(e=>{w.WINDOW.document&&addEventListener(e,n,{once:!1,capture:!0})})}(r,g),r.enableInp&&function(e,t){let r=({entries:r})=>{let n=(0,c.s3)(),i=void 0!==n&&void 0!==n.getIntegrationByName?n.getIntegrationByName("Replay"):void 0,s=void 0!==i?i.getReplayId():void 0,o=(0,u.x1)(),a=(0,c.nZ)(),l=void 0!==a?a.getUser():void 0;r.forEach(r=>{if("duration"in r){let n=r.interactionId;if(void 0===n)return;let i=e[n],a=r.duration,u=r.startTime,c=Object.keys(e),d=c.length>0?c.reduce((t,r)=>e[t].duration<e[r].duration?t:r):void 0;if(!("first-input"===r.entryType&&c.map(t=>e[t]).some(e=>e.duration===a&&e.startTime===u))&&n){if(i)i.duration=Math.max(i.duration,a);else if(c.length<10||void 0===d||a>e[d].duration){let r=t.name,i=t.context;r&&i&&(d&&Object.keys(e).length>=10&&delete e[d],e[n]={routeName:r,duration:a,parentContext:i,user:l,activeTransaction:o,replayId:s,startTime:u})}}}})};(0,_._j)("event",r),(0,_._j)("first-input",r)}(l,g),(0,b.L7)({traceFetch:S,traceXHR:T,tracePropagationTargets:A,shouldCreateSpanForRequest:C,enableHTTPTimings:I})},options:r}};function E(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);let r=(0,l.HN)();return"pageload"===(r&&(0,o.XU)(r).op)?r:void 0}function x(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);let r=(0,l.HN)();return"navigation"===(r&&(0,o.XU)(r).op)?r:void 0}function T(e){let t=(0,g.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}},85068:function(e,t,r){"use strict";r.d(t,{gE:function(){return b}});var n=r(5438),i=r(94624),s=r(18260),o=r(38924),a=r(37940),l=r(90289),u=r(3559),c=r(40154),d=r(63221),h=r(98812),f=r(1136),p=r(91193),g=r(53505),m=r(72277),v=r(51314),_=r(89100);let y={...n.AT,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,r=!0){let n;if(!_.WINDOW||!_.WINDOW.location){d.X&&l.kg.warn("Could not initialize routing instrumentation due to invalid location");return}let i=_.WINDOW.location.href;t&&(n=e({name:_.WINDOW.location.pathname,startTimestamp:m.Z1?m.Z1/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),r&&(0,v.a)(({to:t,from:r})=>{if(void 0===r&&i&&-1!==i.indexOf(t)){i=void 0;return}r!==t&&(i=void 0,n&&(d.X&&l.kg.log(`[Tracing] Finishing current transaction with op: ${n.op}`),n.end()),n=e({name:_.WINDOW.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...g.k3};class b{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,(0,i.T)(),d.X&&(this._hasSetTracePropagationTargets=!!(e&&(e.tracePropagationTargets||e.tracingOrigins))),this.options={...y,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=(0,p.PR)(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&(0,p.NR)(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&(0,p.Fv)(),this.options._experiments.enableInteractions&&(0,p.sn)(),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,t){this._getCurrentHub=t;let r=t().getClient(),n=r&&r.getOptions(),{routingInstrumentation:i,startTransactionOnLocationChange:s,startTransactionOnPageLoad:o,markBackgroundTransactions:a,traceFetch:u,traceXHR:c,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:m}=this.options,v=n&&n.tracePropagationTargets,_=v||this.options.tracePropagationTargets;d.X&&this._hasSetTracePropagationTargets&&v&&l.kg.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),i(e=>{let r=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(r,e,t),r},o,s),a&&(0,h.j)(),m.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),(0,g.L7)({traceFetch:u,traceXHR:c,tracePropagationTargets:_,shouldCreateSpanForRequest:f,enableHTTPTimings:p})}_createRouteTransaction(e){let t;if(!this._getCurrentHub){d.X&&l.kg.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}let r=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:s,finalTimeout:o,heartbeatInterval:a}=this.options,c="pageload"===e.op;if(c){let r=c?w("sentry-trace"):"",n=c?w("baggage"):void 0,{traceId:i,dsc:s,parentSpanId:o,sampled:a}=(0,u.pT)(r,n);t={traceId:i,parentSpanId:o,parentSampled:a,...e,metadata:{...e.metadata,dynamicSamplingContext:s},trimEnd:!0}}else t={trimEnd:!0,...e};let h="function"==typeof n?n(t):t,f=void 0===h?{...t,sampled:!1}:h;f.metadata=f.name!==t.name?{...f.metadata,source:"custom"}:f.metadata,this._latestRoute.name=f.name,this._latestRoute.context=f,!1===f.sampled&&d.X&&l.kg.log(`[Tracing] Will not send ${f.op} transaction because of beforeNavigate.`),d.X&&l.kg.log(`[Tracing] Starting ${f.op} transaction on scope`);let{location:g}=_.WINDOW,m=(0,i.l)(r,f,s,o,!0,{location:g},a,c);return c&&_.WINDOW.document&&(_.WINDOW.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(_.WINDOW.document.readyState)&&m.sendAutoFinishSignal()}),["interactive","complete"].includes(_.WINDOW.document.readyState)&&m.sendAutoFinishSignal()),m.registerBeforeFinishCallback(e=>{this._collectWebVitals(),(0,p.f7)(e)}),m}_registerInteractionListener(){let e;let t=()=>{let{idleTimeout:t,finalTimeout:r,heartbeatInterval:n}=this.options,a="ui.action.click",u=(0,s.x1)();if(u&&u.op&&["navigation","pageload"].includes(u.op)){d.X&&l.kg.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub){d.X&&l.kg.warn(`[Tracing] Did not create ${a} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRoute.name){d.X&&l.kg.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}let c=this._getCurrentHub(),{location:h}=_.WINDOW,f={name:this._latestRoute.name,op:a,trimEnd:!0,data:{[o.Zj]:this._latestRoute.context?function(e){let t=e.attributes&&e.attributes[o.Zj],r=e.data&&e.data[o.Zj],n=e.metadata&&e.metadata.source;return t||r||n}(this._latestRoute.context):"url"}};e=(0,i.l)(c,f,t,r,!0,{location:h},n)};["click"].forEach(e=>{_.WINDOW.document&&addEventListener(e,t,{once:!1,capture:!0})})}_registerInpInteractionListener(){let e=({entries:e})=>{let t=(0,a.s3)(),r=void 0!==t&&void 0!==t.getIntegrationByName?t.getIntegrationByName("Replay"):void 0,n=void 0!==r?r.getReplayId():void 0,i=(0,s.x1)(),o=(0,a.nZ)(),l=void 0!==o?o.getUser():void 0;e.forEach(e=>{if("duration"in e){let t=e.interactionId;if(void 0===t)return;let r=this._interactionIdToRouteNameMapping[t],s=e.duration,o=e.startTime,a=Object.keys(this._interactionIdToRouteNameMapping),u=a.length>0?a.reduce((e,t)=>this._interactionIdToRouteNameMapping[e].duration<this._interactionIdToRouteNameMapping[t].duration?e:t):void 0;if(!("first-input"===e.entryType&&a.map(e=>this._interactionIdToRouteNameMapping[e]).some(e=>e.duration===s&&e.startTime===o))&&t){if(r)r.duration=Math.max(r.duration,s);else if(a.length<10||void 0===u||s>this._interactionIdToRouteNameMapping[u].duration){let e=this._latestRoute.name,r=this._latestRoute.context;e&&r&&(u&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[u],this._interactionIdToRouteNameMapping[t]={routeName:e,duration:s,parentContext:r,user:l,activeTransaction:i,replayId:n,startTime:o})}}}})};(0,f._j)("event",e),(0,f._j)("first-input",e)}}function w(e){let t=(0,c.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}},1136:function(e,t,r){"use strict";let n,i,s,o,a,l;r.d(t,{PR:function(){return B},to:function(){return q},YF:function(){return z},$A:function(){return W},_j:function(){return G},_4:function(){return H}});var u=r(90289),c=r(67620),d=r(63221);let h=(e,t,r)=>{let n,i;return s=>{t.value>=0&&(s||r)&&((i=t.value-(n||0))||void 0===n)&&(n=t.value,t.delta=i,e(t))}};var f=r(89100);let p=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`;var g=r(3942);let m=()=>{let e=(0,g.W)();return e&&e.activationStart||0},v=(e,t)=>{let r=(0,g.W)(),n="navigate";return r&&(n=f.WINDOW.document&&f.WINDOW.document.prerendering||m()>0?"prerender":r.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:p(),navigationType:n}},_=(e,t,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let n=new PerformanceObserver(e=>{t(e.getEntries())});return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}};var y=r(23050);let b=(e,t={})=>{let r;let n=v("CLS",0),i=0,s=[],o=e=>{e.forEach(e=>{if(!e.hadRecentInput){let t=s[0],o=s[s.length-1];i&&0!==s.length&&e.startTime-o.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,s.push(e)):(i=e.value,s=[e]),i>n.value&&(n.value=i,n.entries=s,r&&r())}})},a=_("layout-shift",o);if(a){r=h(e,n,t.reportAllChanges);let i=()=>{o(a.takeRecords()),r(!0)};return(0,y.u)(i),i}};var w=r(39954);let S=e=>{let t;let r=(0,w.Y)(),n=v("FID"),i=e=>{e.startTime<r.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),t(!0))},s=e=>{e.forEach(i)},o=_("first-input",s);t=h(e,n),o&&(0,y.u)(()=>{s(o.takeRecords()),o.disconnect()},!0)},k=0,E=1/0,x=0,T=e=>{e.forEach(e=>{e.interactionId&&(E=Math.min(E,e.interactionId),k=(x=Math.max(x,e.interactionId))?(x-E)/7+1:0)})},C=()=>n?k:performance.interactionCount||0,I=()=>{"interactionCount"in performance||n||(n=_("event",T,{type:"event",buffered:!0,durationThreshold:0}))},O=()=>C(),R=[],A={},P=e=>{let t=R[R.length-1],r=A[e.interactionId];if(r||R.length<10||e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{let t={id:e.interactionId,latency:e.duration,entries:[e]};A[t.id]=t,R.push(t)}R.sort((e,t)=>t.latency-e.latency),R.splice(10).forEach(e=>{delete A[e.id]})}},M=()=>{let e=Math.min(R.length-1,Math.floor(O()/50));return R[e]},L=(e,t)=>{let r;t=t||{},I();let n=v("INP"),i=e=>{e.forEach(e=>{e.interactionId&&P(e),"first-input"!==e.entryType||R.some(t=>t.entries.some(t=>e.duration===t.duration&&e.startTime===t.startTime))||P(e)});let t=M();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},s=_("event",i,{durationThreshold:t.durationThreshold||40});r=h(e,n,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),(0,y.u)(()=>{i(s.takeRecords()),n.value<0&&O()>0&&(n.value=0,n.entries=[]),r(!0)}))},$={},N=e=>{let t;let r=(0,w.Y)(),n=v("LCP"),i=e=>{let i=e[e.length-1];if(i){let e=Math.max(i.startTime-m(),0);e<r.firstHiddenTime&&(n.value=e,n.entries=[i],t())}},s=_("largest-contentful-paint",i);if(s){t=h(e,n);let r=()=>{$[n.id]||(i(s.takeRecords()),s.disconnect(),$[n.id]=!0,t(!0))};return["keydown","click"].forEach(e=>{f.WINDOW.document&&addEventListener(e,r,{once:!0,capture:!0})}),(0,y.u)(r,!0),r}},j=e=>{f.WINDOW.document&&(f.WINDOW.document.prerendering?addEventListener("prerenderingchange",()=>j(e),!0):"complete"!==f.WINDOW.document.readyState?addEventListener("load",()=>j(e),!0):setTimeout(e,0))},D=(e,t)=>{t=t||{};let r=v("TTFB"),n=h(e,r,t.reportAllChanges);j(()=>{let e=(0,g.W)();if(e){if(r.value=Math.max(e.responseStart-m(),0),r.value<0||r.value>performance.now())return;r.entries=[e],n(!0)}})},F={},U={};function B(e,t=!1){return Q("cls",e,X,i,t)}function W(e,t=!1){return Q("lcp",e,K,o,t)}function H(e){return Q("ttfb",e,Y,a)}function q(e){return Q("fid",e,V,s)}function z(e){return Q("inp",e,Z,l)}function G(e,t){return ee(e,t),U[e]||(function(e){let t={};"event"===e&&(t.durationThreshold=0),_(e,t=>{J(e,{entries:t})},t)}(e),U[e]=!0),et(e,t)}function J(e,t){let r=F[e];if(r&&r.length)for(let n of r)try{n(t)}catch(t){d.X&&u.kg.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,c.$P)(n)}
Error:`,t)}}function X(){return b(e=>{J("cls",{metric:e}),i=e},{reportAllChanges:!0})}function V(){return S(e=>{J("fid",{metric:e}),s=e})}function K(){return N(e=>{J("lcp",{metric:e}),o=e})}function Y(){return D(e=>{J("ttfb",{metric:e}),a=e})}function Z(){return L(e=>{J("inp",{metric:e}),l=e})}function Q(e,t,r,n,i=!1){let s;return ee(e,t),U[e]||(s=r(),U[e]=!0),n&&t({metric:n}),et(e,t,i?s:void 0)}function ee(e,t){F[e]=F[e]||[],F[e].push(t)}function et(e,t,r){return()=>{r&&r();let n=F[e];if(!n)return;let i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},91193:function(e,t,r){"use strict";let n,i;r.d(t,{f7:function(){return $},NR:function(){return M},sn:function(){return P},Fv:function(){return A},PR:function(){return R}});var s=r(18260),o=r(37940),a=r(21038),l=r(74585),u=r(5238);function c(e){return[{type:"span"},e]}var d=r(96338),h=r(54436),f=r(37339),p=r(4883),g=r(72277),m=r(40154),v=r(90289),_=r(1252),y=r(63221),b=r(1136),w=r(89100),S=r(39954);function k(e){return"number"==typeof e&&isFinite(e)}function E(e,{startTimestamp:t,...r}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...r})}var x=r(3942);function T(e){return e/1e3}function C(){return w.WINDOW&&w.WINDOW.addEventListener&&w.WINDOW.performance}let I=0,O={};function R(){let e=C();if(e&&g.Z1){e.mark&&w.WINDOW.performance.mark("sentry-tracing-init");let t=(0,b.to)(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let r=T(g.Z1),n=T(t.startTime);y.X&&v.kg.log("[Measurements] Adding FID"),O.fid={value:e.value,unit:"millisecond"},O["mark.fid"]={value:r+n,unit:"second"}}),r=(0,b.PR)(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(y.X&&v.kg.log("[Measurements] Adding CLS"),O.cls={value:e.value,unit:""},i=t)},!0),s=(0,b.$A)(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(y.X&&v.kg.log("[Measurements] Adding LCP"),O.lcp={value:e.value,unit:"millisecond"},n=t)},!0),o=(0,b._4)(({metric:e})=>{e.entries[e.entries.length-1]&&(y.X&&v.kg.log("[Measurements] Adding TTFB"),O.ttfb={value:e.value,unit:"millisecond"})});return()=>{t(),r(),s(),o()}}return()=>void 0}function A(){(0,b._j)("longtask",({entries:e})=>{for(let t of e){let e=(0,s.x1)();if(!e)return;let r=T(g.Z1+t.startTime),n=T(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+n})}})}function P(){(0,b._j)("event",({entries:e})=>{for(let t of e){let e=(0,s.x1)();if(!e)return;if("click"===t.name){let r=T(g.Z1+t.startTime),n=T(t.duration),i={description:(0,m.Rt)(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+n},s=(0,m.iY)(t.target);s&&(i.attributes={"ui.component_name":s}),e.startChild(i)}}})}function M(e,t){if(C()&&g.Z1){let r=(0,b.YF)(({metric:r})=>{let n;if(void 0===r.value)return;let i=r.entries.find(e=>e.duration===r.value&&void 0!==L[e.name]),s=(0,o.s3)();if(!i||!s)return;let d=L[i.name],h=s.getOptions(),_=T(g.Z1+i.startTime),b=T(r.value),S=void 0!==i.interactionId?e[i.interactionId]:void 0;if(void 0===S)return;let{routeName:k,parentContext:E,activeTransaction:x,user:C,replayId:I}=S,O=void 0!==C?C.email||C.id||C.ip_address:void 0,R=void 0!==x?x.getProfileId():void 0,A=new a.D({startTimestamp:_,endTimestamp:_+b,op:`ui.interaction.${d}`,name:(0,m.Rt)(i.target),attributes:{release:h.release,environment:h.environment,transaction:k,...void 0!==O&&""!==O?{user:O}:{},...void 0!==R?{profile_id:R}:{},...void 0!==I?{replay_id:I}:{}},exclusiveTime:r.value,measurements:{inp:{value:r.value,unit:"millisecond"}}}),P=!!(0,f.z)(h)&&((n=void 0!==E&&"function"==typeof h.tracesSampler?h.tracesSampler({transactionContext:E,name:E.name,parentSampled:E.parentSampled,attributes:{...E.data,...E.attributes},location:w.WINDOW.location}):void 0!==E&&void 0!==E.sampled?E.sampled:void 0!==h.tracesSampleRate?h.tracesSampleRate:1,(0,p.X)(n))?!0===n?t:!1===n?0:n*t:(y.X&&v.kg.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1));if(P&&Math.random()<P){let e=A?function(e,t){let r={sent_at:new Date().toISOString()};t&&(r.dsn=(0,l.RA)(t));let n=e.map(c);return(0,u.Jd)(r,n)}([A],s.getDsn()):void 0,t=s&&s.getTransport();t&&e&&t.send(e).then(null,e=>{y.X&&v.kg.error("Error while sending interaction:",e)});return}});return()=>{r()}}return()=>void 0}let L={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function $(e){let t=C();if(!t||!w.WINDOW.performance.getEntries||!g.Z1)return;y.X&&v.kg.log("[Tracing] Adding & adjusting spans using Performance API");let r=T(g.Z1),s=t.getEntries(),{op:o,start_timestamp:a}=(0,d.XU)(e);if(s.slice(I).forEach(t=>{let n=T(t.startTime),i=T(t.duration);if("navigation"!==e.op||!a||!(r+n<a))switch(t.entryType){case"navigation":["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{N(e,t,n,r)}),N(e,t,"secureConnection",r,"TLS/SSL","connectEnd"),N(e,t,"fetch",r,"cache","domainLookupStart"),N(e,t,"domainLookup",r,"DNS"),t.responseEnd&&(E(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:r+T(t.requestStart),endTimestamp:r+T(t.responseEnd)}),E(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:r+T(t.responseStart),endTimestamp:r+T(t.responseEnd)}));break;case"mark":case"paint":case"measure":{(function(e,t,r,n,i){let s=i+r;E(e,{description:t.name,endTimestamp:s+n,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s})})(e,t,n,i,r);let s=(0,S.Y)(),o=t.startTime<s.firstHiddenTime;"first-paint"===t.name&&o&&(y.X&&v.kg.log("[Measurements] Adding FP"),O.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(y.X&&v.kg.log("[Measurements] Adding FCP"),O.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":(function(e,t,r,n,i,s){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;let o=(0,_.en)(r),a={};j(a,t,"transferSize","http.response_transfer_size"),j(a,t,"encodedBodySize","http.response_content_length"),j(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=r.includes(w.WINDOW.location.origin);let l=s+n;E(e,{description:r.replace(w.WINDOW.location.origin,""),endTimestamp:l+i,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})})(e,t,t.name,n,i,r)}}),I=Math.max(s.length-1,0),function(e){let t=w.WINDOW.navigator;if(!t)return;let r=t.connection;r&&(r.effectiveType&&e.setTag("effectiveConnectionType",r.effectiveType),r.type&&e.setTag("connectionType",r.type),k(r.rtt)&&(O["connection.rtt"]={value:r.rtt,unit:"millisecond"})),k(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),k(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===o){(function(e){let t=(0,x.W)();if(!t)return;let{responseStart:r,requestStart:n}=t;n<=r&&(y.X&&v.kg.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:r-n,unit:"millisecond"})})(O),["fcp","fp","lcp"].forEach(e=>{if(!O[e]||!a||r>=a)return;let t=O[e].value,n=Math.abs((r+T(t)-a)*1e3),i=n-t;y.X&&v.kg.log(`[Measurements] Normalized ${e} from ${t} to ${n} (${i})`),O[e].value=n});let t=O["mark.fid"];t&&O.fid&&(E(e,{description:"first input delay",endTimestamp:t.value+T(O.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete O["mark.fid"]),"fcp"in O||delete O.cls,Object.keys(O).forEach(e=>{(0,h.o)(e,O[e].value,O[e].unit)}),n&&(y.X&&v.kg.log("[Measurements] Adding LCP Data"),n.element&&e.setTag("lcp.element",(0,m.Rt)(n.element)),n.id&&e.setTag("lcp.id",n.id),n.url&&e.setTag("lcp.url",n.url.trim().slice(0,200)),e.setTag("lcp.size",n.size)),i&&i.sources&&(y.X&&v.kg.log("[Measurements] Adding CLS Data"),i.sources.forEach((t,r)=>e.setTag(`cls.source.${r+1}`,(0,m.Rt)(t.node))))}n=void 0,i=void 0,O={}}function N(e,t,r,n,i,s){let o=s?t[s]:t[`${r}End`],a=t[`${r}Start`];a&&o&&E(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||r,startTimestamp:n+T(a),endTimestamp:n+T(o)})}function j(e,t,r,n){let i=t[r];null!=i&&i<2147483647&&(e[n]=i)}},53505:function(e,t,r){"use strict";r.d(t,{k3:function(){return S},L7:function(){return k}});var n=r(96338),i=r(37339),s=r(20999),o=r(37940),a=r(99749),l=r(78079),u=r(38924),c=r(90121),d=r(20030),h=r(1252),f=r(58215),p=r(72277),g=r(37739),m=r(3559),v=r(1808),_=r(69764),y=r(1136),b=r(89100);let w=["localhost",/^\/(?!\/)/],S={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:w,tracePropagationTargets:w};function k(e){let{traceFetch:t,traceXHR:r,tracePropagationTargets:p,tracingOrigins:y,shouldCreateSpanForRequest:b,enableHTTPTimings:k}={traceFetch:S.traceFetch,traceXHR:S.traceXHR,...e},x="function"==typeof b?b:e=>!0,C=e=>{var t;return t=p||y,(0,g.U0)(e,t||w)},I={};t&&(0,d.U)(e=>{let t=function(e,t,r,d,f="auto.http.browser"){if(!(0,i.z)()||!e.fetchData)return;let p=t(e.fetchData.url);if(e.endTimestamp&&p){let t=e.fetchData.__span;if(!t)return;let r=d[t];r&&(function(e,t){if(t.response){(0,s.Q0)(e,t.response.status);let r=t.response&&t.response.headers&&t.response.headers.get("content-length");if(r){let t=parseInt(r);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(r,e),delete d[t]);return}let g=(0,o.nZ)(),y=(0,o.s3)(),{method:b,url:w}=e.fetchData,S=function(e){try{return new URL(e).href}catch(e){return}}(w),k=S?(0,h.en)(S).host:void 0,E=p?(0,l.qp)({name:`${b} ${w}`,onlyIfParent:!0,attributes:{url:w,type:"fetch","http.method":b,"http.url":S,"server.address":k,[u.S3]:f},op:"http.client"}):void 0;if(E&&(e.fetchData.__span=E.spanContext().spanId,d[E.spanContext().spanId]=E),r(e.fetchData.url)&&y){let t=e.args[0];e.args[1]=e.args[1]||{};let r=e.args[1];r.headers=function(e,t,r,i,s){let o=s||r.getSpan(),{traceId:l,spanId:u,sampled:d,dsc:h}={...(0,a.aF)().getPropagationContext(),...r.getPropagationContext()},f=o?(0,n.Hb)(o):(0,m.$p)(l,u,d),p=(0,v.IQ)(h||(o?(0,c.j)(o):(0,c._)(l,t,r))),g=i.headers||("undefined"!=typeof Request&&(0,_.V9)(e,Request)?e.headers:void 0);if(!g)return{"sentry-trace":f,baggage:p};if("undefined"!=typeof Headers&&(0,_.V9)(g,Headers)){let e=new Headers(g);return e.append("sentry-trace",f),p&&e.append(v.bU,p),e}if(Array.isArray(g)){let e=[...g,["sentry-trace",f]];return p&&e.push([v.bU,p]),e}{let e="baggage"in g?g.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),p&&t.push(p),{...g,"sentry-trace":f,baggage:t.length>0?t.join(","):void 0}}}(t,y,g,r,E)}return E}(e,x,C,I);if(t){let r=T(e.fetchData.url),n=r?(0,h.en)(r).host:void 0;t.setAttributes({"http.url":r,"server.address":n})}k&&t&&E(t)}),r&&(0,f.UK)(e=>{let t=function(e,t,r,d){let p=e.xhr,g=p&&p[f.xU];if(!(0,i.z)()||!p||p.__sentry_own_request__||!g)return;let _=t(g.url);if(e.endTimestamp&&_){let e=p.__sentry_xhr_span_id__;if(!e)return;let t=d[e];t&&void 0!==g.status_code&&((0,s.Q0)(t,g.status_code),t.end(),delete d[e]);return}let y=(0,o.nZ)(),b=(0,a.aF)(),w=T(g.url),S=w?(0,h.en)(w).host:void 0,k=_?(0,l.qp)({name:`${g.method} ${g.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":g.method,"http.url":w,url:g.url,"server.address":S,[u.S3]:"auto.http.browser"},op:"http.client"}):void 0;k&&(p.__sentry_xhr_span_id__=k.spanContext().spanId,d[p.__sentry_xhr_span_id__]=k);let E=(0,o.s3)();if(p.setRequestHeader&&r(g.url)&&E){let{traceId:e,spanId:t,sampled:r,dsc:i}={...b.getPropagationContext(),...y.getPropagationContext()};(function(e,t,r){try{e.setRequestHeader("sentry-trace",t),r&&e.setRequestHeader(v.bU,r)}catch(e){}})(p,k?(0,n.Hb)(k):(0,m.$p)(e,t,r),(0,v.IQ)(i||(k?(0,c.j)(k):(0,c._)(e,E,y))))}return k}(e,x,C,I);k&&t&&E(t)})}function E(e){let{url:t}=(0,n.XU)(e).data||{};if(!t||"string"!=typeof t)return;let r=(0,y._j)("resource",({entries:n})=>{n.forEach(n=>{"resource"===n.entryType&&"initiatorType"in n&&"string"==typeof n.nextHopProtocol&&("fetch"===n.initiatorType||"xmlhttprequest"===n.initiatorType)&&n.name.endsWith(t)&&((function(e){let{name:t,version:r}=function(e){let t="unknown",r="unknown",n="";for(let i of e){if("/"===i){[t,r]=e.split("/");break}if(!isNaN(Number(i))){t="h"===n?"http":n,r=e.split(n)[1];break}n+=i}return n===e&&(t=n),{name:t,version:r}}(e.nextHopProtocol),n=[];return(n.push(["network.protocol.version",r],["network.protocol.name",t]),p.Z1)?[...n,["http.request.redirect_start",x(e.redirectStart)],["http.request.fetch_start",x(e.fetchStart)],["http.request.domain_lookup_start",x(e.domainLookupStart)],["http.request.domain_lookup_end",x(e.domainLookupEnd)],["http.request.connect_start",x(e.connectStart)],["http.request.secure_connection_start",x(e.secureConnectionStart)],["http.request.connection_end",x(e.connectEnd)],["http.request.request_start",x(e.requestStart)],["http.request.response_start",x(e.responseStart)],["http.request.response_end",x(e.responseEnd)]]:n})(n).forEach(t=>e.setAttribute(...t)),setTimeout(r))})})}function x(e=0){return((p.Z1||performance.timeOrigin)+e)/1e3}function T(e){try{return new URL(e,b.WINDOW.location.origin).href}catch(e){return}}},89100:function(e,t,r){"use strict";r.d(t,{WINDOW:function(){return n}});let n=r(1925).GLOBAL_OBJ},3942:function(e,t,r){"use strict";r.d(t,{W:function(){return s}});var n=r(89100);let i=()=>{let e=n.WINDOW.performance.timing,t=n.WINDOW.performance.navigation.type,r={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(let t in e)"navigationStart"!==t&&"toJSON"!==t&&(r[t]=Math.max(e[t]-e.navigationStart,0));return r},s=()=>n.WINDOW.__WEB_VITALS_POLYFILL__?n.WINDOW.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||i()):n.WINDOW.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},39954:function(e,t,r){"use strict";r.d(t,{Y:function(){return l}});var n=r(89100),i=r(23050);let s=-1,o=()=>{n.WINDOW.document&&n.WINDOW.document.visibilityState&&(s="hidden"!==n.WINDOW.document.visibilityState||n.WINDOW.document.prerendering?1/0:0)},a=()=>{(0,i.u)(({timeStamp:e})=>{s=e},!0)},l=()=>(s<0&&(o(),a()),{get firstHiddenTime(){return s}})},23050:function(e,t,r){"use strict";r.d(t,{u:function(){return i}});var n=r(89100);let i=(e,t)=>{let r=i=>{("pagehide"===i.type||"hidden"===n.WINDOW.document.visibilityState)&&(e(i),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};n.WINDOW.document&&(addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0))}},63221:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});let n=!1},47234:function(e,t,r){"use strict";r.d(t,{R:function(){return p}});var n=r(86735),i=r(20214),s=r(81998),o=r(90289),a=r(5238),l=r(72277),u=r(74585),c=r(64961),d=r(20233),h=r(14869),f=r(83294);class p extends n.W{constructor(e){let t=h.m9.SENTRY_SDK_SOURCE||(0,s.S)();(0,i.V)(e,"browser",["browser"],t),super(e),e.sendClientReports&&h.m9.document&&h.m9.document.addEventListener("visibilitychange",()=>{"hidden"===h.m9.document.visibilityState&&this._flushOutcomes()})}eventFromException(e,t){return(0,d.dr)(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",r){return(0,d.aB)(this._options.stackParser,e,t,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){c.X&&o.kg.warn("SDK not enabled, will not capture user feedback.");return}let t=(0,f.r)(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,r)}_flushOutcomes(){let e=this._clearOutcomes();if(0===e.length){c.X&&o.kg.log("No outcomes to send");return}if(!this._dsn){c.X&&o.kg.log("No dsn provided, will not send outcomes");return}c.X&&o.kg.log("Sending outcomes:",e);let t=function(e,t,r){let n=[{type:"client_report"},{timestamp:(0,l.yW)(),discarded_events:e}];return(0,a.Jd)(t?{dsn:t}:{},[n])}(e,this._options.tunnel&&(0,u.RA)(this._dsn));this._sendEnvelope(t)}}},64961:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});let n=!1},20233:function(e,t,r){"use strict";r.d(t,{GJ:function(){return u},ME:function(){return g},aB:function(){return p},dr:function(){return f}});var n=r(37940),i=r(69764),s=r(33567),o=r(13476),a=r(23711),l=r(45795);function u(e,t){let r=d(e,t),n={type:t&&t.name,value:function(e){let t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}(t)};return r.length&&(n.stacktrace={frames:r}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function c(e,t){return{exception:{values:[u(e,t)]}}}function d(e,t){let r=t.stacktrace||t.stack||"",n=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(h.test(e.message))return 1}return 0}(t);try{return e(r,n)}catch(e){}return[]}let h=/Minified React error #\d+;/i;function f(e,t,r,n){let i=g(e,t,r&&r.syntheticException||void 0,n);return(0,o.EG)(i),i.level="error",r&&r.event_id&&(i.event_id=r.event_id),(0,a.WD)(i)}function p(e,t,r="info",n,i){let s=m(e,t,n&&n.syntheticException||void 0,i);return s.level=r,n&&n.event_id&&(s.event_id=n.event_id),(0,a.WD)(s)}function g(e,t,r,a,u){let h;if((0,i.VW)(t)&&t.error)return c(e,t.error);if((0,i.TX)(t)||(0,i.fm)(t)){if("stack"in t)h=c(e,t);else{let n=t.name||((0,i.TX)(t)?"DOMError":"DOMException"),s=t.message?`${n}: ${t.message}`:n;h=m(e,s,r,a),(0,o.Db)(h,s)}return"code"in t&&(h.tags={...h.tags,"DOMException.code":`${t.code}`}),h}return(0,i.VZ)(t)?c(e,t):((0,i.PO)(t)||(0,i.cO)(t)?h=function(e,t,r,o){let a=(0,n.s3)(),u=a&&a.getOptions().normalizeDepth,c={exception:{values:[{type:(0,i.cO)(t)?t.constructor.name:o?"UnhandledRejection":"Error",value:function(e,{isUnhandledRejection:t}){let r=(0,l.zf)(e),n=t?"promise rejection":"exception";if((0,i.VW)(e))return`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``;if((0,i.cO)(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return`Event \`${t}\` (type=${e.type}) captured as ${n}`}return`Object captured as ${n} with keys: ${r}`}(t,{isUnhandledRejection:o})}]},extra:{__serialized__:(0,s.Qy)(t,u)}};if(r){let t=d(e,r);t.length&&(c.exception.values[0].stacktrace={frames:t})}return c}(e,t,r,u):(h=m(e,t,r,a),(0,o.Db)(h,`${t}`,void 0)),(0,o.EG)(h,{synthetic:!0}),h)}function m(e,t,r,n){let s={};if(n&&r){let n=d(e,r);n.length&&(s.exception={values:[{value:t,stacktrace:{frames:n}}]})}if((0,i.Le)(t)){let{__sentry_template_string__:e,__sentry_template_values__:r}=t;return s.logentry={message:e,params:r},s}return s.message=t,s}},14869:function(e,t,r){"use strict";r.d(t,{Wz:function(){return u},m9:function(){return a},re:function(){return function e(t,r={},i){if("function"!=typeof t)return t;try{let e=t.__sentry_wrapped__;if(e)return e;if((0,s.HK)(t))return t}catch(e){return t}let a=function(){let s=Array.prototype.slice.call(arguments);try{i&&"function"==typeof i&&i.apply(this,arguments);let n=s.map(t=>e(t,r));return t.apply(this,n)}catch(e){throw l++,setTimeout(()=>{l--}),(0,n.$e)(t=>{t.addEventProcessor(e=>(r.mechanism&&((0,o.Db)(e,void 0,void 0),(0,o.EG)(e,r.mechanism)),e.extra={...e.extra,arguments:s},e)),(0,n.Tb)(e)}),e}};try{for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e])}catch(e){}(0,s.$Q)(a,t),(0,s.xp)(t,"__sentry_wrapped__",a);try{Object.getOwnPropertyDescriptor(a,"name").configurable&&Object.defineProperty(a,"name",{get:()=>t.name})}catch(e){}return a}}});var n=r(37940),i=r(1925),s=r(45795),o=r(13476);let a=i.GLOBAL_OBJ,l=0;function u(){return l>0}},61301:function(e,t,r){"use strict";let n;r.r(t),r.d(t,{Breadcrumbs:function(){return ef.O},BrowserClient:function(){return eo.R},BrowserProfilingIntegration:function(){return rf},BrowserTracing:function(){return tV.gE},Dedupe:function(){return ep.I},Feedback:function(){return tl},FunctionToString:function(){return u.c},GlobalHandlers:function(){return eg.d},HttpContext:function(){return em.q},Hub:function(){return G.Xb},InboundFilters:function(){return c.Q},Integrations:function(){return rg},LinkedErrors:function(){return ev.i},ModuleMetadata:function(){return k},Replay:function(){return ey.Le},ReplayCanvas:function(){return eX},SDK_VERSION:function(){return J.J},SEMANTIC_ATTRIBUTE_SENTRY_OP:function(){return X.$J},SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:function(){return X.S3},SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:function(){return X.TE},SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:function(){return X.Zj},Scope:function(){return V.sX},TryCatch:function(){return e_.p},WINDOW:function(){return es.m9},addBreadcrumb:function(){return R.n_},addEventProcessor:function(){return K.Q},addGlobalEventProcessor:function(){return Y.cc},addIntegration:function(){return f.M5},addTracingExtensions:function(){return Z.T},breadcrumbsIntegration:function(){return ef.f},browserApiErrorsIntegration:function(){return e_.t},browserProfilingIntegration:function(){return rh},browserTracingIntegration:function(){return tK.E8},captureConsoleIntegration:function(){return tp},captureEvent:function(){return R.eN},captureException:function(){return R.Tb},captureMessage:function(){return R.uT},captureSession:function(){return R.cg},captureUserFeedback:function(){return eh.Jd},chromeStackLineParser:function(){return eu.$3},close:function(){return R.xv},configureScope:function(){return R.e},contextLinesIntegration:function(){return t_},continueTrace:function(){return Q.yn},createTransport:function(){return ee.q},createUserFeedbackEnvelope:function(){return ed.r},debugIntegration:function(){return tb},dedupeIntegration:function(){return tS},defaultIntegrations:function(){return eh.SS},defaultRequestInstrumentationOptions:function(){return tY.k3},defaultStackLineParsers:function(){return eu.d8},defaultStackParser:function(){return eu.Dt},endSession:function(){return R.TM},eventFromException:function(){return ec.dr},eventFromMessage:function(){return ec.aB},exceptionFromError:function(){return ec.GJ},extraErrorDataIntegration:function(){return tA},extractTraceparentData:function(){return et.qG},feedbackIntegration:function(){return ta},flush:function(){return R.yl},forceLoad:function(){return eh.Eg},functionToStringIntegration:function(){return u.C},geckoStackLineParser:function(){return eu.$Q},getActiveSpan:function(){return Q.HN},getActiveTransaction:function(){return et.x1},getClient:function(){return R.s3},getCurrentHub:function(){return G.Gd},getCurrentScope:function(){return R.nZ},getDefaultIntegrations:function(){return eh.nV},getHubFromCarrier:function(){return G.vi},getReplay:function(){return ey.Bl},getSpanStatusFromHttpCode:function(){return er.ix},globalHandlersIntegration:function(){return eg.k},httpClientIntegration:function(){return tj},httpContextIntegration:function(){return em.s},inboundFiltersIntegration:function(){return c.S},init:function(){return eh.S1},instrumentOutgoingRequests:function(){return tY.L7},isInitialized:function(){return R.dk},lastEventId:function(){return R.eW},linkedErrorsIntegration:function(){return ev.O},makeBrowserOfflineTransport:function(){return t3},makeFetchTransport:function(){return ea.f},makeMain:function(){return G.pj},makeMultiplexedTransport:function(){return C},makeXHRTransport:function(){return el.K},metrics:function(){return q},moduleMetadataIntegration:function(){return S},onLoad:function(){return eh.lA},onProfilingStartRouteTransaction:function(){return ru},opera10StackLineParser:function(){return eu.NP},opera11StackLineParser:function(){return eu.HH},parameterize:function(){return z},replayCanvasIntegration:function(){return eJ},replayIntegration:function(){return ey.Li},reportingObserverIntegration:function(){return tz},rewriteFramesIntegration:function(){return tX.v},sendFeedback:function(){return e9},sessionTimingIntegration:function(){return tJ},setContext:function(){return R.v},setCurrentClient:function(){return en.K},setExtra:function(){return R.sU},setExtras:function(){return R.rJ},setHttpStatus:function(){return er.Q0},setMeasurement:function(){return ei.o},setTag:function(){return R.YA},setTags:function(){return R.mG},setUser:function(){return R.av},showReportDialog:function(){return eh.jp},spanStatusfromHttpCode:function(){return er.Zd},startBrowserTracingNavigationSpan:function(){return tK.og},startBrowserTracingPageLoadSpan:function(){return tK.Wo},startInactiveSpan:function(){return Q.qp},startSession:function(){return R.yj},startSpan:function(){return Q.GK},startSpanManual:function(){return Q.V0},startTransaction:function(){return R.Yr},trace:function(){return Q.g4},winjsStackLineParser:function(){return eu.R2},withActiveSpan:function(){return R._d},withIsolationScope:function(){return R.wi},withScope:function(){return R.$e},wrap:function(){return eh.re}});var i,s,o,a={};r.r(a),r.d(a,{FunctionToString:function(){return u.c},InboundFilters:function(){return c.Q},LinkedErrors:function(){return m}});var l={};r.r(l),r.d(l,{Breadcrumbs:function(){return ef.O},Dedupe:function(){return ep.I},GlobalHandlers:function(){return eg.d},HttpContext:function(){return em.q},LinkedErrors:function(){return ev.i},TryCatch:function(){return e_.p}});var u=r(99509),c=r(32753),d=r(11073);function h(e,t){let r={type:t.name||t.constructor.name,value:t.message},n=e(t.stack||"",1);return n.length&&(r.stacktrace={frames:n}),r}var f=r(52543);let p="LinkedErrors",g=(0,f._I)((e={})=>{let t=e.limit||5,r=e.key||"cause";return{name:p,setupOnce(){},preprocessEvent(e,n,i){let s=i.getOptions();(0,d.Z)(h,s.stackParser,s.maxValueLength,r,t,e,n)}}}),m=(0,f.RN)(p,g);var v=r(5238),_=r(1925);let y=new Map,b=new Set,w="ModuleMetadata",S=(0,f._I)(()=>({name:w,setupOnce(){},setup(e){"function"==typeof e.on&&e.on("beforeEnvelope",e=>{(0,v.gv)(e,(e,t)=>{if("event"===t){let t=Array.isArray(e)?e[1]:void 0;t&&(!function(e){try{e.exception.values.forEach(e=>{if(e.stacktrace)for(let t of e.stacktrace.frames||[])delete t.module_metadata})}catch(e){}}(t),e[1]=t)}})})},processEvent:(e,t,r)=>(!function(e,t){try{t.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[]){var r;if(!n.filename)continue;let t=(r=n.filename,function(e){if(_.GLOBAL_OBJ._sentryModuleMetadata)for(let t of Object.keys(_.GLOBAL_OBJ._sentryModuleMetadata)){let r=_.GLOBAL_OBJ._sentryModuleMetadata[t];if(!b.has(t)){for(let n of(b.add(t),e(t).reverse()))if(n.filename){y.set(n.filename,r);break}}}}(e),y.get(r));t&&(n.module_metadata=t)}})}catch(e){}}(r.getOptions().stackParser,e),e)})),k=(0,f.RN)(w,S);var E=r(74585),x=r(68508);function T(e,t){let r;return(0,v.gv)(e,(e,n)=>(t.includes(n)&&(r=Array.isArray(e)?e[1]:void 0),!!r)),r}function C(e,t){return r=>{let n=e(r),i=new Map;function s(t,n){let s=n?`${t}:${n}`:t,o=i.get(s);if(!o){let a=(0,E.U4)(t);if(!a)return;let l=(0,x.U)(a,r.tunnel);o=n?(t=>{let r=e(t);return{...r,send:async e=>{let t=T(e,["event","transaction","profile","replay_event"]);return t&&(t.release=n),r.send(e)}}})({...r,url:l}):e({...r,url:l}),i.set(s,o)}return[t,o]}return{send:async function(e){let r=t({envelope:e,getEvent:function(t){return T(e,t&&t.length?t:["event"])}}).map(e=>"string"==typeof e?s(e,void 0):s(e.dsn,e.release)).filter(e=>!!e);return 0===r.length&&r.push(["",n]),(await Promise.all(r.map(([t,r])=>r.send((0,v.Jd)(t?{...e[0],dsn:t}:e[0],e[1])))))[0]},flush:async function(e){let t=[await n.flush(e)];for(let[,r]of i)t.push(await r.flush(e));return t.every(e=>e)}}}}var I=r(90289),O=r(50751),R=r(37940),A=r(96338),P=r(72277),M=r(48721);class L{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}}class ${constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class N{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}}class j{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map(e=>"string"==typeof e?(0,M.M)(e):e).join(":")}}let D={c:L,g:$,d:N,s:j};var F=r(418);class U{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),5e3)}add(e,t,r,n="none",i={},s=(0,P.ph)()){let o=Math.floor(s),a=(0,M.s3)(t),l=(0,M.Bg)(i),u=(0,M.OC)(n),c=(0,M.Ic)(e,a,u,l),d=this._buckets.get(c),h=d&&"s"===e?d.metric.weight:0;d?(d.metric.add(r),d.timestamp<o&&(d.timestamp=o)):(d={metric:new D[e](r),timestamp:o,metricType:e,name:a,unit:u,tags:l},this._buckets.set(c,d));let f="string"==typeof r?d.metric.weight-h:r;(0,F.v)(e,a,f,u,i,c)}flush(){if(0!==this._buckets.size){if(this._client.captureAggregateMetrics){let e=Array.from(this._buckets).map(([,e])=>e);this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}let B="MetricsAggregator",W=(0,f._I)(()=>({name:B,setupOnce(){},setup(e){e.metricsAggregator=new U(e)}}));function H(e,t,r,n={}){let i=(0,R.s3)(),s=(0,R.nZ)();if(i){if(!i.metricsAggregator){O.X&&I.kg.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}let{unit:o,tags:a,timestamp:l}=n,{release:u,environment:c}=i.getOptions(),d=s.getTransaction(),h={};u&&(h.release=u),c&&(h.environment=c),d&&(h.transaction=(0,A.XU)(d).description||""),O.X&&I.kg.log(`Adding value of ${r} to ${e} metric ${t}`),i.metricsAggregator.add(e,t,r,o,{...h,...a},l)}}let q={increment:function(e,t=1,r){H("c",e,t,r)},distribution:function(e,t,r){H("d",e,t,r)},set:function(e,t,r){H("s",e,t,r)},gauge:function(e,t,r){H("g",e,t,r)},MetricsAggregator:(0,f.RN)(B,W),metricsAggregatorIntegration:W};function z(e,...t){let r=new String(String.raw(e,...t));return r.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),r.__sentry_template_values__=t,r}var G=r(99749),J=r(79676),X=r(38924),V=r(47781),K=r(86735),Y=r(11231),Z=r(94624),Q=r(78079),ee=r(40486),et=r(18260),er=r(20999),en=r(95831),ei=r(54436),es=r(14869),eo=r(47234),ea=r(24611),el=r(45942),eu=r(80086),ec=r(20233),ed=r(83294),eh=r(22616),ef=r(75994),ep=r(92724),eg=r(39020),em=r(57668),ev=r(45718),e_=r(55421),ey=r(3914),eb=r(47654);function ew(e,t,r=1/0,n=0){return!e||e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:ew(e.parentNode,t,r,n+1)}function eS(e,t){return r=>{if(null===r)return!1;try{if(e){if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let r=e.classList.length;r--;){let n=e.classList[r];if(t.test(n))return!0}return!1}(r,e))return!0}if(t&&r.matches(t))return!0;return!1}catch(e){return!1}}}(i=o||(o={}))[i.Document=0]="Document",i[i.DocumentType=1]="DocumentType",i[i.Element=2]="Element",i[i.Text=3]="Text",i[i.CDATA=4]="CDATA",i[i.Comment=5]="Comment";let ek="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",eE={map:{},getId:()=>(console.error(ek),-1),getNode:()=>(console.error(ek),null),removeNodeFromMap(){console.error(ek)},has:()=>(console.error(ek),!1),reset(){console.error(ek)}};function ex(e,t,r,n,i=window){let s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,n?r:{set(e){eA(()=>{r.set.call(this,e)},0),s&&s.set&&s.set.call(this,e)}}),()=>ex(e,t,s||{},!0)}function eT(e,t,r){try{if(!(t in e))return()=>{};let n=e[t],i=r(n);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=i,()=>{e[t]=n}}catch(e){return()=>{}}}function eC(e,t,r,n,i){if(!e)return!1;let s=e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null;if(!s)return!1;let o=eS(t,r);if(!i){let e=n&&s.matches(n);return o(s)&&!e}let a=ew(s,o),l=-1;return!(a<0)&&(n&&(l=ew(s,eS(null,n))),a>-1&&l<0||a<l)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(eE=new Proxy(eE,{get:(e,t,r)=>("map"===t&&console.error(ek),Reflect.get(e,t,r))})),/[1-9][0-9]{12}/.test(Date.now().toString());let eI={};function eO(e){let t=eI[e];if(t)return t;let r=window.document,n=window[e];if(r&&"function"==typeof r.createElement)try{let t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch(e){}return eI[e]=n.bind(window)}function eR(...e){return eO("requestAnimationFrame")(...e)}function eA(...e){return eO("setTimeout")(...e)}var eP=((s=eP||{})[s["2D"]=0]="2D",s[s.WebGL=1]="WebGL",s[s.WebGL2=2]="WebGL2",s);let eM=e=>n?(...t)=>{try{return e(...t)}catch(e){if(n&&!0===n(e))return()=>{};throw e}}:e;for(var eL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e$="undefined"==typeof Uint8Array?[]:new Uint8Array(256),eN=0;eN<eL.length;eN++)e$[eL.charCodeAt(eN)]=eN;var ej=function(e){var t,r=new Uint8Array(e),n=r.length,i="";for(t=0;t<n;t+=3)i+=eL[r[t]>>2]+eL[(3&r[t])<<4|r[t+1]>>4]+eL[(15&r[t+1])<<2|r[t+2]>>6]+eL[63&r[t+2]];return n%3==2?i=i.substring(0,i.length-1)+"=":n%3==1&&(i=i.substring(0,i.length-2)+"=="),i};let eD=new Map,eF=(e,t,r)=>{let n;if(!e||!(eB(e,t)||"object"==typeof e))return;let i=e.constructor.name,s=((n=eD.get(r))||(n=new Map,eD.set(r,n)),n.has(i)||n.set(i,[]),n.get(i)),o=s.indexOf(e);return -1===o&&(o=s.length,s.push(e)),o},eU=(e,t,r)=>e.map(e=>(function e(t,r,n){if(t instanceof Array)return t.map(t=>e(t,r,n));if(null===t);else if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray)return{rr_type:t.constructor.name,args:[Object.values(t)]};else if(t instanceof ArrayBuffer)return{rr_type:t.constructor.name,base64:ej(t)};else if(t instanceof DataView)return{rr_type:t.constructor.name,args:[e(t.buffer,r,n),t.byteOffset,t.byteLength]};else if(t instanceof HTMLImageElement){let e=t.constructor.name,{src:r}=t;return{rr_type:e,src:r}}else if(t instanceof HTMLCanvasElement)return{rr_type:"HTMLImageElement",src:t.toDataURL()};else if(t instanceof ImageData)return{rr_type:t.constructor.name,args:[e(t.data,r,n),t.width,t.height]};else if(eB(t,r)||"object"==typeof t)return{rr_type:t.constructor.name,index:eF(t,r,n)};return t})(e,t,r)),eB=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(e=>"function"==typeof t[e]).find(r=>e instanceof t[r]);function eW(e,t,r,n,i){let s=[];try{let o=eT(e.HTMLCanvasElement.prototype,"getContext",function(e){return function(s,...o){if(!eC(this,t,r,n,!0)){let e="experimental-webgl"===s?"webgl":s;if("__context"in this||(this.__context=e),i&&["webgl","webgl2"].includes(e)){if(o[0]&&"object"==typeof o[0]){let e=o[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else o.splice(0,1,{preserveDrawingBuffer:!0})}}return e.apply(this,[s,...o])}});s.push(o)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{s.forEach(e=>e())}}function eH(e,t,r,n,i,s,o,a){let l=[];for(let o of Object.getOwnPropertyNames(e))if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(o))try{if("function"!=typeof e[o])continue;let u=eT(e,o,function(e){return function(...l){let u=e.apply(this,l);if(eF(u,a,this),"tagName"in this.canvas&&!eC(this.canvas,n,i,s,!0)){let e=eU(l,a,this),n={type:t,property:o,args:e};r(this.canvas,n)}return u}});l.push(u)}catch(i){let n=ex(e,o,{set(e){r(this.canvas,{type:t,property:o,args:[e],setter:!0})}});l.push(n)}return l}class eq{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(e,t)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};let{sampling:t="all",win:r,blockClass:i,blockSelector:s,unblockSelector:o,maxCanvasSize:a,recordCanvas:l,dataURLOptions:u,errorHandler:c}=e;if(this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,c&&(n=c),e.enableManualSnapshot)return;eM(()=>{l&&"all"===t&&this.initCanvasMutationObserver(r,i,s,o),l&&"number"==typeof t&&this.initCanvasFPSObserver(t,r,i,s,o,a,{dataURLOptions:u})})()}initCanvasFPSObserver(e,t,r,n,i,s,o){let a=eW(t,r,n,i,!0),l=this.takeSnapshot(!1,e,t,r,n,i,s,o.dataURLOptions);this.resetObservers=()=>{a(),cancelAnimationFrame(l)}}initCanvasMutationObserver(e,t,r,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let i=eW(e,t,r,n,!1),s=function(e,t,r,n,i){let s=[];for(let o of Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype))try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[o])continue;let a=eT(t.CanvasRenderingContext2D.prototype,o,function(s){return function(...a){return eC(this.canvas,r,n,i,!0)||eA(()=>{let r=eU(a,t,this);e(this.canvas,{type:eP["2D"],property:o,args:r})},0),s.apply(this,a)}});s.push(a)}catch(n){let r=ex(t.CanvasRenderingContext2D.prototype,o,{set(t){e(this.canvas,{type:eP["2D"],property:o,args:[t],setter:!0})}});s.push(r)}return()=>{s.forEach(e=>e())}}(this.processMutation.bind(this),e,t,r,n),o=function(e,t,r,n,i,s){let o=[];return o.push(...eH(t.WebGLRenderingContext.prototype,eP.WebGL,e,r,n,i,s,t)),void 0!==t.WebGL2RenderingContext&&o.push(...eH(t.WebGL2RenderingContext.prototype,eP.WebGL2,e,r,n,i,s,t)),()=>{o.forEach(e=>e())}}(this.processMutation.bind(this),e,t,r,n,this.mirror);this.resetObservers=()=>{i(),s(),o()}}snapshot(e){let{options:t}=this,r=this.takeSnapshot(!0,"all"===t.sampling?2:t.sampling||2,t.win,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.resetObservers=()=>{cancelAnimationFrame(r)}}takeSnapshot(e,t,r,n,i,s,o,a,l){let u=new Map,c=new Worker(function(){let e=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(e)}());c.onmessage=e=>{let t=e.data,{id:r}=t;if(u.set(r,!1),!("base64"in t))return;let{base64:n,type:i,width:s,height:o}=t;this.mutationCb({id:r,type:eP["2D"],commands:[{property:"clearRect",args:[0,0,s,o]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:n}],type:i}]},0,0,s,o]}]})};let d=1e3/t,h=0,f=e=>{if(e)return[e];let t=[];return r.document.querySelectorAll("canvas").forEach(e=>{eC(e,n,i,s,!0)||t.push(e)}),t},p=t=>{if(h&&t-h<d){eR(p);return}h=t,f(l).forEach(t=>{let r=this.mirror.getId(t);if(!u.get(r)&&t.width&&t.height){if(u.set(r,!0),!e&&["webgl","webgl2"].includes(t.__context)){let e=t.getContext(t.__context);!1===(0,eb.x)([e,"optionalAccess",e=>e.getContextAttributes,"call",e=>e(),"optionalAccess",e=>e.preserveDrawingBuffer])&&e.clear(e.COLOR_BUFFER_BIT)}createImageBitmap(t).then(e=>{c.postMessage({id:r,bitmap:e,width:t.width,height:t.height,dataURLOptions:a,maxCanvasSize:o},[e])}).catch(e=>{eM(()=>{throw e})()})}}),eR(p)};return eR(p)}startPendingCanvasMutationFlusher(){eR(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let e=t=>{this.rafStamps.latestId=t,eR(e)};eR(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{let r=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,r)}),eR(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(e);if(!r||-1===t)return;let n=r.map(e=>{let{type:t,...r}=e;return r}),{type:i}=r[0];this.mutationCb({id:t,type:i,commands:n}),this.pendingCanvasMutations.delete(e)}}let ez={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},eG="ReplayCanvas",eJ=(0,f._I)((e={})=>{let t;let[r,n]=e.maxCanvasSize||[],i={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[r?Math.min(r,1280):1280,n?Math.min(n,1280):1280]},s=new Promise(e=>t=e);return{name:eG,setupOnce(){},getOptions(){let{quality:e,enableManualSnapshot:r,maxCanvasSize:n}=i;return{enableManualSnapshot:r,recordCanvas:!0,getCanvasManager:e=>{let i=new eq({...e,enableManualSnapshot:r,maxCanvasSize:n,errorHandler:e=>{try{"object"==typeof e&&(e.__rrweb__=!0)}catch(e){}}});return t(i),i},...ez[e||"medium"]||ez.medium}},async snapshot(e){(await s).snapshot(e)}}}),eX=(0,f.RN)(eG,eJ);var eV=r(40154),eK=r(6388),eY=r(99562),eZ=r(67816);let eQ=_.GLOBAL_OBJ,e0="#ffffff",e1="inherit",e2="rgba(108, 95, 199, 1)",e3={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:e0,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:e2,submitBorder:e2,submitOutlineFocus:"#29232f",submitForeground:e0,submitForegroundHover:e0,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:e1,inputForeground:e1,inputBorder:"var(--border)",inputOutlineFocus:e2,formBorderRadius:"20px",formContentBorderRadius:"6px"},e4={light:e3,dark:{...e3,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"}},e5="widget";async function e8({client:e,scope:t,event:r}){let n={};e.emit&&e.emit("preprocessEvent",r,n);let i=await (0,eY.R)(e.getOptions(),r,n,t,e,(0,G.aF)());return null===i?(e.recordDroppedEvent("event_processor","feedback",r),null):(i.platform=i.platform||"javascript",i)}async function e6({feedback:{message:e,email:t,name:r,source:n,url:i}},{includeReplay:s=!0}={}){let o=(0,R.s3)(),a=o&&o.getTransport(),l=o&&o.getDsn();if(!o||!a||!l)return;let u={contexts:{feedback:{contact_email:t,name:r,message:e,url:i,source:n}},type:"feedback"};return(0,R.$e)(async e=>{let t;e.clearBreadcrumbs(),["api",e5].includes(String(n))&&e.setLevel("info");let r=await e8({scope:e,client:o,event:u});if(!r)return;o.emit&&o.emit("beforeSendFeedback",r,{includeReplay:!!s});let i=(0,eZ.M)(r,l,o.getOptions()._metadata,o.getOptions().tunnel);try{t=await a.send(i)}catch(t){let e=Error("Unable to send Feedback");try{e.cause=t}catch(e){}throw e}if(t){if("number"==typeof t.statusCode&&(t.statusCode<200||t.statusCode>=300))throw Error("Unable to send Feedback");return t}})}function e9({name:e,email:t,message:r,source:n="api",url:i=(0,eV.l4)()},s={}){if(!r)throw Error("Unable to submit feedback with empty message");return e6({feedback:{name:e,email:t,message:r,url:i,source:n}},s)}function e7(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function te(e){return`
  --background: ${e.background};
  --background-hover: ${e.backgroundHover};
  --foreground: ${e.foreground};
  --error: ${e.error};
  --success: ${e.success};
  --border: ${e.border};
  --border-radius: ${e.borderRadius};
  --box-shadow: ${e.boxShadow};

  --submit-background: ${e.submitBackground};
  --submit-background-hover: ${e.submitBackgroundHover};
  --submit-border: ${e.submitBorder};
  --submit-outline-focus: ${e.submitOutlineFocus};
  --submit-foreground: ${e.submitForeground};
  --submit-foreground-hover: ${e.submitForegroundHover};

  --cancel-background: ${e.cancelBackground};
  --cancel-background-hover: ${e.cancelBackgroundHover};
  --cancel-border: ${e.cancelBorder};
  --cancel-outline-focus: ${e.cancelOutlineFocus};
  --cancel-foreground: ${e.cancelForeground};
  --cancel-foreground-hover: ${e.cancelForegroundHover};

  --input-background: ${e.inputBackground};
  --input-foreground: ${e.inputForeground};
  --input-border: ${e.inputBorder};
  --input-outline-focus: ${e.inputOutlineFocus};

  --form-border-radius: ${e.formBorderRadius};
  --form-content-border-radius: ${e.formContentBorderRadius};
  `}async function tt(e,t,r){if(e){e.hideError();try{return await e9({...t,source:e5},r)}catch(t){e&&e.showError("There was a problem submitting feedback, please wait and try again.")}}}function tr(e,t){return Object.entries(t).forEach(([t,r])=>{e.setAttributeNS(null,t,r)}),e}function tn(e,t,...r){let n=eQ.document.createElement(e);for(let e of(t&&Object.entries(t).forEach(([e,t])=>{"className"===e&&"string"==typeof t?n.setAttribute("class",t):"boolean"==typeof t&&t?n.setAttribute(e,""):"string"==typeof t?n.setAttribute(e,t):e.startsWith("on")&&"function"==typeof t&&n.addEventListener(e.substring(2).toLowerCase(),t)}),r))!function e(t,r){let n=eQ.document;if(null!=r){if(Array.isArray(r))for(let n of r)e(t,n);else!1===r||("string"==typeof r?t.appendChild(n.createTextNode(r)):r instanceof Node?t.appendChild(r):t.appendChild(n.createTextNode(String(r))))}}(n,e);return n}function ti(e,t){let r=e.get(t);return"string"==typeof r?r.trim():""}function ts({shadow:e,options:{shouldCreateActor:t=!0,...r},attachTo:n}){let i,s;let o=!1;async function a(t){if(!s)return;let n=[];if(r.isNameRequired&&!t.name&&n.push(r.nameLabel),r.isEmailRequired&&!t.email&&n.push(r.emailLabel),t.message||n.push(r.messageLabel),n.length>0){s.showError(`Please enter in the following required fields: ${n.join(", ")}`);return}if(!await tt(s,t)){r.onSubmitError&&r.onSubmitError();return}f(),function(){if(e)try{let t=function({message:e,onRemove:t}){function r(){n&&(n.remove(),t&&t())}let n=tn("div",{className:"success-message",onClick:r},function(){let e=e=>eQ.document.createElementNS("http://www.w3.org/2000/svg",e),t=tr(e("svg"),{class:"success-icon",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none"}),r=tr(e("g"),{clipPath:"url(#clip0_57_156)"}),n=tr(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=tr(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(r).append(i,n);let s=e("defs"),o=tr(e("clipPath"),{id:"clip0_57_156"}),a=tr(e("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return o.appendChild(a),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(a),{get el(){return t}}}().el,e);return{el:n,remove:r}}({message:r.successMessageText,onRemove:()=>{n&&clearTimeout(n),u()}});if(!t.el)throw Error("Unable to show success message");e.appendChild(t.el);let n=setTimeout(()=>{t&&t.remove()},5e3)}catch(e){I.kg.error(e)}}(),r.onSubmitSuccess&&r.onSubmitSuccess()}function l(){let e=(0,R.s3)(),t=e&&e.getIntegrationByName&&e.getIntegrationByName("Replay");t&&t.flush().catch(e=>{})}function u(){i&&i.show()}function c(){i&&i.hide()}function d(){try{if(s){s.open(),o=!0,r.onFormOpen&&r.onFormOpen(),l();return}let t=r.useSentryUser,n=(0,R.nZ)(),i=n&&n.getUser();if(!(s=function({formTitle:e,showBranding:t,showName:r,showEmail:n,isNameRequired:i,isEmailRequired:s,colorScheme:o,defaultName:a,defaultEmail:l,onClosed:u,onCancel:c,onSubmit:d,...h}){let f=null;function p(){f&&(f.open=!1)}let{el:g,showError:m,hideError:v}=function({nameLabel:e,namePlaceholder:t,emailLabel:r,emailPlaceholder:n,messageLabel:i,messagePlaceholder:s,isRequiredLabel:o,cancelButtonLabel:a,submitButtonLabel:l,showName:u,showEmail:c,isNameRequired:d,isEmailRequired:h,defaultName:f,defaultEmail:p,onCancel:g,onSubmit:m}){let{el:v}=function({label:e}){return{el:tn("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}({label:l}),_=tn("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"}),y=tn("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:f}),b=tn("input",{id:"email",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"email",required:h,className:"form__input",placeholder:n,value:p}),w=tn("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:s}),S=tn("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:e=>{g&&g(e)}},a),k=tn("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target instanceof HTMLFormElement)try{if(m){let t=new FormData(e.target),r={name:ti(t,"name"),email:ti(t,"email"),message:ti(t,"message")};m(r)}}catch(e){}}},[_,u&&tn("label",{htmlFor:"name",className:"form__label"},[tn("span",{className:"form__label__text"},e,d&&tn("span",{className:"form__label__text--required"},` ${o}`)),y]),!u&&y,c&&tn("label",{htmlFor:"email",className:"form__label"},[tn("span",{className:"form__label__text"},r,h&&tn("span",{className:"form__label__text--required"},` ${o}`)),b]),!c&&b,tn("label",{htmlFor:"message",className:"form__label"},[tn("span",{className:"form__label__text"},i,tn("span",{className:"form__label__text--required"},` ${o}`)),w]),tn("div",{className:"btn-group"},[v,S])]);return{get el(){return k},showError:function(e){_.textContent=e,_.classList.remove("form__error-container--hidden"),_.setAttribute("aria-hidden","false")},hideError:function(){_.textContent="",_.classList.add("form__error-container--hidden"),_.setAttribute("aria-hidden","true")}}}({showEmail:n,showName:r,isEmailRequired:s,isNameRequired:i,defaultName:a,defaultEmail:l,onSubmit:d,onCancel:c,...h});return f=tn("dialog",{className:"dialog",open:!0,onClick:function(){p(),u&&u()}},tn("div",{className:"dialog__content",onClick:e=>{e.stopPropagation()}},tn("h2",{className:"dialog__header"},e,t&&tn("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:e}){let t=e=>eQ.document.createElementNS("http://www.w3.org/2000/svg",e),r=tr(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),n=tr(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});r.append(n);let i=t("defs"),s=t("style");return s.textContent=`
    path {
      fill: ${"dark"===e?"#fff":"#362d59"};
    }`,"system"===e&&(s.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),i.append(s),r.append(i),{get el(){return r}}}({colorScheme:o}).el)),g)),{get el(){return f},showError:m,hideError:v,open:function(){f&&(f.open=!0)},close:p,checkIsOpen:function(){return f&&!0===f.open||!1}}}({colorScheme:r.colorScheme,showBranding:r.showBranding,showName:r.showName||r.isNameRequired,showEmail:r.showEmail||r.isEmailRequired,isNameRequired:r.isNameRequired,isEmailRequired:r.isEmailRequired,formTitle:r.formTitle,cancelButtonLabel:r.cancelButtonLabel,submitButtonLabel:r.submitButtonLabel,emailLabel:r.emailLabel,emailPlaceholder:r.emailPlaceholder,messageLabel:r.messageLabel,messagePlaceholder:r.messagePlaceholder,nameLabel:r.nameLabel,namePlaceholder:r.namePlaceholder,isRequiredLabel:r.isRequiredLabel,defaultName:t&&i&&i[t.name]||"",defaultEmail:t&&i&&i[t.email]||"",onClosed:()=>{u(),o=!1,r.onFormClose&&r.onFormClose()},onCancel:()=>{h(),u()},onSubmit:a})).el)throw Error("Unable to open Feedback dialog");e.appendChild(s.el),c(),r.onFormOpen&&r.onFormOpen(),l()}catch(e){I.kg.error(e)}}function h(){s&&(s.close(),o=!1,r.onFormClose&&r.onFormClose())}function f(){if(s){h();let e=s.el;e&&e.remove(),s=void 0}}function p(){o||d(),c()}return n?n.addEventListener("click",p):t&&(i=function({buttonLabel:e,onClick:t}){let r=tn("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},function(){let e=e=>eQ.document.createElementNS("http://www.w3.org/2000/svg",e),t=tr(e("svg"),{class:"feedback-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"}),r=tr(e("g"),{clipPath:"url(#clip0_57_80)"}),n=tr(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(r).appendChild(n);let i=e("defs"),s=tr(e("clipPath"),{id:"clip0_57_80"}),o=tr(e("rect"),{width:"20",height:"20",fill:"white"});return s.appendChild(o),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(o),{get el(){return t}}}().el,e?tn("span",{className:"widget__actor__text"},e):null);return r.addEventListener("click",function(e){t&&t(e)}),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}({buttonLabel:r.buttonLabel,onClick:p})).el&&e.appendChild(i.el),{get actor(){return i},get dialog(){return s},showActor:u,hideActor:c,removeActor:function(){i&&i.el&&i.el.remove()},openDialog:d,closeDialog:h,removeDialog:f}}let to=eQ.document,ta=e=>new tl(e);class tl{static __initStatic(){this.id="Feedback"}constructor({autoInject:e=!0,id:t="sentry-feedback",isEmailRequired:r=!1,isNameRequired:n=!1,showBranding:i=!0,showEmail:s=!0,showName:o=!0,useSentryUser:a={email:"email",name:"username"},themeDark:l,themeLight:u,colorScheme:c="system",buttonLabel:d="Report a Bug",cancelButtonLabel:h="Cancel",submitButtonLabel:f="Send Bug Report",formTitle:p="Report a Bug",emailPlaceholder:g="your.email@example.org",emailLabel:m="Email",messagePlaceholder:v="What's the bug? What did you expect?",messageLabel:_="Description",namePlaceholder:y="Your Name",nameLabel:b="Name",isRequiredLabel:w="(required)",successMessageText:S="Thank you for your report!",onFormClose:k,onFormOpen:E,onSubmitError:x,onSubmitSuccess:T}={}){this.name=tl.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:e,showBranding:i,id:t,isEmailRequired:r,isNameRequired:n,showEmail:s,showName:o,useSentryUser:a,colorScheme:c,themeDark:{...e4.dark,...l},themeLight:{...e4.light,...u},buttonLabel:d,cancelButtonLabel:h,submitButtonLabel:f,formTitle:p,emailLabel:m,emailPlaceholder:g,messageLabel:_,messagePlaceholder:v,nameLabel:b,namePlaceholder:y,isRequiredLabel:w,successMessageText:S,onFormClose:k,onFormOpen:E,onSubmitError:x,onSubmitSuccess:T}}setupOnce(){if((0,eK.j)())try{this._cleanupWidgetIfExists();let{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,t){try{let r=e7(this.options,t||{});return this._ensureShadowHost(r,({shadow:t})=>{let n="string"==typeof e?to.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!n)return null;let i=ts({shadow:t,options:r,attachTo:n});return this._widgets.add(i),this._widget||(this._widget=i),i})}catch(e){return null}}createWidget(e){try{return this._createWidget(e7(this.options,e||{}))}catch(e){return null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(e){}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();let e=to.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,({shadow:t})=>{let r=ts({shadow:t,options:e});return!this._hasInsertedActorStyles&&r.actor&&(t.appendChild(function(e){let t=e.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  line-height: 16px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

@media (max-width: 600px) {
  .widget__actor__text {
    display: none;
  }
}

.feedback-icon path {
  fill: var(--foreground);
}
`,t}(to)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r})}_ensureShadowHost(e,t){let r=!1;if(!this._shadow||!this._host){let{id:t,colorScheme:n,themeLight:i,themeDark:s}=e,{shadow:o,host:a}=function({id:e,colorScheme:t,themeDark:r,themeLight:n}){try{let i=eQ.document,s=i.createElement("div");s.id=e;let o=s.attachShadow({mode:"open"});return o.appendChild(function(e,t,r){let n=e.createElement("style");return n.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${r.light.fontFamily};
  --font-size: ${r.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${te("dark"===t?r.dark:r.light)}
}

${"system"===t?`
@media (prefers-color-scheme: dark) {
  :host {
    ${te(r.dark)}
  }
}`:""}
}`,n}(i,t,{dark:r,light:n})),o.appendChild(function(e){let t=e.createElement("style");return t.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 500;
  padding: 6px 12px;
}

.form__input::placeholder {
  color: var(--input-foreground);
  opacity: 0.65;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,t}(i)),{shadow:o,host:s}}catch(e){throw I.kg.warn("[Feedback] Browser does not support shadow DOM API"),Error("Browser does not support shadow DOM API.")}}({id:t,colorScheme:n,themeLight:i,themeDark:s});this._shadow=o,this._host=a,r=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;let n=t({shadow:this._shadow,host:this._host});return r&&to.body.appendChild(this._host),n}}tl.__initStatic();var tu=r(46868),tc=r(29368),td=r(13476),th=r(37739);let tf="CaptureConsole",tp=(0,f._I)((e={})=>{let t=e.levels||I.RU;return{name:tf,setupOnce(){},setup(e){"console"in _.GLOBAL_OBJ&&(0,tu.e)(({args:r,level:n})=>{(0,R.s3)()===e&&t.includes(n)&&function(e,t){let r={level:(0,tc.VT)(t),extra:{arguments:e}};(0,R.$e)(n=>{if(n.addEventProcessor(e=>(e.logger="console",(0,td.EG)(e,{handled:!1,type:"console"}),e)),"assert"===t&&!1===e[0]){let t=`Assertion failed: ${(0,th.nK)(e.slice(1)," ")||"console.assert"}`;n.setExtra("arguments",e.slice(1)),(0,R.uT)(t,r);return}let i=e.find(e=>e instanceof Error);if("error"===t&&i){(0,R.Tb)(i,r);return}let s=(0,th.nK)(e," ");(0,R.uT)(s,r)})}(r,n)})}}});(0,f.RN)(tf,tp);var tg=r(1252);let tm=_.GLOBAL_OBJ,tv="ContextLines",t_=(0,f._I)((e={})=>{let t=null!=e.frameContextLines?e.frameContextLines:7;return{name:tv,setupOnce(){},processEvent:e=>(function(e,t){let r=tm.document,n=tm.location&&(0,tg.rt)(tm.location.href);if(!r||!n)return e;let i=e.exception&&e.exception.values;if(!i||!i.length)return e;let s=r.documentElement.innerHTML;if(!s)return e;let o=["<!DOCTYPE html>","<html>",...s.split("\n"),"</html>"];return i.forEach(e=>{let r=e.stacktrace;r&&r.frames&&(r.frames=r.frames.map(e=>(e.filename===n&&e.lineno&&o.length&&(0,td.go)(o,e,t),e)))}),e})(e,t)}});(0,f.RN)(tv,t_);let ty="Debug",tb=(0,f._I)((e={})=>{let t={debugger:!1,stringify:!1,...e};return{name:ty,setupOnce(){},setup(e){e.on&&e.on("beforeSendEvent",(e,r)=>{t.debugger,(0,I.Cf)(()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),r&&Object.keys(r).length&&console.log(JSON.stringify(r,null,2))):(console.log(e),r&&Object.keys(r).length&&console.log(r))})})}}});(0,f.RN)(ty,tb);let tw="Dedupe",tS=(0,f._I)(()=>{let e;return{name:tw,setupOnce(){},processEvent(t){if(t.type)return t;try{var r;if((r=e)&&(function(e,t){let r=e.message,n=t.message;return!!((r||n)&&(!r||n)&&(r||!n)&&r===n&&tE(e,t)&&tk(e,t))}(t,r)||function(e,t){let r=tx(t),n=tx(e);return!!(r&&n&&r.type===n.type&&r.value===n.value&&tE(e,t)&&tk(e,t))}(t,r)))return null}catch(e){}return e=t}}});function tk(e,t){let r=tT(e),n=tT(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let e=0;e<n.length;e++){let t=n[e],i=r[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function tE(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return!(r.join("")!==n.join(""))}catch(e){return!1}}function tx(e){return e.exception&&e.exception.values&&e.exception.values[0]}function tT(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){}}(0,f.RN)(tw,tS);var tC=r(69764),tI=r(33567),tO=r(45795);let tR="ExtraErrorData",tA=(0,f._I)((e={})=>{let t=e.depth||3,r=e.captureErrorCause||!1;return{name:tR,setupOnce(){},processEvent:(e,n)=>(function(e,t={},r,n){if(!t.originalException||!(0,tC.VZ)(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=function(e,t){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],n={};for(let t of Object.keys(e)){if(-1!==r.indexOf(t))continue;let i=e[t];n[t]=(0,tC.VZ)(i)?i.toString():i}if(t&&void 0!==e.cause&&(n.cause=(0,tC.VZ)(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){let t=e.toJSON();for(let e of Object.keys(t)){let r=t[e];n[e]=(0,tC.VZ)(r)?r.toString():r}}return n}catch(e){}return null}(t.originalException,n);if(s){let t={...e.contexts},n=(0,tI.Fv)(s,r);return(0,tC.PO)(n)&&((0,tO.xp)(n,"__sentry_skip_normalization__",!0),t[i]=n),{...e,contexts:t}}return e})(e,n,t,r)}});(0,f.RN)(tR,tA);var tP=r(78808),tM=r(19588),tL=r(20030),t$=r(58215);let tN="HttpClient",tj=(0,f._I)((e={})=>{let t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:tN,setupOnce(){},setup(e){(0,tM.t$)()&&(0,tL.U)(r=>{if((0,R.s3)()!==e)return;let{response:n,args:i}=r,[s,o]=i;n&&function(e,t,r,n){if(tF(e,r.status,r.url)){let e,i,s,o;let a=!n&&t instanceof Request||t instanceof Request&&t.bodyUsed?t:new Request(t,n);tB()&&([{headers:e,cookies:s},{headers:i,cookies:o}]=[{cookieHeader:"Cookie",obj:a},{cookieHeader:"Set-Cookie",obj:r}].map(({cookieHeader:e,obj:t})=>{let r;let n=function(e){let t={};return e.forEach((e,r)=>{t[r]=e}),t}(t.headers);try{let t=n[e]||n[e.toLowerCase()]||void 0;t&&(r=tD(t))}catch(e){}return{headers:n,cookies:r}}));let l=tU({url:a.url,method:a.method,status:r.status,requestHeaders:e,responseHeaders:i,requestCookies:s,responseCookies:o});(0,R.eN)(l)}}(t,s,n,o)}),"XMLHttpRequest"in _.GLOBAL_OBJ&&(0,t$.UK)(r=>{if((0,R.s3)()!==e)return;let n=r.xhr,i=n[t$.xU];if(!i)return;let{method:s,request_headers:o}=i;try{!function(e,t,r,n){if(tF(e,t.status,t.responseURL)){let e,i,s;if(tB()){try{let e=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;e&&(i=tD(e))}catch(e){}try{s=function(e){let t=e.getAllResponseHeaders();return t?t.split("\r\n").reduce((e,t)=>{let[r,n]=t.split(": ");return e[r]=n,e},{}):{}}(t)}catch(e){}e=n}let o=tU({url:t.responseURL,method:r,status:t.status,requestHeaders:e,responseHeaders:s,responseCookies:i});(0,R.eN)(o)}}(t,n,s,o)}catch(e){}})}}});function tD(e){return e.split("; ").reduce((e,t)=>{let[r,n]=t.split("=");return e[r]=n,e},{})}function tF(e,t,r){return e.failedRequestStatusCodes.some(e=>"number"==typeof e?e===t:t>=e[0]&&t<=e[1])&&e.failedRequestTargets.some(e=>"string"==typeof e?r.includes(e):e.test(r))&&!(0,tP.W)(r,(0,R.s3)())}function tU(e){let t=`HTTP Client Error with status code: ${e.status}`,r={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:function(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}(e.responseHeaders)}}};return(0,td.EG)(r,{type:"http.client",handled:!1}),r}function tB(){let e=(0,R.s3)();return!!e&&!!e.getOptions().sendDefaultPii}(0,f.RN)(tN,tj);let tW=_.GLOBAL_OBJ,tH="ReportingObserver",tq=new WeakMap,tz=(0,f._I)((e={})=>{let t=e.types||["crash","deprecation","intervention"];function r(e){if(tq.has((0,R.s3)()))for(let t of e)(0,R.$e)(e=>{e.setExtra("url",t.url);let r=`ReportingObserver [${t.type}]`,n="No details available";if(t.body){let r={};for(let e in t.body)r[e]=t.body[e];if(e.setExtra("body",r),"crash"===t.type){let e=t.body;n=[e.crashId||"",e.reason||""].join(" ").trim()||n}else n=t.body.message||n}(0,R.uT)(`${r}: ${n}`)})}return{name:tH,setupOnce(){(0,tM.zb)()&&new tW.ReportingObserver(r,{buffered:!0,types:t}).observe()},setup(e){tq.set(e,!0)}}});(0,f.RN)(tH,tz);let tG="SessionTiming",tJ=(0,f._I)(()=>{let e=Date.now();return{name:tG,setupOnce(){},processEvent(t){let r=Date.now();return{...t,extra:{...t.extra,"session:start":e,"session:duration":r-e,"session:end":r}}}}});(0,f.RN)(tG,tJ);var tX=r(3016),tV=r(85068),tK=r(35860),tY=r(53505),tZ=r(56198);function tQ(e,t){O.X&&I.kg.info(`[Offline]: ${e}`,t)}function t0(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function t1(e){return t0(e.getAllKeys())}function t2(e){let t;function r(){return void 0==t&&(t=function(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=t0(r);return e=>n.then(r=>e(r.transaction(t,"readwrite").objectStore(t)))}(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async t=>{try{var n,i;let s=await (0,v.V$)(t,e.textEncoder);await (n=r(),i=e.maxQueueSize||30,n(e=>t1(e).then(t=>{if(!(t.length>=i))return e.put(s,Math.max(...t,0)+1),t0(e.transaction)})))}catch(e){}},pop:async()=>{try{let t=await r()(e=>t1(e).then(t=>{if(0!==t.length)return t0(e.get(t[0])).then(r=>(e.delete(t[0]),t0(e.transaction).then(()=>r)))}));if(t)return(0,v.f4)(t,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch(e){}}}}function t3(e){var t;return t=t=>{let r;let n=e(t),i=t.createStore?t.createStore(t):void 0,s=5e3;function o(e){i&&(r&&clearTimeout(r),"number"!=typeof(r=setTimeout(async()=>{r=void 0;let e=await i.pop();e&&(tQ("Attempting to send previously queued event"),l(e).catch(e=>{tQ("Failed to retry sending",e)}))},e))&&r.unref&&r.unref())}function a(){r||(o(s),s=Math.min(2*s,36e5))}async function l(e){try{let t=await n.send(e),r=100;if(t){if(t.headers&&t.headers["retry-after"])r=(0,tZ.JY)(t.headers["retry-after"]);else if((t.statusCode||0)>=400)return t}return o(r),s=5e3,t}catch(n){var r;if(i&&await (r=s,!(0,v.R)(e,["replay_event","replay_recording","client_report"])&&(!t.shouldStore||t.shouldStore(e,n,r))))return await i.insert(e),a(),tQ("Error sending. Event queued",n),{};throw n}}return t.flushAtStartup&&a(),{send:l,flush:e=>n.flush(e)}},e=>t({...e,createStore:t2})}var t4=r(64961),t5=r(9826);let t8=String(0),t6="",t9="",t7="",re=es.m9.navigator&&es.m9.navigator.userAgent||"",rt="",rr=es.m9.navigator&&es.m9.navigator.language||es.m9.navigator&&es.m9.navigator.languages&&es.m9.navigator.languages[0]||"",rn=es.m9.navigator&&es.m9.navigator.userAgentData;function ri(e){return"pageload"===e.op}"object"==typeof rn&&null!==rn&&"getHighEntropyValues"in rn&&rn.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(t6=e.platform||"",t7=e.architecture||"",rt=e.model||"",t9=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){let t=e.fullVersionList[e.fullVersionList.length-1];re=`${t.brand} ${t.version}`}}).catch(e=>void 0);let rs=new WeakMap,ro=!1;function ra(e){if(ro)return t4.X&&I.kg.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return t4.X&&I.kg.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let t=(0,R.s3)(),r=t&&t.getOptions();if(!r)return t4.X&&I.kg.log("[Profiling] Profiling disabled, no options found."),!1;let n=r.profilesSampleRate;return("number"!=typeof n&&"boolean"!=typeof n||"number"==typeof n&&isNaN(n)?(t4.X&&I.kg.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(n)} of type ${JSON.stringify(typeof n)}.`),1):!0!==n&&!1!==n&&(n<0||n>1)&&(t4.X&&I.kg.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${n}.`),1))?(t4.X&&I.kg.warn("[Profiling] Discarding profile because of invalid sample rate."),!1):n?!!(!0===n||Math.random()<n)||(t4.X&&I.kg.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(n)})`),!1):(t4.X&&I.kg.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1)}let rl=new Map;function ru(e){return e?ra(e)?rc(e):e:(t4.X&&I.kg.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function rc(e){let t;ri(e)&&(t=1e3*(0,P.ph)());let r=function(){let e=es.m9.Profiler;if("function"!=typeof e){t4.X&&I.kg.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}try{return new e({sampleInterval:10,maxBufferSize:Math.floor(3e3)})}catch(e){t4.X&&(I.kg.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),I.kg.log("[Profiling] Disabling profiling for current user session.")),ro=!0}}();if(!r)return e;t4.X&&I.kg.log(`[Profiling] started profiling transaction: ${(0,A.XU)(e).description}`);let n=(0,td.DM)();async function i(){return e&&r?r.stop().then(t=>((s&&(es.m9.clearTimeout(s),s=void 0),t4.X&&I.kg.log(`[Profiling] stopped profiling of transaction: ${(0,A.XU)(e).description}`),t)?function(e,t){if(rl.set(e,t),rl.size>30){let e=rl.keys().next().value;rl.delete(e)}}(n,t):t4.X&&I.kg.log(`[Profiling] profiler returned null profile for: ${(0,A.XU)(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)).catch(e=>(t4.X&&I.kg.log("[Profiling] error while stopping profiler:",e),null)):null}let s=es.m9.setTimeout(()=>{t4.X&&I.kg.log("[Profiling] max profile duration elapsed, stopping profiling for:",(0,A.XU)(e).description),i()},3e4),o=e.end.bind(e);return e.end=function(){return e?(i().then(()=>{e.setContext("profile",{profile_id:n,start_timestamp:t}),o()},()=>{o()}),e):o()},e}let rd="BrowserProfiling",rh=(0,f._I)(()=>({name:rd,setupOnce(){},setup(e){let t=(0,R.nZ)().getTransaction();if(t&&ri(t)&&ra(t)&&rc(t),"function"!=typeof e.on){I.kg.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",e=>{ra(e)&&rc(e)}),e.on("beforeEnvelope",e=>{if(!rl.size)return;let t=function(e){let t=[];return(0,v.gv)(e,(e,r)=>{if("transaction"===r)for(let r=1;r<e.length;r++){let n=e[r];n&&n.contexts&&n.contexts.profile&&n.contexts.profile.profile_id&&t.push(e[r])}}),t}(e);if(!t.length)return;let r=[];for(let e of t){var n,i,s,o;let t=e&&e.contexts,a=t&&t.profile&&t.profile.profile_id,l=t&&t.profile&&t.profile.start_timestamp;if("string"!=typeof a||!a){t4.X&&I.kg.log("[Profiling] cannot find profile for a transaction without a profile context");continue}t&&t.profile&&delete t.profile;let u=function(e){let t=rl.get(e);return t&&rl.delete(e),t}(a);if(!u){t4.X&&I.kg.log(`[Profiling] Could not retrieve profile for transaction: ${a}`);continue}let c=(n=a,i=l,s=u,o=e,(s.samples.length<2?(t4.X&&I.kg.log("[Profiling] Discarding profile because it contains less than 2 samples"),1):!s.frames.length&&(t4.X&&I.kg.log("[Profiling] Discarding profile because it contains no frames"),1))?null:function(e,t,r,n){if("transaction"!==n.type)throw TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==r)throw TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${r} instead.`);let i=function(e){let t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return("string"==typeof t&&32!==t.length&&t4.X&&I.kg.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!=typeof t)?"":t}(n),s="thread_metadata"in r?r:function(e){let t;let r=0,n={samples:[],stacks:[],frames:[],thread_metadata:{[t8]:{name:"main"}}};if(!e.samples.length)return n;let i=e.samples[0].timestamp,s="number"==typeof performance.timeOrigin?performance.timeOrigin:P.Z1||0,o=s-(P.Z1||s);for(let s=0;s<e.samples.length;s++){let a=e.samples[s];if(void 0===a.stackId){void 0===t&&(t=r,n.stacks[t]=[],r++),n.samples[s]={elapsed_since_start_ns:((a.timestamp+o-i)*1e6).toFixed(0),stack_id:t,thread_id:t8};continue}let l=e.stacks[a.stackId],u=[];for(;l;){u.push(l.frameId);let t=e.frames[l.frameId];void 0===n.frames[l.frameId]&&(n.frames[l.frameId]={function:t.name,abs_path:"number"==typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),l=void 0===l.parentId?void 0:e.stacks[l.parentId]}let c={elapsed_since_start_ns:((a.timestamp+o-i)*1e6).toFixed(0),stack_id:r,thread_id:t8};n.stacks[r]=u,n.samples[s]=c,r++}return n}(r),o=t||("number"==typeof n.start_timestamp?1e3*n.start_timestamp:Date.now()),a="number"==typeof n.timestamp?1e3*n.timestamp:Date.now();return{event_id:e,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:n.release||"",environment:n.environment||t5.J,runtime:{name:"javascript",version:es.m9.navigator.userAgent},os:{name:t6,version:t9,build_number:re},device:{locale:rr,model:rt,manufacturer:re,architecture:t7,is_emulator:!1},debug_meta:{images:function(e){let t;let r=_.GLOBAL_OBJ._sentryDebugIds;if(!r)return[];let n=(0,R.s3)(),i=n&&n.getOptions(),s=i&&i.stackParser;if(!s)return[];let o=rs.get(s);o?t=o:(t=new Map,rs.set(s,t));let a=Object.keys(r).reduce((e,n)=>{let i;let o=t.get(n);o?i=o:(i=s(n),t.set(n,i));for(let t=i.length-1;t>=0;t--){let s=i[t],o=s&&s.filename;if(s&&o){e[o]=r[n];break}}return e},{}),l=[];for(let t of e)t&&a[t]&&l.push({type:"sourcemap",code_file:t,debug_id:a[t]});return l}(r.resources)},profile:s,transactions:[{name:n.transaction||"",id:n.event_id||(0,td.DM)(),trace_id:i,active_thread_id:t8,relative_start_ns:"0",relative_end_ns:((a-o)*1e6).toFixed(0)}]}}(n,i,s,o));c&&r.push(c)}!function(e,t){if(t.length)for(let r of t)e[1].push([{type:"profile"},r])}(e,r)})}})),rf=(0,f.RN)(rd,rh),rp={};es.m9.Sentry&&es.m9.Sentry.Integrations&&(rp=es.m9.Sentry.Integrations);let rg={...rp,...a,...l}},75994:function(e,t,r){"use strict";r.d(t,{O:function(){return b},f:function(){return y}});var n=r(52543),i=r(37940),s=r(46868),o=r(5871),a=r(58215),l=r(20030),u=r(51314),c=r(13476),d=r(90289),h=r(40154),f=r(29368),p=r(37739),g=r(1252),m=r(64961),v=r(14869);let _="Breadcrumbs",y=(0,n._I)((e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:_,setupOnce(){},setup(e){var r;t.console&&(0,s.e)(function(t){if((0,i.s3)()!==e)return;let r={category:"console",data:{arguments:t.args,logger:"console"},level:(0,f.VT)(t.level),message:(0,p.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;r.message=`Assertion failed: ${(0,p.nK)(t.args.slice(1)," ")||"console.assert"}`,r.data.arguments=t.args.slice(1)}(0,i.n_)(r,{input:t.args,level:t.level})}),t.dom&&(0,o.O)((r=t.dom,function(t){let n,s;if((0,i.s3)()!==e)return;let o="object"==typeof r?r.serializeAttribute:void 0,a="object"==typeof r&&"number"==typeof r.maxStringLength?r.maxStringLength:void 0;a&&a>1024&&(m.X&&d.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=1024),"string"==typeof o&&(o=[o]);try{let e=t.event,r=e&&e.target?e.target:e;n=(0,h.Rt)(r,{keyAttrs:o,maxStringLength:a}),s=(0,h.iY)(r)}catch(e){n="<unknown>"}if(0===n.length)return;let l={category:`ui.${t.name}`,message:n};s&&(l.data={"ui.component_name":s}),(0,i.n_)(l,{event:t.event,name:t.name,global:t.global})})),t.xhr&&(0,a.UK)(function(t){if((0,i.s3)()!==e)return;let{startTimestamp:r,endTimestamp:n}=t,s=t.xhr[a.xU];if(!r||!n||!s)return;let{method:o,url:l,status_code:u,body:c}=s,d={xhr:t.xhr,input:c,startTimestamp:r,endTimestamp:n};(0,i.n_)({category:"xhr",data:{method:o,url:l,status_code:u},type:"http"},d)}),t.fetch&&(0,l.U)(function(t){if((0,i.s3)()!==e)return;let{startTimestamp:r,endTimestamp:n}=t;if(!(!n||t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method)){if(t.error){let e=t.fetchData,s={data:t.error,input:t.args,startTimestamp:r,endTimestamp:n};(0,i.n_)({category:"fetch",data:e,level:"error",type:"http"},s)}else{let e=t.response,s={...t.fetchData,status_code:e&&e.status},o={input:t.args,response:e,startTimestamp:r,endTimestamp:n};(0,i.n_)({category:"fetch",data:s,type:"http"},o)}}}),t.history&&(0,u.a)(function(t){if((0,i.s3)()!==e)return;let r=t.from,n=t.to,s=(0,g.en)(v.m9.location.href),o=r?(0,g.en)(r):void 0,a=(0,g.en)(n);o&&o.path||(o=s),s.protocol===a.protocol&&s.host===a.host&&(n=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),(0,i.n_)({category:"navigation",data:{from:r,to:n}})}),t.sentry&&e.on&&e.on("beforeSendEvent",function(t){(0,i.s3)()===e&&(0,i.n_)({category:`sentry.${"transaction"===t.type?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:(0,c.jH)(t)},{event:t})})}}}),b=(0,n.RN)(_,y)},92724:function(e,t,r){"use strict";r.d(t,{I:function(){return l},R:function(){return a}});var n=r(52543),i=r(90289),s=r(64961);let o="Dedupe",a=(0,n._I)(()=>{let e;return{name:o,setupOnce(){},processEvent(t){if(t.type)return t;try{var r;if((r=e)&&(function(e,t){let r=e.message,n=t.message;return!!((r||n)&&(!r||n)&&(r||!n)&&r===n&&c(e,t)&&u(e,t))}(t,r)||function(e,t){let r=d(t),n=d(e);return!!(r&&n&&r.type===n.type&&r.value===n.value&&c(e,t)&&u(e,t))}(t,r)))return s.X&&i.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}}),l=(0,n.RN)(o,a);function u(e,t){let r=h(e),n=h(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let e=0;e<n.length;e++){let t=n[e],i=r[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function c(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return!(r.join("")!==n.join(""))}catch(e){return!1}}function d(e){return e.exception&&e.exception.values&&e.exception.values[0]}function h(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){}}},39020:function(e,t,r){"use strict";r.d(t,{d:function(){return g},k:function(){return p}});var n=r(52543),i=r(37940),s=r(14242),o=r(69764),a=r(58586),l=r(40154),u=r(90289),c=r(64961),d=r(20233),h=r(14869);let f="GlobalHandlers",p=(0,n._I)((e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:f,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&((0,s.V)(t=>{let{stackParser:r,attachStacktrace:n}=_();if((0,i.s3)()!==e||(0,h.Wz)())return;let{msg:s,url:a,line:l,column:u,error:c}=t,f=void 0===c&&(0,o.HD)(s)?function(e,t,r,n){let i=(0,o.VW)(e)?e.message:e,s="Error",a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(s=a[1],i=a[2]),m({exception:{values:[{type:s,value:i}]}},t,r,n)}(s,a,l,u):m((0,d.ME)(r,c||s,void 0,n,!1),a,l,u);f.level="error",(0,i.eN)(f,{originalException:c,mechanism:{handled:!1,type:"onerror"}})}),v("onerror")),t.onunhandledrejection&&((0,a.h)(t=>{let{stackParser:r,attachStacktrace:n}=_();if((0,i.s3)()!==e||(0,h.Wz)())return;let s=function(e){if((0,o.pt)(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t),a=(0,o.pt)(s)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(s)}`}]}}:(0,d.ME)(r,s,void 0,n,!0);a.level="error",(0,i.eN)(a,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})}),v("onunhandledrejection"))}}}),g=(0,n.RN)(f,p);function m(e,t,r,n){let i=e.exception=e.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},u=a.stacktrace=a.stacktrace||{},c=u.frames=u.frames||[],d=isNaN(parseInt(n,10))?void 0:n,h=isNaN(parseInt(r,10))?void 0:r,f=(0,o.HD)(t)&&t.length>0?t:(0,l.l4)();return 0===c.length&&c.push({colno:d,filename:f,function:"?",in_app:!0,lineno:h}),e}function v(e){c.X&&u.kg.log(`Global Handler attached: ${e}`)}function _(){let e=(0,i.s3)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}},57668:function(e,t,r){"use strict";r.d(t,{q:function(){return a},s:function(){return o}});var n=r(52543),i=r(14869);let s="HttpContext",o=(0,n._I)(()=>({name:s,setupOnce(){},preprocessEvent(e){if(!i.m9.navigator&&!i.m9.location&&!i.m9.document)return;let t=e.request&&e.request.url||i.m9.location&&i.m9.location.href,{referrer:r}=i.m9.document||{},{userAgent:n}=i.m9.navigator||{},s={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},o={...e.request,...t&&{url:t},headers:s};e.request=o}})),a=(0,n.RN)(s,o)},45718:function(e,t,r){"use strict";r.d(t,{O:function(){return a},i:function(){return l}});var n=r(52543),i=r(11073),s=r(20233);let o="LinkedErrors",a=(0,n._I)((e={})=>{let t=e.limit||5,r=e.key||"cause";return{name:o,setupOnce(){},preprocessEvent(e,n,o){let a=o.getOptions();(0,i.Z)(s.GJ,a.stackParser,a.maxValueLength,r,t,e,n)}}}),l=(0,n.RN)(o,a)},55421:function(e,t,r){"use strict";r.d(t,{p:function(){return c},t:function(){return u}});var n=r(52543),i=r(45795),s=r(67620),o=r(14869);let a=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],l="TryCatch",u=(0,n._I)((e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:l,setupOnce(){t.setTimeout&&(0,i.hl)(o.m9,"setTimeout",d),t.setInterval&&(0,i.hl)(o.m9,"setInterval",d),t.requestAnimationFrame&&(0,i.hl)(o.m9,"requestAnimationFrame",h),t.XMLHttpRequest&&"XMLHttpRequest"in o.m9&&(0,i.hl)(XMLHttpRequest.prototype,"send",f);let e=t.eventTarget;e&&(Array.isArray(e)?e:a).forEach(p)}}}),c=(0,n.RN)(l,u);function d(e){return function(...t){let r=t[0];return t[0]=(0,o.re)(r,{mechanism:{data:{function:(0,s.$P)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function h(e){return function(t){return e.apply(this,[(0,o.re)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,s.$P)(e)},handled:!1,type:"instrument"}})])}}function f(e){return function(...t){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in r&&"function"==typeof r[e]&&(0,i.hl)(r,e,function(t){let r={mechanism:{data:{function:e,handler:(0,s.$P)(t)},handled:!1,type:"instrument"}},n=(0,i.HK)(t);return n&&(r.mechanism.data.handler=(0,s.$P)(n)),(0,o.re)(t,r)})}),e.apply(this,t)}}function p(e){let t=o.m9,r=t[e]&&t[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&((0,i.hl)(r,"addEventListener",function(t){return function(r,n,i){try{"function"==typeof n.handleEvent&&(n.handleEvent=(0,o.re)(n.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,s.$P)(n),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[r,(0,o.re)(n,{mechanism:{data:{function:"addEventListener",handler:(0,s.$P)(n),target:e},handled:!1,type:"instrument"}}),i])}}),(0,i.hl)(r,"removeEventListener",function(e){return function(t,r,n){try{let i=r&&r.__sentry_wrapped__;i&&e.call(this,t,i,n)}catch(e){}return e.call(this,t,r,n)}}))}},22616:function(e,t,r){"use strict";r.d(t,{Eg:function(){return R},Jd:function(){return M},S1:function(){return I},SS:function(){return T},jp:function(){return O},lA:function(){return A},nV:function(){return C},re:function(){return P}});var n=r(32753),i=r(99509),s=r(52543),o=r(95831),a=r(99749),l=r(68508),u=r(37940),c=r(67620),d=r(19588),h=r(90289),f=r(51314),p=r(47234),g=r(64961),m=r(14869),v=r(75994),_=r(92724),y=r(39020),b=r(57668),w=r(45718),S=r(55421),k=r(80086),E=r(24611),x=r(45942);let T=[(0,n.S)(),(0,i.C)(),(0,S.t)(),(0,v.f)(),(0,y.k)(),(0,w.O)(),(0,_.R)(),(0,b.s)()];function C(e){return[...T]}function I(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=C()),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),m.m9.SENTRY_RELEASE&&m.m9.SENTRY_RELEASE.id&&(e.release=m.m9.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);let t={...e,stackParser:(0,c.Sq)(e.stackParser||k.Dt),integrations:(0,s.m8)(e),transport:e.transport||((0,d.Ak)()?E.f:x.K)};(0,o.M)(p.R,t),e.autoSessionTracking&&function(){if(void 0===m.m9.document){g.X&&h.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}(0,u.yj)({ignoreDuration:!0}),(0,u.cg)(),(0,f.a)(({from:e,to:t})=>{void 0!==e&&e!==t&&((0,u.yj)({ignoreDuration:!0}),(0,u.cg)())})}()}let O=(e={},t=(0,a.Gd)())=>{if(!m.m9.document){g.X&&h.kg.error("Global document not defined in showReportDialog call");return}let{client:r,scope:n}=t.getStackTop(),i=e.dsn||r&&r.getDsn();if(!i){g.X&&h.kg.error("DSN not configured for showReportDialog call");return}n&&(e.user={...n.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());let s=m.m9.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=(0,l.h)(i,e),e.onLoad&&(s.onload=e.onLoad);let{onClose:o}=e;if(o){let e=t=>{if("__sentry_reportdialog_closed__"===t.data)try{o()}finally{m.m9.removeEventListener("message",e)}};m.m9.addEventListener("message",e)}let u=m.m9.document.head||m.m9.document.body;u?u.appendChild(s):g.X&&h.kg.error("Not injecting report dialog. No injection point found in HTML")};function R(){}function A(e){e()}function P(e){return(0,m.re)(e)()}function M(e){let t=(0,u.s3)();t&&t.captureUserFeedback(e)}},80086:function(e,t,r){"use strict";r.d(t,{$3:function(){return a},$Q:function(){return c},Dt:function(){return _},HH:function(){return m},NP:function(){return p},R2:function(){return h},d8:function(){return v}});var n=r(67620);function i(e,t,r,n){let i={filename:e,function:t,in_app:!0};return void 0!==r&&(i.lineno=r),void 0!==n&&(i.colno=n),i}let s=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/\((\S*)(?::(\d+))(?::(\d+))\)/,a=[30,e=>{let t=s.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){let e=o.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}let[e,r]=y(t[1]||"?",t[2]);return i(r,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],l=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=[50,e=>{let t=l.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let e=u.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],r=t[1]||"?";return[r,e]=y(r,e),i(e,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],d=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,h=[40,e=>{let t=d.exec(e);return t?i(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],f=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,p=[10,e=>{let t=f.exec(e);return t?i(t[2],t[3]||"?",+t[1]):void 0}],g=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,m=[20,e=>{let t=g.exec(e);return t?i(t[5],t[3]||t[4]||"?",+t[1],+t[2]):void 0}],v=[a,c,h],_=(0,n.pE)(...v),y=(e,t)=>{let r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:"?",r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]}},24611:function(e,t,r){"use strict";let n;r.d(t,{f:function(){return c}});var i=r(40486),s=r(23711),o=r(19588),a=r(90289),l=r(64961),u=r(14869);function c(e,t=function(){if(n)return n;if((0,o.Du)(u.m9.fetch))return n=u.m9.fetch.bind(u.m9);let e=u.m9.document,t=u.m9.fetch;if(e&&"function"==typeof e.createElement)try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r);let n=r.contentWindow;n&&n.fetch&&(t=n.fetch),e.head.removeChild(r)}catch(e){l.X&&a.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return n=t.bind(u.m9)}()){let r=0,c=0;return(0,i.q)(e,function(i){let o=i.body.length;r+=o,c++;let a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&c<15,...e.fetchOptions};try{return t(e.url,a).then(e=>(r-=o,c--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return n=void 0,r-=o,c--,(0,s.$2)(e)}})}},45942:function(e,t,r){"use strict";r.d(t,{K:function(){return s}});var n=r(40486),i=r(23711);function s(e){return(0,n.q)(e,function(t){return new i.cW((r,n)=>{let i=new XMLHttpRequest;for(let t in i.onerror=n,i.onreadystatechange=()=>{4===i.readyState&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)})})}},83294:function(e,t,r){"use strict";r.d(t,{r:function(){return s}});var n=r(74585),i=r(5238);function s(e,{metadata:t,tunnel:r,dsn:s}){let o={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!r&&!!s&&{dsn:(0,n.RA)(s)}};return(0,i.Jd)(o,[[{type:"user_report"},e]])}},68508:function(e,t,r){"use strict";r.d(t,{U:function(){return o},h:function(){return a}});var n=r(45795),i=r(74585);function s(e){let t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function o(e,t={}){let r="string"==typeof t?t:t.tunnel,i="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return r||`${s(e)}${e.projectId}/envelope/?${(0,n._j)({sentry_key:e.publicKey,sentry_version:"7",...i&&{sentry_client:`${i.name}/${i.version}`}})}`}function a(e,t){let r=(0,i.vK)(e);if(!r)return"";let n=`${s(r)}embed/error-page/`,o=`dsn=${(0,i.RA)(r)}`;for(let e in t)if("dsn"!==e&&"onClose"!==e){if("user"===e){let e=t.user;if(!e)continue;e.name&&(o+=`&name=${encodeURIComponent(e.name)}`),e.email&&(o+=`&email=${encodeURIComponent(e.email)}`)}else o+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`}return`${n}?${o}`}},86735:function(e,t,r){"use strict";r.d(t,{W:function(){return w},Q:function(){return E}});var n=r(74585),i=r(90289),s=r(13476),o=r(69764),a=r(23711),l=r(5238),u=r(38622),c=r(68508),d=r(50751),h=r(67816),f=r(37940),p=r(99749),g=r(52543),m=r(48721),v=r(7221),_=r(90121),y=r(99562);let b="Not capturing exception because it's already been captured.";class w{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,n.vK)(e.dsn):d.X&&i.kg.warn("No DSN provided, client will not send events."),this._dsn){let t=(0,c.U)(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,r){if((0,s.YO)(e)){d.X&&i.kg.log(b);return}let n=t&&t.event_id;return this._process(this.eventFromException(e,t).then(e=>this._captureEvent(e,t,r)).then(e=>{n=e})),n}captureMessage(e,t,r,n){let i=r&&r.event_id,s=(0,o.Le)(e)?e:String(e),a=(0,o.pt)(e)?this.eventFromMessage(s,t,r):this.eventFromException(e,r);return this._process(a.then(e=>this._captureEvent(e,r,n)).then(e=>{i=e})),i}captureEvent(e,t,r){if(t&&t.originalException&&(0,s.YO)(t.originalException)){d.X&&i.kg.log(b);return}let n=t&&t.event_id,o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,o||r).then(e=>{n=e})),n}captureSession(e){"string"!=typeof e.release?d.X&&i.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,v.CT)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(r=>t.flush(e).then(e=>r&&e))):(0,a.WD)(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return d.X&&i.kg.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){let t=this._integrations[e.name];(0,g.m7)(this,e,this._integrations),t||(0,g.uf)(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let r=(0,h.M)(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])r=(0,l.BO)(r,(0,l.zQ)(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));let n=this._sendEnvelope(r);n&&n.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){let t=(0,h.Q)(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,r){if(this._options.sendClientReports){let r=`${e}:${t}`;d.X&&i.kg.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}captureAggregateMetrics(e){d.X&&i.kg.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);let t=function(e,t,r,i){let s={sent_at:new Date().toISOString()};r&&r.sdk&&(s.sdk={name:r.sdk.name,version:r.sdk.version}),i&&t&&(s.dsn=(0,n.RA)(t));let o=function(e){let t=(0,m.uv)(e);return[{type:"statsd",length:t.length},t]}(e);return(0,l.Jd)(s,[o])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach(e=>e(...t))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=(0,g.q4)(this,e),(0,g.uf)(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let r=!1,n=!1,i=t.exception&&t.exception.values;if(i)for(let e of(n=!0,i)){let t=e.mechanism;if(t&&!1===t.handled){r=!0;break}}let s="ok"===e.status;(s&&0===e.errors||s&&r)&&((0,v.CT)(e,{...r&&{status:"crashed"},errors:e.errors||Number(n||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new a.cW(t=>{let r=0,n=setInterval(()=>{0==this._numProcessing?(clearInterval(n),t(!0)):(r+=1,e&&r>=e&&(clearInterval(n),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,r,n=(0,p.aF)()){let i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),this.emit("preprocessEvent",e,t),(0,y.R)(i,e,t,r,this,n).then(e=>{if(null===e)return e;let t={...n.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){let{traceId:n,spanId:i,parentSpanId:s,dsc:o}=t;e.contexts={trace:{trace_id:n,span_id:i,parent_span_id:s},...e.contexts};let a=o||(0,_._)(n,this,r);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e})}_captureEvent(e,t={},r){return this._processEvent(e,t,r).then(e=>e.event_id,e=>{d.X&&("log"===e.logLevel?i.kg.log(e.message):i.kg.warn(e))})}_processEvent(e,t,r){let n=this.getOptions(),{sampleRate:i}=n,s=k(e),l=S(e),c=e.type||"error",d=`before send for type \`${c}\``;if(l&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),(0,a.$2)(new u.b(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let h="replay_event"===c?"replay":c,f=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,r,f).then(r=>{if(null===r)throw this.recordDroppedEvent("event_processor",h,e),new u.b("An event processor returned `null`, will not send event.","log");return t.data&&!0===t.data.__sentry__?r:function(e,t){let r=`${t} must return \`null\` or a valid event.`;if((0,o.J8)(e))return e.then(e=>{if(!(0,o.PO)(e)&&null!==e)throw new u.b(r);return e},e=>{throw new u.b(`${t} rejected with ${e}`)});if(!(0,o.PO)(e)&&null!==e)throw new u.b(r);return e}(function(e,t,r){let{beforeSend:n,beforeSendTransaction:i}=e;return S(t)&&n?n(t,r):k(t)&&i?i(t,r):t}(n,r,t),d)}).then(n=>{if(null===n)throw this.recordDroppedEvent("before_send",h,e),new u.b(`${d} returned \`null\`, will not send event.`,"log");let i=r&&r.getSession();!s&&i&&this._updateSessionFromEvent(i,n);let o=n.transaction_info;return s&&o&&n.transaction!==e.transaction&&(n.transaction_info={...o,source:"custom"}),this.sendEvent(n,t),n}).then(null,e=>{if(e instanceof u.b)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new u.b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,e=>{d.X&&i.kg.error("Error while sending event:",e)});d.X&&i.kg.error("Transport disabled")}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(t=>{let[r,n]=t.split(":");return{reason:r,category:n,quantity:e[t]}})}}function S(e){return void 0===e.type}function k(e){return"transaction"===e.type}function E(e){let t=(0,f.s3)();t&&t.addEventProcessor&&t.addEventProcessor(e)}},9826:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});let n="production"},50751:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});let n=!1},67816:function(e,t,r){"use strict";r.d(t,{M:function(){return o},Q:function(){return s}});var n=r(5238),i=r(74585);function s(e,t,r,s){let o=(0,n.HY)(r),a={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!s&&t&&{dsn:(0,i.RA)(t)}},l="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,n.Jd)(a,[l])}function o(e,t,r,i){var s;let o=(0,n.HY)(r),a=e.type&&"replay_event"!==e.type?e.type:"event";(s=r&&r.sdk)&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||s.name,e.sdk.version=e.sdk.version||s.version,e.sdk.integrations=[...e.sdk.integrations||[],...s.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...s.packages||[]]);let l=(0,n.Cd)(e,o,i,t);delete e.sdkProcessingMetadata;let u=[{type:a},e];return(0,n.Jd)(l,[u])}},11231:function(e,t,r){"use strict";r.d(t,{RP:function(){return function e(t,r,n,l=0){return new i.cW((i,u)=>{let c=t[l];if(null===r||"function"!=typeof c)i(r);else{let d=c({...r},n);a.X&&c.id&&null===d&&s.kg.log(`Event processor "${c.id}" dropped event`),(0,o.J8)(d)?d.then(r=>e(t,r,n,l+1).then(i)).then(null,u):e(t,d,n,l+1).then(i).then(null,u)}})}},cc:function(){return u},fH:function(){return l}});var n=r(1925),i=r(23711),s=r(90289),o=r(69764),a=r(50751);function l(){return(0,n.Y)("globalEventProcessors",()=>[])}function u(e){l().push(e)}},37940:function(e,t,r){"use strict";r.d(t,{$e:function(){return w},TM:function(){return P},Tb:function(){return c},YA:function(){return y},Yr:function(){return E},_d:function(){return k},av:function(){return b},cg:function(){return L},dk:function(){return O},e:function(){return f},eN:function(){return h},eW:function(){return C},mG:function(){return _},nZ:function(){return R},n_:function(){return p},rJ:function(){return m},s3:function(){return I},sU:function(){return v},uT:function(){return d},v:function(){return g},wi:function(){return S},xv:function(){return T},yj:function(){return A},yl:function(){return x}});var n=r(90289),i=r(1925),s=r(9826),o=r(50751),a=r(99749),l=r(7221),u=r(99562);function c(e,t){return(0,a.Gd)().captureException(e,(0,u.U0)(t))}function d(e,t){let r="string"==typeof t?t:void 0,n="string"!=typeof t?{captureContext:t}:void 0;return(0,a.Gd)().captureMessage(e,r,n)}function h(e,t){return(0,a.Gd)().captureEvent(e,t)}function f(e){(0,a.Gd)().configureScope(e)}function p(e,t){(0,a.Gd)().addBreadcrumb(e,t)}function g(e,t){(0,a.Gd)().setContext(e,t)}function m(e){(0,a.Gd)().setExtras(e)}function v(e,t){(0,a.Gd)().setExtra(e,t)}function _(e){(0,a.Gd)().setTags(e)}function y(e,t){(0,a.Gd)().setTag(e,t)}function b(e){(0,a.Gd)().setUser(e)}function w(...e){let t=(0,a.Gd)();if(2===e.length){let[r,n]=e;return r?t.withScope(()=>(t.getStackTop().scope=r,n(r))):t.withScope(n)}return t.withScope(e[0])}function S(e){return(0,a.Ok)(()=>e((0,a.aF)()))}function k(e,t){return w(r=>(r.setSpan(e),t(r)))}function E(e,t){return(0,a.Gd)().startTransaction({...e},t)}async function x(e){let t=I();return t?t.flush(e):(o.X&&n.kg.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function T(e){let t=I();return t?t.close(e):(o.X&&n.kg.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function C(){return(0,a.Gd)().lastEventId()}function I(){return(0,a.Gd)().getClient()}function O(){return!!I()}function R(){return(0,a.Gd)().getScope()}function A(e){let t=I(),r=(0,a.aF)(),n=R(),{release:o,environment:u=s.J}=t&&t.getOptions()||{},{userAgent:c}=i.GLOBAL_OBJ.navigator||{},d=(0,l.Hv)({release:o,environment:u,user:n.getUser()||r.getUser(),...c&&{userAgent:c},...e}),h=r.getSession();return h&&"ok"===h.status&&(0,l.CT)(h,{status:"exited"}),P(),r.setSession(d),n.setSession(d),d}function P(){let e=(0,a.aF)(),t=R(),r=t.getSession()||e.getSession();r&&(0,l.RJ)(r),M(),e.setSession(),t.setSession()}function M(){let e=(0,a.aF)(),t=R(),r=I(),n=t.getSession()||e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}function L(e=!1){if(e){P();return}M()}},99749:function(e,t,r){"use strict";r.d(t,{Gd:function(){return m},Ok:function(){return _},Xb:function(){return f},aF:function(){return v},cu:function(){return p},pj:function(){return g},vi:function(){return y}});var n=r(69764),i=r(13476),s=r(72277),o=r(90289),a=r(1925),l=r(9826),u=r(50751),c=r(47781),d=r(7221);let h=parseFloat(r(79676).J);class f{constructor(e,t,r,n=h){let i,s;this._version=n,t?i=t:(i=new c.sX).setClient(e),r?s=r:(s=new c.sX).setClient(e),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=s}isOlderThan(e){return this._version<e}bindClient(e){let t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){let t;let r=this.pushScope();try{t=e(r)}catch(e){throw this.popScope(),e}return(0,n.J8)(t)?t.then(e=>(this.popScope(),e),e=>{throw this.popScope(),e}):(this.popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){let r=this._lastEventId=t&&t.event_id?t.event_id:(0,i.DM)(),n=Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:n,...t,event_id:r}),r}captureMessage(e,t,r){let n=this._lastEventId=r&&r.event_id?r.event_id:(0,i.DM)(),s=Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:s,...r,event_id:n}),n}captureEvent(e,t){let r=t&&t.event_id?t.event_id:(0,i.DM)();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...t,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){let{scope:r,client:n}=this.getStackTop();if(!n)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:a=100}=n.getOptions&&n.getOptions()||{};if(a<=0)return;let l={timestamp:(0,s.yW)(),...e},u=i?(0,o.Cf)(()=>i(l,t)):l;null!==u&&(n.emit&&n.emit("beforeAddBreadcrumb",u,t),r.addBreadcrumb(u,a))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){let{scope:t,client:r}=this.getStackTop();r&&e(t)}run(e){let t=g(this);try{e(this)}finally{g(t)}}getIntegration(e){let t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return u.X&&o.kg.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){let r=this._callExtensionMethod("startTransaction",e,t);return u.X&&!r&&(this.getClient()?o.kg.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):o.kg.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let e=this.getStackTop().scope,t=e.getSession();t&&(0,d.RJ)(t),this._sendSessionUpdate(),e.setSession()}startSession(e){let{scope:t,client:r}=this.getStackTop(),{release:n,environment:i=l.J}=r&&r.getOptions()||{},{userAgent:s}=a.GLOBAL_OBJ.navigator||{},o=(0,d.Hv)({release:n,environment:i,user:t.getUser(),...s&&{userAgent:s},...e}),u=t.getSession&&t.getSession();return u&&"ok"===u.status&&(0,d.CT)(u,{status:"exited"}),this.endSession(),t.setSession(o),o}shouldSendDefaultPii(){let e=this.getClient(),t=e&&e.getOptions();return!!(t&&t.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:t}=this.getStackTop(),r=e.getSession();r&&t&&t.captureSession&&t.captureSession(r)}_callExtensionMethod(e,...t){let r=p().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t);u.X&&o.kg.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function p(){return a.GLOBAL_OBJ.__SENTRY__=a.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},a.GLOBAL_OBJ}function g(e){let t=p(),r=y(t);return b(t,e),r}function m(){let e=p();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=p()){return(!(e&&e.__SENTRY__&&e.__SENTRY__.hub)||y(e).isOlderThan(h))&&b(e,new f),y(e)}(e)}function v(){return m().getIsolationScope()}function _(e,t={}){let r=p();return r.__SENTRY__&&r.__SENTRY__.acs?r.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function y(e){return(0,a.Y)("hub",()=>new f,e)}function b(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},52543:function(e,t,r){"use strict";r.d(t,{M5:function(){return p},RN:function(){return g},_I:function(){return m},m7:function(){return f},m8:function(){return c},q4:function(){return d},uf:function(){return h}});var n=r(13476),i=r(90289),s=r(50751),o=r(11231),a=r(37940),l=r(99749);let u=[];function c(e){let t=e.defaultIntegrations||[],r=e.integrations;t.forEach(e=>{e.isDefaultInstance=!0});let i=function(e){let t={};return e.forEach(e=>{let{name:r}=e,n=t[r];n&&!n.isDefaultInstance&&e.isDefaultInstance||(t[r]=e)}),Object.keys(t).map(e=>t[e])}(Array.isArray(r)?[...t,...r]:"function"==typeof r?(0,n.lE)(r(t)):t),s=function(e,t){for(let r=0;r<e.length;r++)if(!0===t(e[r]))return r;return -1}(i,e=>"Debug"===e.name);if(-1!==s){let[e]=i.splice(s,1);i.push(e)}return i}function d(e,t){let r={};return t.forEach(t=>{t&&f(e,t,r)}),r}function h(e,t){for(let r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function f(e,t,r){if(r[t.name]){s.X&&i.kg.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,-1===u.indexOf(t.name)&&(t.setupOnce(o.cc,l.Gd),u.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,n)=>r(t,n,e))}if(e.addEventProcessor&&"function"==typeof t.processEvent){let r=t.processEvent.bind(t),n=Object.assign((t,n)=>r(t,n,e),{id:t.name});e.addEventProcessor(n)}s.X&&i.kg.log(`Integration installed: ${t.name}`)}function p(e){let t=(0,a.s3)();if(!t||!t.addIntegration){s.X&&i.kg.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function g(e,t){return Object.assign(function(...e){return t(...e)},{id:e})}function m(e){return e}},99509:function(e,t,r){"use strict";let n;r.d(t,{C:function(){return u},c:function(){return c}});var i=r(45795),s=r(37940),o=r(52543);let a="FunctionToString",l=new WeakMap,u=(0,o._I)(()=>({name:a,setupOnce(){n=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=(0,i.HK)(this),r=l.has((0,s.s3)())&&void 0!==t?t:this;return n.apply(r,e)}}catch(e){}},setup(e){l.set(e,!0)}})),c=(0,o.RN)(a,u)},32753:function(e,t,r){"use strict";r.d(t,{Q:function(){return h},S:function(){return d}});var n=r(90289),i=r(13476),s=r(37739),o=r(50751),a=r(52543);let l=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],u=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],c="InboundFilters",d=(0,a._I)((e={})=>({name:c,setupOnce(){},processEvent:(t,r,a)=>{var c,d;return((c=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:l],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:u],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,a.getOptions())).ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(t)?(o.X&&n.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,i.jH)(t)}`),0):(d=c.ignoreErrors,!t.type&&d&&d.length&&(function(e){let t;let r=[];e.message&&r.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(e){}return t&&t.value&&(r.push(t.value),t.type&&r.push(`${t.type}: ${t.value}`)),o.X&&0===r.length&&n.kg.error(`Could not extract message for event ${(0,i.jH)(e)}`),r})(t).some(e=>(0,s.U0)(e,d)))?(o.X&&n.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,i.jH)(t)}`),0):!function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;let r=e.transaction;return!!r&&(0,s.U0)(r,t)}(t,c.ignoreTransactions)?!function(e,t){if(!t||!t.length)return!1;let r=f(e);return!!r&&(0,s.U0)(r,t)}(t,c.denyUrls)?function(e,t){if(!t||!t.length)return!0;let r=f(e);return!r||(0,s.U0)(r,t)}(t,c.allowUrls)||(o.X&&n.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,i.jH)(t)}.
Url: ${f(t)}`),0):(o.X&&n.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,i.jH)(t)}.
Url: ${f(t)}`),0):(o.X&&n.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,i.jH)(t)}`),0))?t:null}})),h=(0,a.RN)(c,d);function f(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){let r=e[t];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(t):null}catch(t){return o.X&&n.kg.error(`Cannot extract url for event ${(0,i.jH)(e)}`),null}}},418:function(e,t,r){"use strict";let n;r.d(t,{v:function(){return l},y:function(){return a}});var i=r(45795),s=r(78079);function o(e){return n?n.get(e):void 0}function a(e){let t=o(e);if(!t)return;let r={};for(let[,[e,n]]of t)r[e]||(r[e]=[]),r[e].push((0,i.Jr)(n));return r}function l(e,t,r,i,a,l){let u=(0,s.HN)();if(u){let s=o(u)||new Map,c=`${e}:${t}@${i}`,d=s.get(l);if(d){let[,e]=d;s.set(l,[c,{min:Math.min(e.min,r),max:Math.max(e.max,r),count:e.count+=1,sum:e.sum+=r,tags:e.tags}])}else s.set(l,[c,{min:r,max:r,count:1,sum:r,tags:a}]);n||(n=new WeakMap),n.set(u,s)}}},48721:function(e,t,r){"use strict";r.d(t,{Bg:function(){return c},Ic:function(){return i},M:function(){return s},OC:function(){return a},s3:function(){return l},uv:function(){return o}});var n=r(45795);function i(e,t,r,i){let s=Object.entries((0,n.Jr)(i)).sort((e,t)=>e[0].localeCompare(t[0]));return`${e}${t}${r}${s}`}function s(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t>>>0}function o(e){let t="";for(let r of e){let e=Object.entries(r.tags),n=e.length>0?`|#${e.map(([e,t])=>`${e}:${t}`).join(",")}`:"";t+=`${r.name}@${r.unit}:${r.metric}|${r.metricType}${n}|T${r.timestamp}
`}return t}function a(e){return e.replace(/[^\w]+/gi,"_")}function l(e){return e.replace(/[^\w\-.]+/gi,"_")}let u=[["\n","\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function c(e){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r.replace(/[^\w\-./]+/gi,"")]=[...String(e[r])].reduce((e,t)=>e+function(e){for(let[t,r]of u)if(e===t)return r;return e}(t),""));return t}},47781:function(e,t,r){"use strict";let n;r.d(t,{lW:function(){return h},sX:function(){return d}});var i=r(69764),s=r(72277),o=r(13476),a=r(90289),l=r(11231),u=r(7221),c=r(47998);class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=f()}static clone(e){return e?e.clone():new d}clone(){let e=new d;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&(0,u.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e;if(t instanceof d){let e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else(0,i.PO)(t)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext));return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=f(),this}addBreadcrumb(e,t){let r="number"==typeof t?t:100;if(r<=0)return this;let n={timestamp:(0,s.yW)(),...e},i=this._breadcrumbs;return i.push(n),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:e,_attachments:t,_contexts:r,_tags:n,_extra:i,_user:s,_level:o,_fingerprint:a,_eventProcessors:l,_propagationContext:u,_sdkProcessingMetadata:c,_transactionName:d,_span:h}=this;return{breadcrumbs:e,attachments:t,contexts:r,tags:n,extra:i,user:s,level:o,fingerprint:a||[],eventProcessors:l,propagationContext:u,sdkProcessingMetadata:c,transactionName:d,span:h}}applyToEvent(e,t={},r=[]){(0,c.gi)(e,this.getScopeData());let n=[...r,...(0,l.fH)(),...this._eventProcessors];return(0,l.RP)(n,e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let r=t&&t.event_id?t.event_id:(0,o.DM)();if(!this._client)return a.kg.warn("No client configured on scope - will not capture exception!"),r;let n=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:n,...t,event_id:r},this),r}captureMessage(e,t,r){let n=r&&r.event_id?r.event_id:(0,o.DM)();if(!this._client)return a.kg.warn("No client configured on scope - will not capture message!"),n;let i=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureEvent(e,t){let r=t&&t.event_id?t.event_id:(0,o.DM)();return this._client?this._client.captureEvent(e,{...t,event_id:r},this):a.kg.warn("No client configured on scope - will not capture event!"),r}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function h(){return n||(n=new d),n}function f(){return{traceId:(0,o.DM)(),spanId:(0,o.DM)().substring(16)}}},95831:function(e,t,r){"use strict";r.d(t,{K:function(){return l},M:function(){return a}});var n=r(90289),i=r(50751),s=r(37940),o=r(99749);function a(e,t){!0===t.debug&&(i.X?n.kg.enable():(0,n.Cf)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,s.nZ)().update(t.initialScope);let r=new e(t);l(r),r.init?r.init():r.setupIntegrations&&r.setupIntegrations()}function l(e){let t=(0,o.Gd)().getStackTop();t.client=e,t.scope.setClient(e)}},38924:function(e,t,r){"use strict";r.d(t,{$J:function(){return s},S3:function(){return o},TE:function(){return i},Zj:function(){return n},p6:function(){return a}});let n="sentry.source",i="sentry.sample_rate",s="sentry.op",o="sentry.origin",a="profile_id"},7221:function(e,t,r){"use strict";r.d(t,{CT:function(){return a},Hv:function(){return o},RJ:function(){return l}});var n=r(72277),i=r(13476),s=r(45795);function o(e){let t=(0,n.ph)(),r={sid:(0,i.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(0,s.Jr)({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:"number"==typeof r.did||"string"==typeof r.did?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})};return e&&a(r,e),r}function a(e,t={}){if(!t.user||(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,n.ph)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function l(e,t){let r={};t?r={status:t}:"ok"===e.status&&(r={status:"exited"}),a(e,r)}},90121:function(e,t,r){"use strict";r.d(t,{_:function(){return l},j:function(){return u}});var n=r(45795),i=r(9826),s=r(37940),o=r(88521),a=r(96338);function l(e,t,r){let s=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:a}=r&&r.getUser()||{},l=(0,n.Jr)({environment:s.environment||i.J,release:s.release,user_segment:a,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",l),l}function u(e){let t=(0,s.s3)();if(!t)return{};let r=l((0,a.XU)(e).trace_id||"",t,(0,s.nZ)()),n=(0,o.G)(e);if(!n)return r;let i=n&&n._frozenDynamicSamplingContext;if(i)return i;let{sampleRate:u,source:c}=n.metadata;null!=u&&(r.sample_rate=`${u}`);let d=(0,a.XU)(n);return c&&"url"!==c&&(r.transaction=d.description),r.sampled=String((0,a.Tt)(n)),t.emit&&t.emit("createDsc",r),r}},94624:function(e,t,r){"use strict";r.d(t,{T:function(){return _},l:function(){return v}});var n=r(90289),i=r(50751),s=r(99749),o=r(96338),a=r(14242),l=r(58586),u=r(18260);let c=!1;function d(){let e=(0,u.x1)();if(e){let t="internal_error";i.X&&n.kg.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}d.tag="sentry_tracingErrorCallback";var h=r(5438),f=r(4883),p=r(35187);function g(){let e=this.getScope().getSpan();return e?{"sentry-trace":(0,o.Hb)(e)}:{}}function m(e,t){let r=this.getClient(),s=r&&r.getOptions()||{},o=s.instrumenter||"sentry",a=e.instrumenter||"sentry";o!==a&&(i.X&&n.kg.error(`A transaction was started with instrumenter=\`${a}\`, but the SDK is configured with the \`${o}\` instrumenter.
The transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let l=new p.Y(e,this);return(l=(0,f.f)(l,s,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t})).isRecording()&&l.initSpanRecorder(s._experiments&&s._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",l),l}function v(e,t,r,n,i,s,o,a=!1){let l=e.getClient(),u=l&&l.getOptions()||{},c=new h.io(t,e,r,n,o,i,a);return(c=(0,f.f)(c,u,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...s})).isRecording()&&c.initSpanRecorder(u._experiments&&u._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",c),c}function _(){let e=(0,s.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=m),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=g),c||(c=!0,(0,a.V)(d),(0,l.h)(d)))}},5438:function(e,t,r){"use strict";r.d(t,{AT:function(){return u},io:function(){return d}});var n=r(90289),i=r(72277),s=r(50751),o=r(96338),a=r(21038),l=r(35187);let u={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3};class c extends a.g{constructor(e,t,r,n){super(n),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=r}add(e){if(e.spanContext().spanId!==this.transactionSpanId){let t=e.end;e.end=(...r)=>(this._popActivity(e.spanContext().spanId),t.apply(e,r)),void 0===(0,o.XU)(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class d extends l.Y{constructor(e,t,r=u.idleTimeout,i=u.finalTimeout,o=u.heartbeatInterval,a=!1,l=!1){super(e,t),this._idleHub=t,this._idleTimeout=r,this._finalTimeout=i,this._heartbeatInterval=o,this._onScope=a,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason="externalFinish",this._autoFinishAllowed=!l,a&&(s.X&&n.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),l||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason="finalTimeout",this.end())},this._finalTimeout)}end(e){let t=(0,o.$k)(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){for(let e of(s.X&&n.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op),this._beforeFinishCallbacks))e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;!(0,o.XU)(e).timestamp&&(e.setStatus("cancelled"),e.end(t),s.X&&n.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));let{start_timestamp:r,timestamp:i}=(0,o.XU)(e),a=r&&r<t,l=(this._finalTimeout+this._idleTimeout)/1e3,u=i&&r&&i-r<l;if(s.X){let t=JSON.stringify(e,void 0,2);a?u||n.kg.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):n.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return a&&u}),s.X&&n.kg.log("[Tracing] flushing IdleTransaction")}else s.X&&n.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){let e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){this.spanRecorder||(this.spanRecorder=new c(e=>{this._finished||this._pushActivity(e)},e=>{this._finished||this._popActivity(e)},this.spanContext().spanId,e),s.X&&n.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason="cancelled",this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(s.X&&n.kg.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason="idleTimeout",this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),s.X&&n.kg.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,s.X&&n.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(s.X&&n.kg.log(`[Tracing] popActivity ${e}`),delete this.activities[e],s.X&&n.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){let e=(0,i.ph)();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason="cancelled",this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(s.X&&n.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason="heartbeatFailed",this.end()):this._pingHeartbeat()}_pingHeartbeat(){s.X&&n.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}},54436:function(e,t,r){"use strict";r.d(t,{o:function(){return i}});var n=r(18260);function i(e,t,r){let i=(0,n.x1)();i&&i.setMeasurement(e,t,r)}},4883:function(e,t,r){"use strict";r.d(t,{X:function(){return c},f:function(){return u}});var n=r(90289),i=r(69764),s=r(50751),o=r(38924),a=r(37339),l=r(96338);function u(e,t,r){let i;return(0,a.z)(t)?void 0!==e.sampled?e.setAttribute(o.TE,Number(e.sampled)):("function"==typeof t.tracesSampler?(i=t.tracesSampler(r),e.setAttribute(o.TE,Number(i))):void 0!==r.parentSampled?i=r.parentSampled:void 0!==t.tracesSampleRate?(i=t.tracesSampleRate,e.setAttribute(o.TE,Number(i))):(i=1,e.setAttribute(o.TE,i)),c(i))?i?(e.sampled=Math.random()<i,e.sampled)?s.X&&n.kg.log(`[Tracing] starting ${e.op} transaction - ${(0,l.XU)(e).description}`):s.X&&n.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`):(s.X&&n.kg.log(`[Tracing] Discarding transaction because ${"function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1):(s.X&&n.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1):e.sampled=!1,e}function c(e){return(0,i.i2)(e)||!("number"==typeof e||"boolean"==typeof e)?(s.X&&n.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0)&&!(e>1)||(s.X&&n.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}},21038:function(e,t,r){"use strict";r.d(t,{D:function(){return p},g:function(){return f}});var n=r(13476),i=r(72277),s=r(90289),o=r(45795),a=r(50751),l=r(418),u=r(38924),c=r(88521),d=r(96338),h=r(20999);class f{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class p{constructor(e={}){this._traceId=e.traceId||(0,n.DM)(),this._spanId=e.spanId||(0,n.DM)().substring(16),this._startTime=e.startTimestamp||(0,i.ph)(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[u.S3]:e.origin||"manual",[u.$J]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[u.$J]}set op(e){this.setAttribute(u.$J,e)}get origin(){return this._attributes[u.S3]}set origin(e){this.setAttribute(u.S3,e)}spanContext(){let{_spanId:e,_traceId:t,_sampled:r}=this;return{spanId:e,traceId:t,traceFlags:r?d.i0:d.ve}}startChild(e){let t=new p({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);let r=(0,c.G)(this);if(t.transaction=r,a.X&&r){let n=e&&e.op||"< unknown op >",i=(0,d.XU)(t).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${n}' span on transaction '${i}' (${o}).`;s.kg.log(a),this._logMessage=a}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach(t=>this.setAttribute(t,e[t]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return(0,h.Q0)(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;let t=(0,c.G)(this);if(a.X&&t&&t.spanContext().spanId!==this._spanId){let e=this._logMessage;e&&s.kg.log(e.replace("Starting","Finishing"))}this._endTime=(0,d.$k)(e)}toTraceparent(){return(0,d.Hb)(this)}toContext(){return(0,o.Jr)({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return(0,d.wy)(this)}getSpanJSON(){return(0,o.Jr)({data:this._getData(),description:this._name,op:this._attributes[u.$J],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[u.S3],_metrics_summary:(0,l.y)(this),profile_id:this._attributes[u.p6],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){let{data:e,_attributes:t}=this,r=Object.keys(e).length>0,n=Object.keys(t).length>0;return r||n?r&&n?{...e,...t}:r?e:t:void 0}}},20999:function(e,t,r){"use strict";var n,i;function s(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}r.d(t,{Q0:function(){return a},Zd:function(){return o},ix:function(){return s}}),(i=n||(n={})).Ok="ok",i.DeadlineExceeded="deadline_exceeded",i.Unauthenticated="unauthenticated",i.PermissionDenied="permission_denied",i.NotFound="not_found",i.ResourceExhausted="resource_exhausted",i.InvalidArgument="invalid_argument",i.Unimplemented="unimplemented",i.Unavailable="unavailable",i.InternalError="internal_error",i.UnknownError="unknown_error",i.Cancelled="cancelled",i.AlreadyExists="already_exists",i.FailedPrecondition="failed_precondition",i.Aborted="aborted",i.OutOfRange="out_of_range",i.DataLoss="data_loss";let o=s;function a(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);let r=s(t);"unknown_error"!==r&&e.setStatus(r)}},78079:function(e,t,r){"use strict";r.d(t,{yn:function(){return y},HN:function(){return _},I1:function(){return E},qp:function(){return v},GK:function(){return g},V0:function(){return m},g4:function(){return p}});var n=r(3559),i=r(90289),s=r(45795),o=r(50751),a=r(99749),l=r(96338),u=r(90121),c=r(37940),d=r(69764);function h(e,t,r=()=>{}){var n;let i;try{i=e()}catch(e){throw t(e),r(),e}return n=i,(0,d.J8)(n)?n.then(e=>(r(),e),e=>{throw t(e),r(),e}):(r(),n)}var f=r(37339);function p(e,t,r=()=>{},n=()=>{}){let i=(0,a.Gd)(),s=(0,c.nZ)(),o=s.getSpan(),l=b(i,{parentSpan:o,spanContext:w(e),forceTransaction:!1,scope:s});return s.setSpan(l),h(()=>t(l),e=>{l&&l.setStatus("internal_error"),r(e,l)},()=>{l&&l.end(),s.setSpan(o),n()})}function g(e,t){let r=w(e);return(0,a.Ok)(()=>(0,c.$e)(e.scope,n=>{let i=(0,a.Gd)(),s=n.getSpan(),o=e.onlyIfParent&&!s?void 0:b(i,{parentSpan:s,spanContext:r,forceTransaction:e.forceTransaction,scope:n});return h(()=>t(o),()=>{if(o){let{status:e}=(0,l.XU)(o);e&&"ok"!==e||o.setStatus("internal_error")}},()=>o&&o.end())}))}function m(e,t){let r=w(e);return(0,a.Ok)(()=>(0,c.$e)(e.scope,n=>{let i=(0,a.Gd)(),s=n.getSpan(),o=e.onlyIfParent&&!s?void 0:b(i,{parentSpan:s,spanContext:r,forceTransaction:e.forceTransaction,scope:n});function u(){o&&o.end()}return h(()=>t(o,u),()=>{if(o&&o.isRecording()){let{status:e}=(0,l.XU)(o);e&&"ok"!==e||o.setStatus("internal_error")}})}))}function v(e){if(!(0,f.z)())return;let t=w(e),r=(0,a.Gd)(),n=e.scope?e.scope.getSpan():_();if(e.onlyIfParent&&!n)return;let i=(e.scope||(0,c.nZ)()).clone();return b(r,{parentSpan:n,spanContext:t,forceTransaction:e.forceTransaction,scope:i})}function _(){return(0,c.nZ)().getSpan()}let y=({sentryTrace:e,baggage:t},r)=>{let l=(0,c.nZ)(),{traceparentData:u,dynamicSamplingContext:d,propagationContext:h}=(0,n.KA)(e,t);l.setPropagationContext(h),o.X&&u&&i.kg.log(`[Tracing] Continuing trace ${u.traceId}.`);let f={...u,metadata:(0,s.Jr)({dynamicSamplingContext:d})};return r?(0,a.Ok)(()=>r(f)):f};function b(e,{parentSpan:t,spanContext:r,forceTransaction:n,scope:i}){var o;let c;if(!(0,f.z)())return;let d=(0,a.aF)();if(t&&!n)c=t.startChild(r);else if(t){let n=(0,u.j)(t),{traceId:i,spanId:s}=t.spanContext(),o=(0,l.Tt)(t);c=e.startTransaction({traceId:i,parentSpanId:s,parentSampled:o,...r,metadata:{dynamicSamplingContext:n,...r.metadata}})}else{let{traceId:t,dsc:n,parentSpanId:s,sampled:o}={...d.getPropagationContext(),...i.getPropagationContext()};c=e.startTransaction({traceId:t,parentSpanId:s,parentSampled:o,...r,metadata:{dynamicSamplingContext:n,...r.metadata}})}return i.setSpan(c),(o=c)&&((0,s.xp)(o,k,d),(0,s.xp)(o,S,i)),c}function w(e){if(e.startTime){let t={...e};return t.startTimestamp=(0,l.$k)(e.startTime),delete t.startTime,t}return e}let S="_sentryScope",k="_sentryIsolationScope";function E(e){return{scope:e[S],isolationScope:e[k]}}},35187:function(e,t,r){"use strict";r.d(t,{Y:function(){return f}});var n=r(45795),i=r(90289),s=r(50751),o=r(99749),a=r(418),l=r(38924),u=r(96338),c=r(90121),d=r(21038),h=r(78079);class f extends d.D{constructor(e,t){super(e),this._contexts={},this._hub=t||(0,o.Gd)(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;let r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[l.Zj]&&{source:this._attributes[l.Zj]},...this._attributes[l.TE]&&{sampleRate:this._attributes[l.TE]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(l.Zj,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new d.g(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,r=""){this._measurements[e]={value:t,unit:r}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){let t=(0,u.$k)(e),r=this._finishTransaction(t);if(r)return this._hub.captureEvent(r)}toContext(){let e=super.toContext();return(0,n.Jr)({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return(0,c.j)(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(s.X&&i.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);let t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled){s.X&&i.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","transaction");return}let r=this.spanRecorder?this.spanRecorder.spans.filter(e=>e!==this&&(0,u.XU)(e).timestamp):[];if(this._trimEnd&&r.length>0){let e=r.map(e=>(0,u.XU)(e).timestamp).filter(Boolean);this._endTime=e.reduce((e,t)=>e>t?e:t)}let{scope:o,isolationScope:l}=(0,h.I1)(this),{metadata:d}=this,{source:f}=d,p={contexts:{...this._contexts,trace:(0,u.wy)(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...d,capturedSpanScope:o,capturedSpanIsolationScope:l,...(0,n.Jr)({dynamicSamplingContext:(0,c.j)(this)})},_metrics_summary:(0,a.y)(this),...f&&{transaction_info:{source:f}}};return Object.keys(this._measurements).length>0&&(s.X&&i.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),p.measurements=this._measurements),s.X&&i.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),p}}},18260:function(e,t,r){"use strict";r.d(t,{qG:function(){return o},x1:function(){return s}});var n=r(3559),i=r(99749);function s(e){return(e||(0,i.Gd)()).getScope().getTransaction()}let o=n.qG},40486:function(e,t,r){"use strict";r.d(t,{q:function(){return u}});var n=r(38622),i=r(23711),s=r(5238),o=r(56198),a=r(90289),l=r(50751);function u(e,t,r=function(e){let t=[];function r(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(s){if(!(void 0===e||t.length<e))return(0,i.$2)(new n.b("Not adding Promise because buffer limit was reached."));let o=s();return -1===t.indexOf(o)&&t.push(o),o.then(()=>r(o)).then(null,()=>r(o).then(null,()=>{})),o},drain:function(e){return new i.cW((r,n)=>{let s=t.length;if(!s)return r(!0);let o=setTimeout(()=>{e&&e>0&&r(!1)},e);t.forEach(e=>{(0,i.WD)(e).then(()=>{--s||(clearTimeout(o),r(!0))},n)})})}}}(e.bufferSize||30)){let u={};function d(d){let h=[];if((0,s.gv)(d,(t,r)=>{let n=(0,s.mL)(r);if((0,o.Q)(u,n)){let i=c(t,r);e.recordDroppedEvent("ratelimit_backoff",n,i)}else h.push(t)}),0===h.length)return(0,i.WD)();let f=(0,s.Jd)(d[0],h),p=t=>{(0,s.gv)(f,(r,n)=>{let i=c(r,n);e.recordDroppedEvent(t,(0,s.mL)(n),i)})};return r.add(()=>t({body:(0,s.V$)(f,e.textEncoder)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&l.X&&a.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),u=(0,o.WG)(u,e),e),e=>{throw p("network_error"),e})).then(e=>e,e=>{if(e instanceof n.b)return l.X&&a.kg.error("Skipped sending event because buffer is full."),p("queue_overflow"),(0,i.WD)();throw e})}return d.__sentry__baseTransport__=!0,{send:d,flush:e=>r.drain(e)}}function c(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}},47998:function(e,t,r){"use strict";r.d(t,{gi:function(){return l},yo:function(){return u}});var n=r(45795),i=r(13476),s=r(90121),o=r(88521),a=r(96338);function l(e,t){let{fingerprint:r,span:l,breadcrumbs:u,sdkProcessingMetadata:c}=t;(function(e,t){let{extra:r,tags:i,user:s,contexts:o,level:a,transactionName:l}=t,u=(0,n.Jr)(r);u&&Object.keys(u).length&&(e.extra={...u,...e.extra});let c=(0,n.Jr)(i);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});let d=(0,n.Jr)(s);d&&Object.keys(d).length&&(e.user={...d,...e.user});let h=(0,n.Jr)(o);h&&Object.keys(h).length&&(e.contexts={...h,...e.contexts}),a&&(e.level=a),l&&(e.transaction=l)})(e,t),l&&function(e,t){e.contexts={trace:(0,a.wy)(t),...e.contexts};let r=(0,o.G)(t);if(r){e.sdkProcessingMetadata={dynamicSamplingContext:(0,s.j)(t),...e.sdkProcessingMetadata};let n=(0,a.XU)(r).description;n&&(e.tags={transaction:n,...e.tags})}}(e,l),e.fingerprint=e.fingerprint?(0,i.lE)(e.fingerprint):[],r&&(e.fingerprint=e.fingerprint.concat(r)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint,function(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}(e,u),e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...c}}function u(e,t){let{extra:r,tags:n,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:f,transactionName:p,span:g}=t;c(e,"extra",r),c(e,"tags",n),c(e,"user",i),c(e,"contexts",s),c(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function c(e,t,r){if(r&&Object.keys(r).length)for(let n in e[t]={...e[t]},r)Object.prototype.hasOwnProperty.call(r,n)&&(e[t][n]=r[n])}},88521:function(e,t,r){"use strict";function n(e){return e.transaction}r.d(t,{G:function(){return n}})},37339:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(37940);function i(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let t=(0,n.s3)(),r=e||t&&t.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}},78808:function(e,t,r){"use strict";function n(e,t){let r=t&&void 0!==t.getClient?t.getClient():t,n=r&&r.getDsn(),s=r&&r.getOptions().tunnel;return!!n&&e.includes(n.host)||!!s&&i(e)===i(s)}function i(e){return"/"===e[e.length-1]?e.slice(0,-1):e}r.d(t,{W:function(){return n}})},99562:function(e,t,r){"use strict";r.d(t,{R:function(){return f},U0:function(){return g}});var n=r(13476),i=r(72277),s=r(37739),o=r(1925),a=r(33567),l=r(9826),u=r(11231),c=r(47781),d=r(47998),h=r(96338);function f(e,t,r,f,g,m){let{normalizeDepth:v=3,normalizeMaxBreadth:_=1e3}=e,y={...t,event_id:t.event_id||r.event_id||(0,n.DM)(),timestamp:t.timestamp||(0,i.yW)()},b=r.integrations||e.integrations.map(e=>e.name);(function(e,t){let{environment:r,release:n,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?r:l.J),void 0===e.release&&void 0!==n&&(e.release=n),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,s.$G)(e.message,o));let a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=(0,s.$G)(a.value,o));let u=e.request;u&&u.url&&(u.url=(0,s.$G)(u.url,o))})(y,e),b.length>0&&(y.sdk=y.sdk||{},y.sdk.integrations=[...y.sdk.integrations||[],...b]),void 0===t.type&&function(e,t){let r;let n=o.GLOBAL_OBJ._sentryDebugIds;if(!n)return;let i=p.get(t);i?r=i:(r=new Map,p.set(t,r));let s=Object.keys(n).reduce((e,i)=>{let s;let o=r.get(i);o?s=o:(s=t(i),r.set(i,s));for(let t=s.length-1;t>=0;t--){let r=s[t];if(r.filename){e[r.filename]=n[i];break}}return e},{});try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.filename&&(e.debug_id=s[e.filename])})})}catch(e){}}(y,e.stackParser);let w=function(e,t){if(!t)return e;let r=e?e.clone():new c.sX;return r.update(t),r}(f,r.captureContext);r.mechanism&&(0,n.EG)(y,r.mechanism);let S=g&&g.getEventProcessors?g.getEventProcessors():[],k=(0,c.lW)().getScopeData();if(m){let e=m.getScopeData();(0,d.yo)(k,e)}if(w){let e=w.getScopeData();(0,d.yo)(k,e)}let E=[...r.attachments||[],...k.attachments];E.length&&(r.attachments=E),(0,d.gi)(y,k);let x=[...S,...(0,u.fH)(),...k.eventProcessors];return(0,u.RP)(x,y,r).then(e=>(e&&function(e){let t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})})}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let r=e.debug_meta.images;Object.keys(t).forEach(e=>{r.push({type:"sourcemap",code_file:e,debug_id:t[e]})})}(e),"number"==typeof v&&v>0)?function(e,t,r){if(!e)return null;let n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:(0,a.Fv)(e.data,t,r)}}))},...e.user&&{user:(0,a.Fv)(e.user,t,r)},...e.contexts&&{contexts:(0,a.Fv)(e.contexts,t,r)},...e.extra&&{extra:(0,a.Fv)(e.extra,t,r)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=(0,a.Fv)(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(e=>{let n=(0,h.XU)(e).data;return n&&(e.data=(0,a.Fv)(n,t,r)),e})),n}(e,v,_):e)}let p=new WeakMap;function g(e){return e?e instanceof c.sX||"function"==typeof e||Object.keys(e).some(e=>m.includes(e))?{captureContext:e}:e:void 0}let m=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},20214:function(e,t,r){"use strict";r.d(t,{V:function(){return i}});var n=r(79676);function i(e,t,r=[t],i="npm"){let s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:r.map(e=>({name:`${i}:@sentry/${e}`,version:n.J})),version:n.J}),e._metadata=s}},96338:function(e,t,r){"use strict";r.d(t,{$k:function(){return c},Hb:function(){return u},Tt:function(){return f},XU:function(){return h},i0:function(){return a},ve:function(){return o},wy:function(){return l}});var n=r(45795),i=r(3559),s=r(72277);let o=0,a=1;function l(e){let{spanId:t,traceId:r}=e.spanContext(),{data:i,op:s,parent_span_id:o,status:a,tags:l,origin:u}=h(e);return(0,n.Jr)({data:i,op:s,parent_span_id:o,span_id:t,status:a,tags:l,trace_id:r,origin:u})}function u(e){let{traceId:t,spanId:r}=e.spanContext(),n=f(e);return(0,i.$p)(t,r,n)}function c(e){return"number"==typeof e?d(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?d(e.getTime()):(0,s.ph)()}function d(e){return e>9999999999?e/1e3:e}function h(e){return"function"==typeof e.getSpanJSON?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function f(e){let{traceFlags:t}=e.spanContext();return!!(t&a)}},79676:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});let n="7.114.0"},3016:function(e,t,r){"use strict";r.d(t,{v:function(){return l}});var n=r(52543);let i=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function s(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:"/";i&&(t=`${i}/${t}`,r="/"===i.charAt(0))}return t=(function(e,t){let r=0;for(let t=e.length-1;t>=0;t--){let n=e[t];"."===n?e.splice(t,1):".."===n?(e.splice(t,1),r++):r&&(e.splice(t,1),r--)}if(t)for(;r--;r)e.unshift("..");return e})(t.split("/").filter(e=>!!e),!r).join("/"),(r?"/":"")+t||"."}function o(e){let t=0;for(;t<e.length&&""===e[t];t++);let r=e.length-1;for(;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}let a="RewriteFrames",l=(0,n._I)((e={})=>{let t=e.root,r=e.prefix||"app:///",n=e.iteratee||(e=>{if(!e.filename)return e;let n=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),a=/^\//.test(e.filename);if(n||a){let a;let l=n?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,u=t?function(e,t){e=s(e).slice(1),t=s(t).slice(1);let r=o(e.split("/")),n=o(t.split("/")),i=Math.min(r.length,n.length),a=i;for(let e=0;e<i;e++)if(r[e]!==n[e]){a=e;break}let l=[];for(let e=a;e<r.length;e++)l.push("..");return(l=l.concat(n.slice(a))).join("/")}(t,l):function(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,r=i.exec(t);return r?r.slice(1):[]}(l)[2];e.filename=`${r}${u}`}return e});return{name:a,setupOnce(){},processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>{var t;return{...e,...e.stacktrace&&{stacktrace:{...t=e.stacktrace,frames:t&&t.frames&&t.frames.map(e=>n(e))}}}})}}}catch(t){return e}}(t)),t}}});(0,n.RN)(a,l)},64748:function(e,t,r){"use strict";let n,i;var s=r(20214),o=r(37339),a=r(61301),l=r(22616),u=r(37940),c=r(71390),d=r(85068),h=r(53505),f=r(35860),p=r(14869),g=r(72277),m=r(20030);let v={"routing.instrumentation":"next-app-router"};r(90289);var _=r(3559),y=r(1252),b=r(36497),w=r.n(b);let S=p.m9,k={"routing.instrumentation":"next-pages-router"},E=(0,u.s3)();function x(e,t=!0,r=!0,s,o){p.m9.document.getElementById("__NEXT_DATA__")?function(e,t=!0,r=!0,s,o){let{route:a,params:l,sentryTrace:c,baggage:d}=function(){let e;let t=S.document.getElementById("__NEXT_DATA__");if(t&&t.innerHTML)try{e=JSON.parse(t.innerHTML)}catch(e){}if(!e)return{};let r={},{page:n,query:i,props:s}=e;return r.route=n,r.params=i,s&&s.pageProps&&(r.sentryTrace=s.pageProps._sentryTraceData,r.baggage=s.pageProps._sentryBaggage),r}(),{traceparentData:h,dynamicSamplingContext:f,propagationContext:p}=(0,_.KA)(c,d);if((0,u.nZ)().setPropagationContext(p),i=a||S.location.pathname,t){let t={name:i,op:"pageload",origin:"auto.pageload.nextjs.pages_router_instrumentation",tags:k,startTimestamp:g.Z1?g.Z1/1e3:void 0,...l&&E&&E.getOptions().sendDefaultPii&&{data:l},...h,metadata:{source:a?"route":"url",dynamicSamplingContext:h&&!f?{}:f}};n=e(t),s(t)}r&&w().events.on("routeChangeStart",t=>{let r,s;let a=(0,y.rt)(t),l=function(e){let t=(S.__BUILD_MANIFEST||{}).sortedPages;if(t)return t.find(t=>{let r=function(e){let t=e.split("/"),r="";t[t.length-1].match(/^\[\[\.\.\..+\]\]$/)&&(t.pop(),r="(?:/(.+?))?");let n=t.map(e=>e.replace(/^\[\.\.\..+\]$/,"(.+?)").replace(/^\[.*\]$/,"([^/]+?)")).join("/");return RegExp(`^${n}${r}(?:/)?$`)}(t);return e.match(r)})}(a);l?(r=l,s="route"):(r=a,s="url");let u={...k,from:i};i=r,n&&n.end();let c={name:r,op:"navigation",origin:"auto.navigation.nextjs.pages_router_instrumentation",tags:u,metadata:{source:s}},d=e(c);if(o(c),d){let e=d.startChild({op:"ui.nextjs.route-change",origin:"auto.ui.nextjs.pages_router_instrumentation",description:"Next.js Route Change"}),t=()=>{e.end(),w().events.off("routeChangeComplete",t)};w().events.on("routeChangeComplete",t)}})}(e,t,r,s||(()=>void 0),o||(()=>void 0)):function(e,t=!0,r=!0,n,i){let s;let o=p.m9.location.pathname;if(t){let t={name:o,op:"pageload",origin:"auto.pageload.nextjs.app_router_instrumentation",tags:v,startTimestamp:g.Z1?g.Z1/1e3:void 0,metadata:{source:"url"}};s=e(t),n(t)}r&&(0,m.U)(t=>{if(void 0!==t.endTimestamp||"GET"!==t.fetchData.method)return;let r=function(e){if(!e[0]||"object"!=typeof e[0]||void 0===e[0].searchParams||!e[1]||"object"!=typeof e[1]||!("headers"in e[1]))return null;try{let t=e[0],r=e[1].headers;if("1"!==r.RSC||"1"===r["Next-Router-Prefetch"])return null;return{targetPathname:t.pathname}}catch(e){return null}}(t.args);if(null===r)return;let n=r.targetPathname,a={...v,from:o};o=n,s&&s.end();let l={name:n,op:"navigation",origin:"auto.navigation.nextjs.app_router_instrumentation",tags:a,metadata:{source:"url"}};e(l),i(l)})}(e,t,r,s||(()=>void 0),o||(()=>void 0))}class T extends d.gE{constructor(e){super({tracingOrigins:[...h.k3.tracingOrigins,/^(api\/)/],routingInstrumentation:x,...e})}}function C(e){let t=(0,f.E8)({tracingOrigins:[...h.k3.tracingOrigins,/^(api\/)/],...e,instrumentNavigation:!1,instrumentPageLoad:!1}),r={...t.options,instrumentPageLoad:!0,instrumentNavigation:!0,...e};return{...t,options:r,afterAllSetup(e){let n=t=>{(0,f.Wo)(e,t)},i=t=>{(0,f.og)(e,t)};x(()=>void 0,!1,r.instrumentNavigation,n,i),t.afterAllSetup(e),x(()=>void 0,r.instrumentPageLoad,!1,n,i)}}}var I=r(47654),O=r(52543),R=r(3016),A=r(1925);let P=A.GLOBAL_OBJ,M=(0,O._I)(e=>{let t=P.__rewriteFramesAssetPrefixPath__||"";return(0,R.v)({iteratee:e=>{try{let{origin:r}=new URL(e.filename);e.filename=(0,I.x)([e,"access",e=>e.filename,"optionalAccess",e=>e.replace,"call",e=>e(r,"app://"),"access",e=>e.replace,"call",e=>e(t,"")])}catch(e){}return e.filename&&e.filename.startsWith("app:///_next")&&(e.filename=decodeURI(e.filename)),e.filename&&e.filename.match(/^app:\/\/\/_next\/static\/chunks\/(main-|main-app-|polyfills-|webpack-|framework-|framework\.)[0-9a-f]+\.js$/)&&(e.in_app=!1),e},...e})});var L=r(74585);let $=A.GLOBAL_OBJ;function N(e){let t=e.find(e=>"BrowserTracing"===e.name);if(!t)return e;if(t.afterAllSetup&&t.options){let{options:r}=t;e[e.indexOf(t)]=C(r)}if(!(t instanceof T)){let r=t.options;delete r.routingInstrumentation,delete r.tracingOrigins,e[e.indexOf(t)]=new T(r)}return e}({...a.Integrations});var j=r(3914),D=window;D.__sentryRewritesTunnelPath__="/monitoring",D.SENTRY_RELEASE={id:"xwLCZMO7Dj-sRf_LuMU0-"},D.__sentryBasePath=void 0,D.__rewriteFramesAssetPrefixPath__="",function(e){let t={environment:function(e){let t=e?c.env.NEXT_PUBLIC_VERCEL_ENV:c.env.VERCEL_ENV;return t?`vercel-${t}`:void 0}(!0)||"production",defaultIntegrations:function(e){let t=[...(0,l.nV)(e),M()];return("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,o.z)(e)&&t.push(C()),t}(e),...e};(function(e){let{integrations:t}=e;t&&(Array.isArray(t)?e.integrations=N(t):e.integrations=e=>N(t(e)))})(t),function(e){let t=$.__sentryRewritesTunnelPath__;if(t&&e.dsn){let r=(0,L.U4)(e.dsn);if(!r)return;let n=r.host.match(/^o(\d+)\.ingest(?:\.([a-z]{2}))?\.sentry\.io$/);if(n){let i=n[1],s=n[2],o=`${t}?o=${i}&p=${r.projectId}`;s&&(o+=`&r=${s}`),e.tunnel=o}}}(t),(0,s.V)(t,"nextjs",["nextjs","react"]),function(e){let t={...e};(0,s.V)(t,"react"),(0,l.S1)(t)}(t);let r=(0,u.nZ)();r.setTag("runtime","browser");let n=e=>"transaction"===e.type&&"/404"===e.transaction?null:e;n.id="NextClient404Filter",r.addEventProcessor(n)}({dsn:"https://b514e6ecafd7c623bdaf2460d8fb7e6c@o4505683349405696.ingest.sentry.io/4505683350716416",tracesSampleRate:1,debug:!1,replaysOnErrorSampleRate:1,replaysSessionSampleRate:.1,integrations:[new j.Le({maskAllText:!1,blockAllMedia:!0})]})},3914:function(e,t,r){"use strict";let n,i,s,o,a,l;r.d(t,{Le:function(){return rE},Bl:function(){return rT},Li:function(){return rk}});var u,c,d,h,f,p,g,m,v=r(47654),_=r(37940),y=r(78808),b=r(86735),w=r(99562),S=r(99749),k=r(96338),E=r(38924),x=r(1925),T=r(33567),C=r(45795),I=r(40154),O=r(72277),R=r(90289),A=r(13476),P=r(58215),M=r(37739),L=r(20030),$=r(5871),N=r(51314),j=r(5238),D=r(56198),F=r(6388),U=r(1136);let B=x.GLOBAL_OBJ,W="sentryReplaySession",H="Unable to send Replay";function q(e){let t;let r=e[0],n=1;for(;n<e.length;){let i=e[n],s=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=s(r)):("call"===i||"optionalCall"===i)&&(r=s((...e)=>r.call(t,...e)),t=void 0)}return r}function z(e){let t=q([e,"optionalAccess",e=>e.host]);return q([t,"optionalAccess",e=>e.shadowRoot])===e}function G(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function J(e){try{var t;let r=e.rules||e.cssRules;return r?((t=Array.from(r,X).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}}function X(e){let t;if("styleSheet"in e)try{t=J(e.styleSheet)||function(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let r=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}(e)}catch(e){}else if("selectorText"in e&&e.selectorText.includes(":"))return e.cssText.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2");return t||e.cssText}(u=g||(g={}))[u.Document=0]="Document",u[u.DocumentType=1]="DocumentType",u[u.Element=2]="Element",u[u.Text=3]="Text",u[u.CDATA=4]="CDATA",u[u.Comment=5]="Comment";class V{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){var t;return e?(()=>-1,null!=(t=q([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]))?t:-1):-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){let r=this.getNode(e);if(r){let e=this.nodeMetaMap.get(r);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function K({maskInputOptions:e,tagName:t,type:r}){return"OPTION"===t&&(t="SELECT"),!!(e[t.toLowerCase()]||r&&e[r]||"password"===r||"INPUT"===t&&!r&&e.text)}function Y({isMasked:e,element:t,value:r,maskInputFn:n}){let i=r||"";return e?(n&&(i=n(i,t)),"*".repeat(i.length)):i}function Z(e){return e.toLowerCase()}function Q(e){return e.toUpperCase()}let ee="__rrweb_original__";function et(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Z(t):null}function er(e,t,r){return"INPUT"===t&&("radio"===r||"checkbox"===r)?e.getAttribute("value")||"":e.value}let en=1,ei=RegExp("[^a-z0-9-_:]");function es(){return en++}let eo=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ea=/^(?:[a-z+]+:)?\/\//i,el=/^www\..*/i,eu=/^(data:)([^,]*),(.*)/i;function ec(e,t){return(e||"").replace(eo,(e,r,n,i,s,o)=>{let a=n||s||o,l=r||i||"";if(!a)return e;if(ea.test(a)||el.test(a)||eu.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${(t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0]).split("?")[0]+a}${l})`;let u=t.split("/"),c=a.split("/");for(let e of(u.pop(),c))"."!==e&&(".."===e?u.pop():u.push(e));return`url(${l}${u.join("/")}${l})`})}let ed=/^[^ \t\n\r\u000c]+/,eh=/^[, \t\n\r\u000c]+/;function ef(e,t){if(!t||""===t.trim())return t;let r=e.createElement("a");return r.href=t,r.href}function ep(){let e=document.createElement("a");return e.href="",e.href}function eg(e,t,r,n,i,s){return n?"src"!==r&&("href"!==r||"use"===t&&"#"===n[0])&&("xlink:href"!==r||"#"===n[0])&&("background"!==r||"table"!==t&&"td"!==t&&"th"!==t)?"srcset"===r?function(e,t){if(""===t.trim())return t;let r=0;function n(e){let n;let i=e.exec(t.substring(r));return i?(n=i[0],r+=n.length,n):""}let i=[];for(;n(eh),!(r>=t.length);){let s=n(ed);if(","===s.slice(-1))s=ef(e,s.substring(0,s.length-1)),i.push(s);else{let n="";s=ef(e,s);let o=!1;for(;;){let e=t.charAt(r);if(""===e){i.push((s+n).trim());break}if(o)")"===e&&(o=!1);else{if(","===e){r+=1,i.push((s+n).trim());break}"("===e&&(o=!0)}n+=e,r+=1}}}return i.join(", ")}(e,n):"style"===r?ec(n,ep()):"object"===t&&"data"===r?ef(e,n):"function"==typeof s?s(r,n,i):n:ef(e,n):n}function em(e,t,r){return("video"===e||"audio"===e)&&"autoplay"===t}function ev(e,t,r=1/0,n=0){return!e||e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:ev(e.parentNode,t,r,n+1)}function e_(e,t){return r=>{if(null===r)return!1;try{if(e){if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let r=e.classList.length;r--;){let n=e.classList[r];if(t.test(n))return!0}return!1}(r,e))return!0}if(t&&r.matches(t))return!0;return!1}catch(e){return!1}}}function ey(e,t,r,n,i,s){try{let o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===o)return!1;if("INPUT"===o.tagName){let e=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,l=-1;if(s){if((l=ev(o,e_(n,i)))<0)return!0;a=ev(o,e_(t,r),l>=0?l:1/0)}else{if((a=ev(o,e_(t,r)))<0)return!1;l=ev(o,e_(n,i),a>=0?a:1/0)}return a>=0?!(l>=0)||a<=l:!(l>=0)&&!!s}catch(e){}return!!s}function eb(e){return null==e?"":e.toLowerCase()}function ew(e,t){let r;let{doc:s,mirror:o,blockClass:a,blockSelector:l,unblockSelector:u,maskAllText:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,skipChild:m=!1,inlineStylesheet:v=!0,maskInputOptions:_={},maskAttributeFn:y,maskTextFn:b,maskInputFn:w,slimDOMOptions:S,dataURLOptions:k={},inlineImages:E=!1,recordCanvas:x=!1,onSerialize:T,onIframeLoad:C,iframeLoadTimeout:I=5e3,onStylesheetLoad:O,stylesheetLoadTimeout:R=5e3,keepIframeSrcFn:A=()=>!1,newlyAddedElement:P=!1}=t,{preserveWhiteSpace:M=!0}=t,L=function(e,t){let{doc:r,mirror:s,blockClass:o,blockSelector:a,unblockSelector:l,maskAllText:u,maskAttributeFn:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:v={},maskTextFn:_,maskInputFn:y,dataURLOptions:b={},inlineImages:w,recordCanvas:S,keepIframeSrcFn:k,newlyAddedElement:E=!1}=t,x=function(e,t){if(!t.hasNode(e))return;let r=t.getId(e);return 1===r?void 0:r}(r,s);switch(e.nodeType){case e.DOCUMENT_NODE:if("CSS1Compat"!==e.compatMode)return{type:g.Document,childNodes:[],compatMode:e.compatMode};return{type:g.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:g.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:x};case e.ELEMENT_NODE:return function(e,t){let r;let{doc:s,blockClass:o,blockSelector:a,unblockSelector:l,inlineStylesheet:u,maskInputOptions:c={},maskAttributeFn:d,maskInputFn:h,dataURLOptions:f={},inlineImages:p,recordCanvas:m,keepIframeSrcFn:v,newlyAddedElement:_=!1,rootId:y,maskAllText:b,maskTextClass:w,unmaskTextClass:S,maskTextSelector:k,unmaskTextSelector:E}=t,x=function(e,t,r,n){try{if(n&&e.matches(n))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let r=e.classList.length;r--;){let n=e.classList[r];if(t.test(n))return!0}if(r)return e.matches(r)}catch(e){}return!1}(e,o,a,l),T=function(e){if(e instanceof HTMLFormElement)return"form";let t=Z(e.tagName);return ei.test(t)?"div":t}(e),C={},I=e.attributes.length;for(let t=0;t<I;t++){let r=e.attributes[t];r.name&&!em(T,r.name,r.value)&&(C[r.name]=eg(s,T,Z(r.name),r.value,e,d))}if("link"===T&&u){let t=Array.from(s.styleSheets).find(t=>t.href===e.href),r=null;t&&(r=J(t)),r&&(delete C.rel,delete C.href,C._cssText=ec(r,t.href))}if("style"===T&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let t=J(e.sheet);t&&(C._cssText=ec(t,ep()))}if("input"===T||"textarea"===T||"select"===T||"option"===T){let t=et(e),r=er(e,Q(T),t),n=e.checked;if("submit"!==t&&"button"!==t&&r){let n=ey(e,w,k,S,E,K({type:t,tagName:Q(T),maskInputOptions:c}));C.value=Y({isMasked:n,element:e,value:r,maskInputFn:h})}n&&(C.checked=n)}if("option"===T&&(e.selected&&!c.select?C.selected=!0:delete C.selected),"canvas"===T&&m){if("2d"===e.__context)!function(e){let t=e.getContext("2d");if(!t)return!0;for(let r=0;r<e.width;r+=50)for(let n=0;n<e.height;n+=50){let i=t.getImageData;if(new Uint32Array((ee in i?i[ee]:i).call(t,r,n,Math.min(50,e.width-r),Math.min(50,e.height-n)).data.buffer).some(e=>0!==e))return!1}return!0}(e)&&(C.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){let t=e.toDataURL(f.type,f.quality),r=document.createElement("canvas");r.width=e.width,r.height=e.height,t!==r.toDataURL(f.type,f.quality)&&(C.rr_dataURL=t)}}if("img"===T&&p){n||(i=(n=s.createElement("canvas")).getContext("2d"));let t=e.crossOrigin;e.crossOrigin="anonymous";let r=()=>{e.removeEventListener("load",r);try{n.width=e.naturalWidth,n.height=e.naturalHeight,i.drawImage(e,0,0),C.rr_dataURL=n.toDataURL(f.type,f.quality)}catch(t){console.warn(`Cannot inline img src=${e.currentSrc}! Error: ${t}`)}t?C.crossOrigin=t:e.removeAttribute("crossorigin")};e.complete&&0!==e.naturalWidth?r():e.addEventListener("load",r)}if(("audio"===T||"video"===T)&&(C.rr_mediaState=e.paused?"paused":"played",C.rr_mediaCurrentTime=e.currentTime),!_&&(e.scrollLeft&&(C.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(C.rr_scrollTop=e.scrollTop)),x){let{width:t,height:r}=e.getBoundingClientRect();C={class:C.class,rr_width:`${t}px`,rr_height:`${r}px`}}"iframe"!==T||v(C.src)||(e.contentDocument||(C.rr_src=C.src),delete C.src);try{customElements.get(T)&&(r=!0)}catch(e){}return{type:g.Element,tagName:T,attributes:C,childNodes:[],isSVG:!!("svg"===e.tagName||e.ownerSVGElement)||void 0,needBlock:x,rootId:y,isCustom:r}}(e,{doc:r,blockClass:o,blockSelector:a,unblockSelector:l,inlineStylesheet:m,maskAttributeFn:c,maskInputOptions:v,maskInputFn:y,dataURLOptions:b,inlineImages:w,recordCanvas:S,keepIframeSrcFn:k,newlyAddedElement:E,rootId:x,maskAllText:u,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p});case e.TEXT_NODE:return function(e,t){let{maskAllText:r,maskTextClass:n,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:u,rootId:c}=t,d=e.parentNode&&e.parentNode.tagName,h=e.textContent,f="STYLE"===d||void 0,p="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(f&&h){try{e.nextSibling||e.previousSibling||q([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(h=J(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}h=ec(h,ep())}p&&(h="SCRIPT_PLACEHOLDER");let v=ey(e,n,s,i,o,r);return f||p||m||!h||!v||(h=a?a(h,e.parentElement):h.replace(/[\S]/g,"*")),m&&h&&(l.textarea||v)&&(h=u?u(h,e.parentNode):h.replace(/[\S]/g,"*")),"OPTION"===d&&h&&(h=Y({isMasked:ey(e,n,s,i,o,K({type:null,tagName:d,maskInputOptions:l})),element:e,value:h,maskInputFn:u})),{type:g.Text,textContent:h||"",isStyle:f,rootId:c}}(e,{maskAllText:u,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,maskTextFn:_,maskInputOptions:v,maskInputFn:y,rootId:x});case e.CDATA_SECTION_NODE:return{type:g.CDATA,textContent:"",rootId:x};case e.COMMENT_NODE:return{type:g.Comment,textContent:e.textContent||"",rootId:x};default:return!1}}(e,{doc:s,mirror:o,blockClass:a,blockSelector:l,maskAllText:c,unblockSelector:u,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:v,maskInputOptions:_,maskAttributeFn:y,maskTextFn:b,maskInputFn:w,dataURLOptions:k,inlineImages:E,recordCanvas:x,keepIframeSrcFn:A,newlyAddedElement:P});if(!L)return console.warn(e,"not serialized"),null;r=o.hasNode(e)?o.getId(e):!function(e,t){if(t.comment&&e.type===g.Comment)return!0;if(e.type===g.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js"))||t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(eb(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===eb(e.attributes.name)||"icon"===eb(e.attributes.rel)||"apple-touch-icon"===eb(e.attributes.rel)||"shortcut icon"===eb(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&eb(e.attributes.name).match(/^description|keywords$/)||t.headMetaSocial&&(eb(e.attributes.property).match(/^(og|twitter|fb):/)||eb(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===eb(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===eb(e.attributes.name)||"googlebot"===eb(e.attributes.name)||"bingbot"===eb(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;else if(t.headMetaAuthorship&&("author"===eb(e.attributes.name)||"generator"===eb(e.attributes.name)||"framework"===eb(e.attributes.name)||"publisher"===eb(e.attributes.name)||"progid"===eb(e.attributes.name)||eb(e.attributes.property).match(/^article:/)||eb(e.attributes.property).match(/^product:/)))return!0;else if(t.headMetaVerification&&("google-site-verification"===eb(e.attributes.name)||"yandex-verification"===eb(e.attributes.name)||"csrf-token"===eb(e.attributes.name)||"p:domain_verify"===eb(e.attributes.name)||"verify-v1"===eb(e.attributes.name)||"verification"===eb(e.attributes.name)||"shopify-checkout-api-token"===eb(e.attributes.name)))return!0}}return!1}(L,S)&&(M||L.type!==g.Text||L.isStyle||L.textContent.replace(/^\s+|\s+$/gm,"").length)?es():-2;let $=Object.assign(L,{id:r});if(o.add(e,$),-2===r)return null;T&&T(e);let N=!m;if($.type===g.Element){N=N&&!$.needBlock,delete $.needBlock;let t=e.shadowRoot;t&&G(t)&&($.isShadowHost=!0)}if(($.type===g.Document||$.type===g.Element)&&N){S.headWhitespace&&$.type===g.Element&&"head"===$.tagName&&(M=!1);let t={doc:s,mirror:o,blockClass:a,blockSelector:l,maskAllText:c,unblockSelector:u,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,skipChild:m,inlineStylesheet:v,maskInputOptions:_,maskAttributeFn:y,maskTextFn:b,maskInputFn:w,slimDOMOptions:S,dataURLOptions:k,inlineImages:E,recordCanvas:x,preserveWhiteSpace:M,onSerialize:T,onIframeLoad:C,iframeLoadTimeout:I,onStylesheetLoad:O,stylesheetLoadTimeout:R,keepIframeSrcFn:A};for(let r of Array.from(e.childNodes)){let e=ew(r,t);e&&$.childNodes.push(e)}if(e.nodeType===e.ELEMENT_NODE&&e.shadowRoot)for(let r of Array.from(e.shadowRoot.childNodes)){let n=ew(r,t);n&&(G(e.shadowRoot)&&(n.isShadow=!0),$.childNodes.push(n))}}return e.parentNode&&z(e.parentNode)&&G(e.parentNode)&&($.isShadow=!0),$.type===g.Element&&"iframe"===$.tagName&&function(e,t,r){let n;let i=e.contentWindow;if(!i)return;let s=!1;try{n=i.document.readyState}catch(e){return}if("complete"!==n){let n=setTimeout(()=>{s||(t(),s=!0)},r);e.addEventListener("load",()=>{clearTimeout(n),s=!0,t()});return}let o="about:blank";if(i.location.href!==o||e.src===o||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{let t=e.contentDocument;if(t&&C){let r=ew(t,{doc:t,mirror:o,blockClass:a,blockSelector:l,unblockSelector:u,maskAllText:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:v,maskInputOptions:_,maskAttributeFn:y,maskTextFn:b,maskInputFn:w,slimDOMOptions:S,dataURLOptions:k,inlineImages:E,recordCanvas:x,preserveWhiteSpace:M,onSerialize:T,onIframeLoad:C,iframeLoadTimeout:I,onStylesheetLoad:O,stylesheetLoadTimeout:R,keepIframeSrcFn:A});r&&C(e,r)}},I),$.type===g.Element&&"link"===$.tagName&&"stylesheet"===$.attributes.rel&&function(e,t,r){let n,i=!1;try{n=e.sheet}catch(e){return}if(n)return;let s=setTimeout(()=>{i||(t(),i=!0)},r);e.addEventListener("load",()=>{clearTimeout(s),i=!0,t()})}(e,()=>{if(O){let t=ew(e,{doc:s,mirror:o,blockClass:a,blockSelector:l,unblockSelector:u,maskAllText:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:v,maskInputOptions:_,maskAttributeFn:y,maskTextFn:b,maskInputFn:w,slimDOMOptions:S,dataURLOptions:k,inlineImages:E,recordCanvas:x,preserveWhiteSpace:M,onSerialize:T,onIframeLoad:C,iframeLoadTimeout:I,onStylesheetLoad:O,stylesheetLoadTimeout:R,keepIframeSrcFn:A});t&&O(e,t)}},R),$}function eS(e){let t;let r=e[0],n=1;for(;n<e.length;){let i=e[n],s=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=s(r)):("call"===i||"optionalCall"===i)&&(r=s((...e)=>r.call(t,...e)),t=void 0)}return r}function ek(e,t,r=document){let n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}let eE="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",ex={map:{},getId:()=>(console.error(eE),-1),getNode:()=>(console.error(eE),null),removeNodeFromMap(){console.error(eE)},has:()=>(console.error(eE),!1),reset(){console.error(eE)}};function eT(e,t,r={}){let n=null,i=0;return function(...s){let o=Date.now();i||!1!==r.leading||(i=o);let a=t-(o-i),l=this;a<=0||a>t?(n&&(function(...e){eH("clearTimeout")(...e)}(n),n=null),i=o,e.apply(l,s)):n||!1===r.trailing||(n=eq(()=>{i=!1===r.leading?0:Date.now(),n=null,e.apply(l,s)},a))}}function eC(e,t,r){try{if(!(t in e))return()=>{};let n=e[t],i=r(n);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=i,()=>{e[t]=n}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(ex=new Proxy(ex,{get:(e,t,r)=>("map"===t&&console.error(eE),Reflect.get(e,t,r))}));let eI=Date.now;function eO(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:eS([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||eS([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||eS([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:eS([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||eS([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||eS([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function eR(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function eA(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function eP(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function eM(e,t,r,n,i){if(!e)return!1;let s=eP(e);if(!s)return!1;let o=e_(t,r);if(!i){let e=n&&s.matches(n);return o(s)&&!e}let a=ev(s,o),l=-1;return!(a<0)&&(n&&(l=ev(s,e_(null,n))),a>-1&&l<0||a<l)}function eL(e,t){return -2===t.getId(e)}function e$(e){return!!e.changedTouches}function eN(e,t){return!!("IFRAME"===e.nodeName&&t.getMeta(e))}function ej(e,t){return!!("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function eD(e){return!!eS([e,"optionalAccess",e=>e.shadowRoot])}/[1-9][0-9]{12}/.test(Date.now().toString())||(eI=()=>new Date().getTime());class eF{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return t=this.styleIDMap.get(e),null!=t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){let r;return this.has(e)?this.getId(e):(r=void 0===t?this.id++:t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r)}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function eU(e){let t=null;return eS([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function eB(e){let t=e.ownerDocument;return!!t&&(t.contains(e)||function(e){let t=e.ownerDocument;if(!t)return!1;let r=function(e){let t,r=e;for(;t=eU(r);)r=t;return r}(e);return t.contains(r)}(e))}let eW={};function eH(e){let t=eW[e];if(t)return t;let r=window.document,n=window[e];if(r&&"function"==typeof r.createElement)try{let t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch(e){}return eW[e]=n.bind(window)}function eq(...e){return eH("setTimeout")(...e)}var ez=((c=ez||{})[c.DomContentLoaded=0]="DomContentLoaded",c[c.Load=1]="Load",c[c.FullSnapshot=2]="FullSnapshot",c[c.IncrementalSnapshot=3]="IncrementalSnapshot",c[c.Meta=4]="Meta",c[c.Custom=5]="Custom",c[c.Plugin=6]="Plugin",c),eG=((d=eG||{})[d.Mutation=0]="Mutation",d[d.MouseMove=1]="MouseMove",d[d.MouseInteraction=2]="MouseInteraction",d[d.Scroll=3]="Scroll",d[d.ViewportResize=4]="ViewportResize",d[d.Input=5]="Input",d[d.TouchMove=6]="TouchMove",d[d.MediaInteraction=7]="MediaInteraction",d[d.StyleSheetRule=8]="StyleSheetRule",d[d.CanvasMutation=9]="CanvasMutation",d[d.Font=10]="Font",d[d.Log=11]="Log",d[d.Drag=12]="Drag",d[d.StyleDeclaration=13]="StyleDeclaration",d[d.Selection=14]="Selection",d[d.AdoptedStyleSheet=15]="AdoptedStyleSheet",d[d.CustomElement=16]="CustomElement",d),eJ=((h=eJ||{})[h.MouseUp=0]="MouseUp",h[h.MouseDown=1]="MouseDown",h[h.Click=2]="Click",h[h.ContextMenu=3]="ContextMenu",h[h.DblClick=4]="DblClick",h[h.Focus=5]="Focus",h[h.Blur=6]="Blur",h[h.TouchStart=7]="TouchStart",h[h.TouchMove_Departed=8]="TouchMove_Departed",h[h.TouchEnd=9]="TouchEnd",h[h.TouchCancel=10]="TouchCancel",h),eX=((f=eX||{})[f.Mouse=0]="Mouse",f[f.Pen=1]="Pen",f[f.Touch=2]="Touch",f);class eV{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw Error("Position outside of list range");let t=this.head;for(let r=0;r<e;r++)t=function(e){let t;let r=e[0],n=1;for(;n<e.length;){let i=e[n],s=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=s(r)):("call"===i||"optionalCall"===i)&&(r=s((...e)=>r.call(t,...e)),t=void 0)}return r}([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&"__ln"in e.previousSibling){let r=e.previousSibling.__ln.next;t.next=r,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,r&&(r.previous=t)}else if(e.nextSibling&&"__ln"in e.nextSibling&&e.nextSibling.__ln.previous){let r=e.nextSibling.__ln.previous;t.previous=r,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,r&&(r.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}let eK=(e,t)=>`${e}@${t}`;class eY{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let e=[],t=new Set,r=new eV,n=e=>{let t=e,r=-2;for(;-2===r;)r=(t=t&&t.nextSibling)&&this.mirror.getId(t);return r},i=i=>{if(!i.parentNode||!eB(i))return;let s=z(i.parentNode)?this.mirror.getId(eU(i)):this.mirror.getId(i.parentNode),o=n(i);if(-1===s||-1===o)return r.addNode(i);let a=ew(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{eN(e,this.mirror)&&this.iframeManager.addIframe(e),ej(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),eD(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:s,nextId:o,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let e of this.movedSet)(!eQ(this.removes,e,this.mirror)||this.movedSet.has(e.parentNode))&&i(e);for(let e of this.addedSet)e0(this.droppedSet,e)||eQ(this.removes,e,this.mirror)?e0(this.movedSet,e)?i(e):this.droppedSet.add(e):i(e);let s=null;for(;r.length;){let e=null;if(s){let t=this.mirror.getId(s.value.parentNode),r=n(s.value);-1!==t&&-1!==r&&(e=s)}if(!e){let t=r.tail;for(;t;){let r=t;if(t=t.previous,r){let t=this.mirror.getId(r.value.parentNode);if(-1===n(r.value))continue;if(-1!==t){e=r;break}{let t=r.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let n=t.parentNode.host;if(-1!==this.mirror.getId(n)){e=r;break}}}}}}if(!e){for(;r.head;)r.removeNode(r.head.value);break}s=e.previous,r.removeNode(e.value),i(e.value)}let o={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{let{attributes:t}=e;if("string"==typeof t.style){let r=JSON.stringify(e.styleDiff),n=JSON.stringify(e._unchangedStyles);r.length<t.style.length&&(r+n).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=e=>{if(!eL(e.target,this.mirror))switch(e.type){case"characterData":{let t=e.target.textContent;eM(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:ey(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,eP(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{let t=e.target,r=e.attributeName,n=e.target.getAttribute(r);if("value"===r){let r=et(t),i=t.tagName;n=er(t,i,r);let s=K({maskInputOptions:this.maskInputOptions,tagName:i,type:r});n=Y({isMasked:ey(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,s),element:t,value:n,maskInputFn:this.maskInputFn})}if(eM(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||n===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===r&&!this.keepIframeSrcFn(n)){if(t.contentDocument)return;r="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===r&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!em(t.tagName,r)&&(i.attributes[r]=eg(this.doc,Z(t.tagName),Z(r),n,t,this.maskAttributeFn),"style"===r)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}let r=this.unattachedDoc.createElement("span");for(let n of(e.oldValue&&r.setAttribute("style",e.oldValue),Array.from(t.style))){let e=t.style.getPropertyValue(n),s=t.style.getPropertyPriority(n);e!==r.style.getPropertyValue(n)||s!==r.style.getPropertyPriority(n)?""===s?i.styleDiff[n]=e:i.styleDiff[n]=[e,s]:i._unchangedStyles[n]=[e,s]}for(let e of Array.from(r.style))""===t.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break}case"childList":if(eM(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{let r=this.mirror.getId(t),n=z(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);eM(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||eL(t,this.mirror)||-1===this.mirror.getId(t)||(this.addedSet.has(t)?(eZ(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===r||function e(t,r){if(z(t))return!1;let n=r.getId(t);return!r.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||e(t.parentNode,r))}(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[eK(r,n)]?eZ(this.movedSet,t):this.removes.push({parentId:n,id:r,isShadow:!!(z(e.target)&&G(e.target))||void 0})),this.mapRemoves.push(t))})}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(eL(e,this.mirror))return;this.movedSet.add(e);let r=null;t&&this.mirror.hasNode(t)&&(r=this.mirror.getId(t)),r&&-1!==r&&(this.movedMap[eK(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);!eM(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&(e.childNodes.forEach(e=>this.genAdds(e)),eD(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function eZ(e,t){e.delete(t),t.childNodes.forEach(t=>eZ(e,t))}function eQ(e,t,r){return 0!==e.length&&function e(t,r,n){let{parentNode:i}=r;if(!i)return!1;let s=n.getId(i);return!!t.some(e=>e.id===s)||e(t,i,n)}(e,t,r)}function e0(e,t){return 0!==e.size&&function e(t,r){let{parentNode:n}=r;return!!n&&(!!t.has(n)||e(t,n))}(e,t)}let e1=e=>s?(...t)=>{try{return e(...t)}catch(e){if(s&&!0===s(e))return()=>{};throw e}}:e;function e2(e){let t;let r=e[0],n=1;for(;n<e.length;){let i=e[n],s=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=s(r)):("call"===i||"optionalCall"===i)&&(r=s((...e)=>r.call(t,...e)),t=void 0)}return r}let e3=[];function e4(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function e5(e,t){let r=new eY;e3.push(r),r.init(e);let n=window.MutationObserver||window.__rrMutationObserver,i=e2([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);i&&window[i]&&(n=window[i]);let s=new n(e1(t=>{e.onMutation&&!1===e.onMutation(t)||r.processMutations.bind(r)(t)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function e8({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,sampling:o}){return ek("scroll",e1(eT(e1(o=>{let a=e4(o);if(!a||eM(a,n,i,s,!0))return;let l=r.getId(a);if(a===t&&t.defaultView){let r=eO(t.defaultView);e({id:l,x:r.left,y:r.top})}else e({id:l,x:a.scrollLeft,y:a.scrollTop})}),o.scroll||100)),t)}let e6=["INPUT","TEXTAREA","SELECT"],e9=new WeakMap;function e7(e){var t;return t=[],tn("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||tn("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||tn("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||tn("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule?t.unshift(Array.from(e.parentRule.cssRules).indexOf(e)):e.parentStyleSheet&&t.unshift(Array.from(e.parentStyleSheet.cssRules).indexOf(e)),t}function te(e,t,r){let n,i;return e?(e.ownerNode?n=t.getId(e.ownerNode):i=r.getId(e),{styleId:i,id:n}):{}}function tt({mirror:e,stylesheetManager:t},r){let n=null;n="#document"===r.nodeName?e.getId(r):e.getId(r.host);let i="#document"===r.nodeName?e2([r,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):e2([r,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),s=e2([i,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(e2([i,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==n&&-1!==n&&i&&s?(Object.defineProperty(r,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return e2([s,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){let r=e2([s,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==n&&-1!==n)try{t.adoptStyleSheets(e,n)}catch(e){}return r}}),e1(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})})):()=>{}}function tr(e,t={}){let r=e.doc.defaultView;if(!r)return()=>{};let n=e5(e,e.doc),i=function({mousemoveCb:e,sampling:t,doc:r,mirror:n}){let i;if(!1===t.mousemove)return()=>{};let s="number"==typeof t.mousemove?t.mousemove:50,o="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500,a=[],l=eT(e1(t=>{let r=Date.now()-i;e(a.map(e=>(e.timeOffset-=r,e)),t),a=[],i=null}),o),u=e1(eT(e1(e=>{let t=e4(e),{clientX:r,clientY:s}=e$(e)?e.changedTouches[0]:e;i||(i=eI()),a.push({x:r,y:s,id:n.getId(t),timeOffset:eI()-i}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?eG.Drag:e instanceof MouseEvent?eG.MouseMove:eG.TouchMove)}),s,{trailing:!1})),c=[ek("mousemove",u,r),ek("touchmove",u,r),ek("drag",u,r)];return e1(()=>{c.forEach(e=>e())})}(e),s=function({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,sampling:o}){if(!1===o.mouseInteraction)return()=>{};let a=!0===o.mouseInteraction||void 0===o.mouseInteraction?{}:o.mouseInteraction,l=[],u=null,c=t=>o=>{let a=e4(o);if(eM(a,n,i,s,!0))return;let l=null,c=t;if("pointerType"in o){switch(o.pointerType){case"mouse":l=eX.Mouse;break;case"touch":l=eX.Touch;break;case"pen":l=eX.Pen}l===eX.Touch?eJ[t]===eJ.MouseDown?c="TouchStart":eJ[t]===eJ.MouseUp&&(c="TouchEnd"):eX.Pen}else e$(o)&&(l=eX.Touch);null!==l?(u=l,(c.startsWith("Touch")&&l===eX.Touch||c.startsWith("Mouse")&&l===eX.Mouse)&&(l=null)):eJ[t]===eJ.Click&&(l=u,u=null);let d=e$(o)?o.changedTouches[0]:o;if(!d)return;let h=r.getId(a),{clientX:f,clientY:p}=d;e1(e)({type:eJ[c],id:h,x:f,y:p,...null!==l&&{pointerType:l}})};return Object.keys(eJ).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e]).forEach(e=>{let r=Z(e),n=c(e);if(window.PointerEvent)switch(eJ[e]){case eJ.MouseDown:case eJ.MouseUp:r=r.replace("mouse","pointer");break;case eJ.TouchStart:case eJ.TouchEnd:return}l.push(ek(r,n,t))}),e1(()=>{l.forEach(e=>e())})}(e),o=e8(e),a=function({viewportResizeCb:e},{win:t}){let r=-1,n=-1;return ek("resize",e1(eT(e1(()=>{let t=eR(),i=eA();(r!==t||n!==i)&&(e({width:Number(i),height:Number(t)}),r=t,n=i)}),200)),t)}(e,{win:r}),l=function({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,ignoreClass:o,ignoreSelector:a,maskInputOptions:l,maskInputFn:u,sampling:c,userTriggeredOnInput:d,maskTextClass:h,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g}){function m(e){let r=e4(e),c=e.isTrusted,m=r&&Q(r.tagName);if("OPTION"===m&&(r=r.parentElement),!r||!m||0>e6.indexOf(m)||eM(r,n,i,s,!0))return;let _=r;if(_.classList.contains(o)||a&&_.matches(a))return;let y=et(r),b=er(_,m,y),w=!1,S=K({maskInputOptions:l,tagName:m,type:y}),k=ey(r,h,p,f,g,S);("radio"===y||"checkbox"===y)&&(w=r.checked),b=Y({isMasked:k,element:r,value:b,maskInputFn:u}),v(r,d?{text:b,isChecked:w,userTriggered:c}:{text:b,isChecked:w});let E=r.name;"radio"===y&&E&&w&&t.querySelectorAll(`input[type="radio"][name="${E}"]`).forEach(e=>{if(e!==r){let t=Y({isMasked:k,element:e,value:er(e,m,y),maskInputFn:u});v(e,d?{text:t,isChecked:!w,userTriggered:!1}:{text:t,isChecked:!w})}})}function v(t,n){let i=e9.get(t);if(!i||i.text!==n.text||i.isChecked!==n.isChecked){e9.set(t,n);let i=r.getId(t);e1(e)({...n,id:i})}}let _=("last"===c.input?["change"]:["input","change"]).map(e=>ek(e,e1(m),t)),y=t.defaultView;if(!y)return()=>{_.forEach(e=>e())};let b=y.Object.getOwnPropertyDescriptor(y.HTMLInputElement.prototype,"value"),w=[[y.HTMLInputElement.prototype,"value"],[y.HTMLInputElement.prototype,"checked"],[y.HTMLSelectElement.prototype,"value"],[y.HTMLTextAreaElement.prototype,"value"],[y.HTMLSelectElement.prototype,"selectedIndex"],[y.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&_.push(...w.map(e=>(function e(t,r,n,i,s=window){let o=s.Object.getOwnPropertyDescriptor(t,r);return s.Object.defineProperty(t,r,i?n:{set(e){eq(()=>{n.set.call(this,e)},0),o&&o.set&&o.set.call(this,e)}}),()=>e(t,r,o||{},!0)})(e[0],e[1],{set(){e1(m)({target:this,isTrusted:!1})}},!1,y))),e1(()=>{_.forEach(e=>e())})}(e),u=function({mediaInteractionCb:e,blockClass:t,blockSelector:r,unblockSelector:n,mirror:i,sampling:s,doc:o}){let a=e1(o=>eT(e1(s=>{let a=e4(s);if(!a||eM(a,t,r,n,!0))return;let{currentTime:l,volume:u,muted:c,playbackRate:d}=a;e({type:o,id:i.getId(a),currentTime:l,volume:u,muted:c,playbackRate:d})}),s.media||500)),l=[ek("play",a(0),o),ek("pause",a(1),o),ek("seeked",a(2),o),ek("volumechange",a(3),o),ek("ratechange",a(4),o)];return e1(()=>{l.forEach(e=>e())})}(e),c=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){let i,s;if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};let o=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:e1((n,i,s)=>{let[o,a]=s,{id:l,styleId:u}=te(i,t,r.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,adds:[{rule:o,index:a}]}),n.apply(i,s)})});let a=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:e1((n,i,s)=>{let[o]=s,{id:a,styleId:l}=te(i,t,r.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:o}]}),n.apply(i,s)})}),n.CSSStyleSheet.prototype.replace&&(i=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:e1((n,i,s)=>{let[o]=s,{id:a,styleId:l}=te(i,t,r.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replace:o}),n.apply(i,s)})})),n.CSSStyleSheet.prototype.replaceSync&&(s=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:e1((n,i,s)=>{let[o]=s,{id:a,styleId:l}=te(i,t,r.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replaceSync:o}),n.apply(i,s)})}));let l={};ti("CSSGroupingRule")?l.CSSGroupingRule=n.CSSGroupingRule:(ti("CSSMediaRule")&&(l.CSSMediaRule=n.CSSMediaRule),ti("CSSConditionRule")&&(l.CSSConditionRule=n.CSSConditionRule),ti("CSSSupportsRule")&&(l.CSSSupportsRule=n.CSSSupportsRule));let u={};return Object.entries(l).forEach(([n,i])=>{u[n]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(u[n].insertRule,{apply:e1((n,i,s)=>{let[o,a]=s,{id:l,styleId:u}=te(i.parentStyleSheet,t,r.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,adds:[{rule:o,index:[...e7(i),a||0]}]}),n.apply(i,s)})}),i.prototype.deleteRule=new Proxy(u[n].deleteRule,{apply:e1((n,i,s)=>{let[o]=s,{id:a,styleId:l}=te(i.parentStyleSheet,t,r.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:[...e7(i),o]}]}),n.apply(i,s)})})}),e1(()=>{n.CSSStyleSheet.prototype.insertRule=o,n.CSSStyleSheet.prototype.deleteRule=a,i&&(n.CSSStyleSheet.prototype.replace=i),s&&(n.CSSStyleSheet.prototype.replaceSync=s),Object.entries(l).forEach(([e,t])=>{t.prototype.insertRule=u[e].insertRule,t.prototype.deleteRule=u[e].deleteRule})})}(e,{win:r}),d=tt(e,e.doc),h=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:i}){let s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:e1((i,o,a)=>{let[l,u,c]=a;if(r.has(l))return s.apply(o,[l,u,c]);let{id:d,styleId:h}=te(e2([o,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,n.styleMirror);return(d&&-1!==d||h&&-1!==h)&&e({id:d,styleId:h,set:{property:l,value:u,priority:c},index:e7(o.parentRule)}),i.apply(o,a)})});let o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:e1((i,s,a)=>{let[l]=a;if(r.has(l))return o.apply(s,[l]);let{id:u,styleId:c}=te(e2([s,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,n.styleMirror);return(u&&-1!==u||c&&-1!==c)&&e({id:u,styleId:c,remove:{property:l},index:e7(s.parentRule)}),i.apply(s,a)})}),e1(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}(e,{win:r}),f=e.collectFonts?function({fontCb:e,doc:t}){let r=t.defaultView;if(!r)return()=>{};let n=[],i=new WeakMap,s=r.FontFace;r.FontFace=function(e,t,r){let n=new s(e,t,r);return i.set(n,{family:e,buffer:"string"!=typeof t,descriptors:r,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),n};let o=eC(t.fonts,"add",function(t){return function(r){return eq(e1(()=>{let t=i.get(r);t&&(e(t),i.delete(r))}),0),t.apply(this,[r])}});return n.push(()=>{r.FontFace=s}),n.push(o),e1(()=>{n.forEach(e=>e())})}(e):()=>{},p=function(e){let{doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,selectionCb:o}=e,a=!0,l=e1(()=>{let e=t.getSelection();if(!e||a&&e2([e,"optionalAccess",e=>e.isCollapsed]))return;a=e.isCollapsed||!1;let l=[],u=e.rangeCount||0;for(let t=0;t<u;t++){let{startContainer:o,startOffset:a,endContainer:u,endOffset:c}=e.getRangeAt(t);eM(o,n,i,s,!0)||eM(u,n,i,s,!0)||l.push({start:r.getId(o),startOffset:a,end:r.getId(u),endOffset:c})}o({ranges:l})});return l(),ek("selectionchange",l)}(e),g=function({doc:e,customElementCb:t}){let r=e.defaultView;return r&&r.customElements?eC(r.customElements,"define",function(e){return function(r,n,i){try{t({define:{name:r}})}catch(e){}return e.apply(this,[r,n,i])}}):()=>{}}(e),m=[];for(let t of e.plugins)m.push(t.observer(t.callback,r,t.options));return e1(()=>{e3.forEach(e=>e.reset()),n.disconnect(),i(),s(),o(),a(),l(),u(),c(),d(),h(),f(),p(),g(),m.forEach(e=>e())})}function tn(e){return void 0!==window[e]}function ti(e){return!!(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class ts{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,r,n){let i=r||this.getIdToRemoteIdMap(e),s=n||this.getRemoteIdToIdMap(e),o=i.get(t);return o||(o=this.generateIdFn(),i.set(t,o),s.set(o,t)),o}getIds(e,t){let r=this.getIdToRemoteIdMap(e),n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,r,n))}getRemoteId(e,t,r){let n=r||this.getRemoteIdToIdMap(e);return"number"!=typeof t?t:n.get(t)||-1}getRemoteIds(e,t){let r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function to(e){let t;let r=e[0],n=1;for(;n<e.length;){let i=e[n],s=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=s(r)):("call"===i||"optionalCall"===i)&&(r=s((...e)=>r.call(t,...e)),t=void 0)}return r}class ta{constructor(){this.crossOriginIframeMirror=new ts(es),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class tl{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ts(es),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ts(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),to([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){if("rrweb"!==e.data.type||e.origin!==e.data.origin||!e.source)return;let t=this.crossOriginIframeMap.get(e.source);if(!t)return;let r=this.transformCrossOriginEvent(t,e.data.event);r&&this.wrappedEmit(r,e.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case ez.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);let r=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(t.data.node,r),{timestamp:t.timestamp,type:ez.IncrementalSnapshot,data:{source:eG.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case ez.Meta:case ez.Load:case ez.DomContentLoaded:break;case ez.Plugin:return t;case ez.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case ez.IncrementalSnapshot:switch(t.data.source){case eG.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);let r=this.crossOriginIframeRootIdMap.get(e);r&&this.patchRootIdOnNode(t.node,r)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case eG.Drag:case eG.TouchMove:case eG.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case eG.ViewportResize:return!1;case eG.MediaInteraction:case eG.MouseInteraction:case eG.Scroll:case eG.CanvasMutation:case eG.Input:return this.replaceIds(t.data,e,["id"]),t;case eG.StyleSheetRule:case eG.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case eG.Font:return t;case eG.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case eG.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),to([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t(t=>{this.replaceStyleIds(t,e,["styleId"])})]),t}}return!1}replace(e,t,r,n){for(let i of n)(Array.isArray(t[i])||"number"==typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(r,t[i]):t[i]=e.getId(r,t[i]));return t}replaceIds(e,t,r){return this.replace(this.crossOriginIframeMirror,e,t,r)}replaceStyleIds(e,t,r){return this.replace(this.crossOriginIframeStyleMirror,e,t,r)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type===g.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}}class tu{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class tc{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!G(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);let r=e5({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(e8({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),eq(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(tt({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){let r=this;this.restoreHandlers.push(eC(e.prototype,"attachShadow",function(e){return function(n){let i=e.call(this,n);return this.shadowRoot&&eB(this)&&r.addShadowRoot(this.shadowRoot,t),i}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(e){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class td{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class th{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new eF,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;let r={id:t,styleIds:[]},n=[];for(let t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),n.push({styleId:e,rules:Array.from(t.rules||CSSRule,(e,t)=>({rule:X(e),index:t}))})),r.styleIds.push(e)}n.length>0&&(r.styles=n),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class tf{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function(...e){eH("requestAnimationFrame")(...e)}(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(e,t){let r=this.nodeMap.get(e);return r&&Array.from(r).some(e=>e!==t)}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let tp=new V;function tg(e={}){let t;let{emit:r,checkoutEveryNms:n,checkoutEveryNth:i,blockClass:l="rr-block",blockSelector:u=null,unblockSelector:c=null,ignoreClass:d="rr-ignore",ignoreSelector:h=null,maskAllText:f=!1,maskTextClass:p="rr-mask",unmaskTextClass:g=null,maskTextSelector:m=null,unmaskTextSelector:_=null,inlineStylesheet:y=!0,maskAllInputs:b,maskInputOptions:w,slimDOMOptions:S,maskAttributeFn:k,maskInputFn:E,maskTextFn:x,maxCanvasSize:T=null,packFn:C,sampling:I={},dataURLOptions:O={},mousemoveWait:R,recordCanvas:A=!1,recordCrossOriginIframes:P=!1,recordAfter:M="DOMContentLoaded"===e.recordAfter?e.recordAfter:"load",userTriggeredOnInput:L=!1,collectFonts:$=!1,inlineImages:N=!1,plugins:j,keepIframeSrcFn:D=()=>!1,ignoreCSSAttributes:F=new Set([]),errorHandler:U,onMutation:B,getCanvasManager:W}=e;s=U;let H=!P||window.parent===window,q=!1;if(!H)try{window.parent.document&&(q=!1)}catch(e){q=!0}if(H&&!r)throw Error("emit function is required");void 0!==R&&void 0===I.mousemove&&(I.mousemove=R),tp.reset();let z=!0===b?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==w?w:{},G=!0===S||"all"===S?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===S,headMetaDescKeywords:"all"===S}:S||{};!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw TypeError("1 argument is required");do if(this===t)return!0;while(t=t&&t.parentNode);return!1})}();let J=0,X=e=>{for(let t of j||[])t.eventProcessor&&(e=t.eventProcessor(e));return C&&!q&&(e=C(e)),e};o=(e,s)=>{if(e.timestamp=eI(),(0,v.x)([e3,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])&&e.type!==ez.FullSnapshot&&!(e.type===ez.IncrementalSnapshot&&e.data.source===eG.Mutation)&&e3.forEach(e=>e.unfreeze()),H)(0,v.x)([r,"optionalCall",t=>t(X(e),s)]);else if(q){let t={type:"rrweb",event:X(e),origin:window.location.origin,isCheckout:s};window.parent.postMessage(t,"*")}if(e.type===ez.FullSnapshot)t=e,J=0;else if(e.type===ez.IncrementalSnapshot){if(e.data.source===eG.Mutation&&e.data.isAttachIframe)return;J++;let r=i&&J>=i,s=n&&t&&e.timestamp-t.timestamp>n;(r||s)&&ei(!0)}};let K=e=>{o({type:ez.IncrementalSnapshot,data:{source:eG.Mutation,...e}})},Y=e=>o({type:ez.IncrementalSnapshot,data:{source:eG.Scroll,...e}}),Z=e=>o({type:ez.IncrementalSnapshot,data:{source:eG.CanvasMutation,...e}}),Q=new th({mutationCb:K,adoptedStyleSheetCb:e=>o({type:ez.IncrementalSnapshot,data:{source:eG.AdoptedStyleSheet,...e}})}),ee="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new ta:new tl({mirror:tp,mutationCb:K,stylesheetManager:Q,recordCrossOriginIframes:P,wrappedEmit:o});for(let e of j||[])e.getMirror&&e.getMirror({nodeMirror:tp,crossOriginIframeMirror:ee.crossOriginIframeMirror,crossOriginIframeStyleMirror:ee.crossOriginIframeStyleMirror});let et=new tf,er=function(e,t){try{return e?e(t):new td}catch(e){return console.warn("Unable to initialize CanvasManager"),new td}}(W,{mirror:tp,win:window,mutationCb:e=>o({type:ez.IncrementalSnapshot,data:{source:eG.CanvasMutation,...e}}),recordCanvas:A,blockClass:l,blockSelector:u,unblockSelector:c,maxCanvasSize:T,sampling:I.canvas,dataURLOptions:O,errorHandler:U}),en="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new tu:new tc({mutationCb:K,scrollCb:Y,bypassOptions:{onMutation:B,blockClass:l,blockSelector:u,unblockSelector:c,maskAllText:f,maskTextClass:p,unmaskTextClass:g,maskTextSelector:m,unmaskTextSelector:_,inlineStylesheet:y,maskInputOptions:z,dataURLOptions:O,maskAttributeFn:k,maskTextFn:x,maskInputFn:E,recordCanvas:A,inlineImages:N,sampling:I,slimDOMOptions:G,iframeManager:ee,stylesheetManager:Q,canvasManager:er,keepIframeSrcFn:D,processedNodeManager:et},mirror:tp}),ei=(e=!1)=>{o({type:ez.Meta,data:{href:window.location.href,width:eA(),height:eR()}},e),Q.reset(),en.init(),e3.forEach(e=>e.lock());let t=function(e,t){let{mirror:r=new V,blockClass:n="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:u=null,unmaskTextSelector:c=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:f=!1,maskAllInputs:p=!1,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOM:_=!1,dataURLOptions:y,preserveWhiteSpace:b,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:T=()=>!1}=t||{};return ew(e,{doc:e,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:c,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===p?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===p?{}:p,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===_,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===_?{}:_,dataURLOptions:y,inlineImages:h,recordCanvas:f,preserveWhiteSpace:b,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:T,newlyAddedElement:!1})}(document,{mirror:tp,blockClass:l,blockSelector:u,unblockSelector:c,maskAllText:f,maskTextClass:p,unmaskTextClass:g,maskTextSelector:m,unmaskTextSelector:_,inlineStylesheet:y,maskAllInputs:z,maskAttributeFn:k,maskInputFn:E,maskTextFn:x,slimDOM:G,dataURLOptions:O,recordCanvas:A,inlineImages:N,onSerialize:e=>{eN(e,tp)&&ee.addIframe(e),ej(e,tp)&&Q.trackLinkElement(e),eD(e)&&en.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{ee.attachIframe(e,t),en.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Q.attachLinkElement(e,t)},keepIframeSrcFn:D});if(!t)return console.warn("Failed to snapshot the document");o({type:ez.FullSnapshot,data:{node:t,initialOffset:eO(window)}}),e3.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Q.adoptStyleSheets(document.adoptedStyleSheets,tp.getId(document))};a=ei;try{let e=[],t=e=>e1(tr)({onMutation:B,mutationCb:K,mousemoveCb:(e,t)=>o({type:ez.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>o({type:ez.IncrementalSnapshot,data:{source:eG.MouseInteraction,...e}}),scrollCb:Y,viewportResizeCb:e=>o({type:ez.IncrementalSnapshot,data:{source:eG.ViewportResize,...e}}),inputCb:e=>o({type:ez.IncrementalSnapshot,data:{source:eG.Input,...e}}),mediaInteractionCb:e=>o({type:ez.IncrementalSnapshot,data:{source:eG.MediaInteraction,...e}}),styleSheetRuleCb:e=>o({type:ez.IncrementalSnapshot,data:{source:eG.StyleSheetRule,...e}}),styleDeclarationCb:e=>o({type:ez.IncrementalSnapshot,data:{source:eG.StyleDeclaration,...e}}),canvasMutationCb:Z,fontCb:e=>o({type:ez.IncrementalSnapshot,data:{source:eG.Font,...e}}),selectionCb:e=>{o({type:ez.IncrementalSnapshot,data:{source:eG.Selection,...e}})},customElementCb:e=>{o({type:ez.IncrementalSnapshot,data:{source:eG.CustomElement,...e}})},blockClass:l,ignoreClass:d,ignoreSelector:h,maskAllText:f,maskTextClass:p,unmaskTextClass:g,maskTextSelector:m,unmaskTextSelector:_,maskInputOptions:z,inlineStylesheet:y,sampling:I,recordCanvas:A,inlineImages:N,userTriggeredOnInput:L,collectFonts:$,doc:e,maskAttributeFn:k,maskInputFn:E,maskTextFn:x,keepIframeSrcFn:D,blockSelector:u,unblockSelector:c,slimDOMOptions:G,dataURLOptions:O,mirror:tp,iframeManager:ee,stylesheetManager:Q,shadowDomManager:en,processedNodeManager:et,canvasManager:er,ignoreCSSAttributes:F,plugins:(0,v.x)([j,"optionalAccess",e=>e.filter,"call",e=>e(e=>e.observer),"optionalAccess",e=>e.map,"call",e=>e(e=>({observer:e.observer,options:e.options,callback:t=>o({type:ez.Plugin,data:{plugin:e.name,payload:t}})}))])||[]},{});ee.addLoadListener(r=>{try{e.push(t(r.contentDocument))}catch(e){console.warn(e)}});let r=()=>{ei(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?r():(e.push(ek("DOMContentLoaded",()=>{o({type:ez.DomContentLoaded,data:{}}),"DOMContentLoaded"===M&&r()})),e.push(ek("load",()=>{o({type:ez.Load,data:{}}),"load"===M&&r()},window))),()=>{e.forEach(e=>e()),et.destroy(),a=void 0,s=void 0}}catch(e){console.warn(e)}}function tm(e){return e>9999999999?e:1e3*e}function tv(e){return e>9999999999?e/1e3:e}function t_(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:ez.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:(0,T.Fv)(t,10,1e3)}}),"console"===t.category)))}function ty(e){return e.closest("button,a")||e}function tb(e){let t=tw(e);return t&&t instanceof Element?ty(t):t}function tw(e){return"object"==typeof e&&e&&"target"in e?e.target:e}tg.mirror=tp,tg.takeFullSnapshot=function(e){if(!a)throw Error("please take full snapshot after start recording");a(e)};class tS{constructor(e,t,r=t_){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){var e;let t=(e=()=>{this._lastMutation=tE()},l||(l=[],(0,C.hl)(B,"open",function(e){return function(...t){if(l)try{l.forEach(e=>e())}catch(e){}return e.apply(B,t)}})),l.push(e),()=>{let t=l?l.indexOf(e):-1;t>-1&&l.splice(t,1)});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){var r;if(r=this._ignoreSelector,!tk.includes(t.tagName)||"INPUT"===t.tagName&&!["submit","button"].includes(t.getAttribute("type")||"")||"A"===t.tagName&&(t.hasAttribute("download")||t.hasAttribute("target")&&"_self"!==t.getAttribute("target"))||r&&t.matches(r)||!(e.data&&"number"==typeof e.data.nodeId&&e.timestamp))return;let n={timestamp:tv(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(e=>e.node===n.node&&1>Math.abs(e.timestamp-n.timestamp))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=tv(e)}registerScroll(e=Date.now()){this._lastScroll=tv(e)}registerClick(e){let t=ty(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(e=>{e.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){let e=[],t=tE();for(let r of(this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=t&&e.push(r)}),e)){let e=this._clicks.indexOf(r);e>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){let t=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,n=e.mutationAfter&&e.mutationAfter<=this._threshold,{clickCount:i,clickBreadcrumb:s}=e;if(!r&&!n){let r=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),n=r<1e3*this._timeout?"mutation":"timeout",o={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:B.location.href,route:t.getCurrentRoute(),timeAfterClickMs:r,endReason:n,clickCount:i||1}};this._addBreadcrumbEvent(t,o);return}if(i>1){let e={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:B.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}let tk=["A","BUTTON","INPUT"];function tE(){return Date.now()/1e3}function tx(e){return{timestamp:Date.now()/1e3,type:"default",...e}}(p=m||(m={}))[p.Document=0]="Document",p[p.DocumentType=1]="DocumentType",p[p.Element=2]="Element",p[p.Text=3]="Text",p[p.CDATA=4]="CDATA",p[p.Comment=5]="Comment";let tT=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]),tC=e=>t=>{if(!e.isEnabled())return;let r=function(e){let{target:t,message:r}=function(e){let t;let r="click"===e.name,n=null;try{n=r?tb(e.event):tw(e.event),t=(0,I.Rt)(n,{maxStringLength:200})||"<unknown>"}catch(e){t="<unknown>"}return{target:n,message:t}}(e);return tx({category:`ui.${e.name}`,...tI(t,r)})}(t);if(!r)return;let n="click"===t.name,i=n?t.event:void 0;n&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&function(e,t,r){e.handleClick(t,r)}(e.clickDetector,r,tb(t.event)),t_(e,r)};function tI(e,t){let r=tg.mirror.getId(e),n=r&&tg.mirror.getNode(r),i=n&&tg.mirror.getMeta(n),s=i&&i.type===m.Element?i:null;return{message:t,data:s?{nodeId:r,node:{id:r,tagName:s.tagName,textContent:Array.from(s.childNodes).map(e=>e.type===m.Text&&e.textContent).filter(Boolean).map(e=>e.trim()).join(""),attributes:function(e){let t={};for(let r in e)if(tT.has(r)){let n=r;("data-testid"===r||"data-test-id"===r)&&(n="testId"),t[n]=e[r]}return t}(s.attributes)}}:{}}}let tO={resource:function(e){let{entryType:t,initiatorType:r,name:n,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${t}.${r}`,start:tA(s),end:tA(i),name:n,data:{size:u,statusCode:l,decodedBodySize:o,encodedBodySize:a}}},paint:function(e){let{duration:t,entryType:r,name:n,startTime:i}=e,s=tA(i);return{type:r,name:n,start:s,end:s+t,data:void 0}},navigation:function(e){let{entryType:t,name:r,decodedBodySize:n,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:u,loadEventStart:c,loadEventEnd:d,redirectCount:h,startTime:f,transferSize:p,type:g}=e;return 0===i?null:{type:`${t}.${g}`,start:tA(f),end:tA(s),name:r,data:{size:p,decodedBodySize:n,encodedBodySize:o,duration:i,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:c,loadEventEnd:d,domComplete:s,redirectCount:h}}}};function tR(e){return tO[e.entryType]?tO[e.entryType](e):null}function tA(e){return((O.Z1||B.performance.timeOrigin)+e)/1e3}class tP extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class tM{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){let t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>2e7)throw new tP;this.events.push(e)}finish(){return new Promise(e=>{let t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let e=this.events.map(e=>e.timestamp).sort()[0];return e?tm(e):null}}class tL{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():t()},{once:!0}),this._worker.addEventListener("error",e=>{t(e)},{once:!0})})),this._ensureReadyPromise}destroy(){this._worker.terminate()}postMessage(e,t){let r=this._getAndIncrementId();return new Promise((n,i)=>{let s=({data:t})=>{if(t.method===e&&t.id===r){if(this._worker.removeEventListener("message",s),!t.success){i(Error("Error in compression worker"));return}n(t.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:e,arg:t})})}_getAndIncrementId(){return this._id++}}class t${constructor(e){this._worker=new tL(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){let t=tm(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);let r=JSON.stringify(e);return(this._totalSize+=r.length,this._totalSize>2e7)?Promise.reject(new tP):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){let e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class tN{constructor(e){this._fallback=new tM,this._compression=new t$(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:e,hasCheckout:t}=this._fallback,r=[];for(let t of e)r.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(r)}catch(e){}}}function tj(){try{return"sessionStorage"in B&&!!B.sessionStorage}catch(e){return!1}}function tD(e){return void 0!==e&&Math.random()<e}function tF(e){let t=Date.now(),r=e.id||(0,A.DM)(),n=e.started||t,i=e.lastActivity||t;return{id:r,started:n,lastActivity:i,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function tU(e){if(tj())try{B.sessionStorage.setItem(W,JSON.stringify(e))}catch(e){}}function tB({sessionSampleRate:e,allowBuffering:t,stickySession:r=!1},{previousSessionId:n}={}){let i=tF({sampled:tD(e)?"session":!!t&&"buffer",previousSessionId:n});return r&&tU(i),i}function tW(e,t,r=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=r}function tH(e,{maxReplayDuration:t,sessionIdleExpire:r,targetTime:n=Date.now()}){return tW(e.started,t,n)||tW(e.lastActivity,r,n)}function tq(e,{sessionIdleExpire:t,maxReplayDuration:r}){return!!tH(e,{sessionIdleExpire:t,maxReplayDuration:r})&&("buffer"!==e.sampled||0!==e.segmentId)}function tz({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:r,previousSessionId:n},i){let s=i.stickySession&&function(e){if(!tj())return null;try{let e=B.sessionStorage.getItem(W);if(!e)return null;let t=JSON.parse(e);return tF(t)}catch(e){return null}}(0);return s?tq(s,{sessionIdleExpire:t,maxReplayDuration:r})?tB(i,{previousSessionId:s.id}):s:tB(i,{previousSessionId:n})}function tG(e,t,r){return!!tX(e,t)&&(tJ(e,t,r),!0)}async function tJ(e,t,r){if(!e.eventBuffer)return null;try{r&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),r&&(e.eventBuffer.hasCheckout=!0);let n=e.getOptions(),i=function(e,t){try{if("function"==typeof t&&e.type===ez.Custom)return t(e)}catch(e){return null}return e}(t,n.beforeAddRecordingEvent);if(!i)return;return await e.eventBuffer.addEvent(i)}catch(r){await e.stop({reason:r&&r instanceof tP?"addEventSizeExceeded":"addEvent"});let t=(0,_.s3)();t&&t.recordDroppedEvent("internal_sdk_error","replay")}}function tX(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let r=tm(t.timestamp);return!(r+e.timeouts.sessionIdlePause<Date.now())&&(!(r>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(e.getOptions()._experiments.traceInternals,!1))}function tV(e){return"transaction"===e.type}function tK(e){return"feedback"===e.type}function tY(e){let t=function(){let e=(0,_.s3)();if(!e)return!1;let t=e.getTransport();return!!t&&(t.send.__sentry__baseTransport__||!1)}();return(r,n)=>{if(!e.isEnabled()||r.type&&!tV(r))return;let i=n&&n.statusCode;if(!t||i&&!(i<200)&&!(i>=300)){if(tV(r)){!function(e,t){let r=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&r.traceIds.size<100&&r.traceIds.add(t.contexts.trace.trace_id)}(e,r);return}!function(e,t){let r=e.getContext();if(t.event_id&&r.errorIds.size<100&&r.errorIds.add(t.event_id),"buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:n}=e.getOptions();("function"!=typeof n||n(t))&&setTimeout(()=>{e.sendBufferedReplayOrFlush()})}(e,r)}}}function tZ(e,t){return t.map(({type:t,start:r,end:n,name:i,data:s})=>{let o=e.throttledAddEvent({type:ez.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:t,description:i,startTimestamp:r,endTimestamp:n,data:s}}});return"string"==typeof o?Promise.resolve(null):o})}function tQ(e,t){var r;e.isEnabled()&&null!==t&&(r=t.name,(0,y.W)(r,(0,_.s3)())||e.addUpdate(()=>(tZ(e,[t]),!0)))}function t0(e,t){if(e)try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let r=t9(e);return t.encode(r).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function t1(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function t2(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[t9(e)];if(!e)return[void 0]}catch(e){return[void 0,"BODY_PARSE_ERROR"]}return[void 0,"UNPARSEABLE_BODY_TYPE"]}function t3(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let r={...e._meta},n=r.warnings||[];return r.warnings=[...n,t],e._meta=r,e}function t4(e,t){if(!t)return null;let{startTimestamp:r,endTimestamp:n,url:i,method:s,statusCode:o,request:a,response:l}=t;return{type:e,start:r/1e3,end:n/1e3,name:i,data:(0,C.Jr)({method:s,statusCode:o,request:a,response:l})}}function t5(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function t8(e,t,r){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!r)return{headers:e,size:t};let n={headers:e,size:t},{body:i,warnings:s}=function(e){if(!e||"string"!=typeof e)return{body:e};let t=e.length>15e4,r=function(e){let t=e[0],r=e[e.length-1];return"["===t&&"]"===r||"{"===t&&"}"===r}(e);if(t){let t=e.slice(0,15e4);return r?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(r);return n.body=i,s&&s.length>0&&(n._meta={warnings:s}),n}function t6(e,t){return Object.keys(e).reduce((r,n)=>{let i=n.toLowerCase();return t.includes(i)&&e[n]&&(r[i]=e[n]),r},{})}function t9(e){return new URLSearchParams(e).toString()}function t7(e,t){let r=function(e,t=B.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(B.location.origin))return e;let r=new URL(e,t);if(r.origin!==new URL(t).origin)return e;let n=r.href;return!e.endsWith("/")&&n.endsWith("/")?n.slice(0,-1):n}(e);return(0,M.U0)(r,t)}async function re(e,t,r){try{let n=await rt(e,t,r),i=t4("resource.fetch",n);tQ(r.replay,i)}catch(e){}}async function rt(e,t,r){let n=Date.now(),{startTimestamp:i=n,endTimestamp:s=n}=t,{url:o,method:a,status_code:l=0,request_body_size:u,response_body_size:c}=e.data,d=t7(o,r.networkDetailAllowUrls)&&!t7(o,r.networkDetailDenyUrls);return{startTimestamp:i,endTimestamp:s,url:o,method:a,statusCode:l,request:d?function({networkCaptureBodies:e,networkRequestHeaders:t},r,n){let i=r?1===r.length&&"string"!=typeof r[0]?ro(r[0],t):2===r.length?ro(r[1],t):{}:{};if(!e)return t8(i,n,void 0);let[s,o]=t2(ri(r)),a=t8(i,n,s);return o?t3(a,o):a}(r,t.input,u):t5(u),response:await rr(d,r,t.response,c)}}async function rr(e,{networkCaptureBodies:t,textEncoder:r,networkResponseHeaders:n},i,s){if(!e&&void 0!==s)return t5(s);let o=i?rs(i.headers,n):{};if(!i||!t&&void 0!==s)return t8(o,s,void 0);let[a,l]=await rn(i),u=function(e,{networkCaptureBodies:t,textEncoder:r,responseBodySize:n,captureDetails:i,headers:s}){try{let o=e&&e.length&&void 0===n?t0(e,r):n;if(!i)return t5(o);if(t)return t8(s,o,e);return t8(s,o,void 0)}catch(e){return t8(s,n,void 0)}}(a,{networkCaptureBodies:t,textEncoder:r,responseBodySize:s,captureDetails:e,headers:o});return l?t3(u,l):u}async function rn(e){let t=function(e){try{return e.clone()}catch(e){}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await new Promise((e,r)=>{let n=setTimeout(()=>r(Error("Timeout while trying to read response body")),500);ra(t).then(t=>e(t),e=>r(e)).finally(()=>clearTimeout(n))})]}catch(e){return[void 0,"BODY_PARSE_ERROR"]}}function ri(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function rs(e,t){let r={};return t.forEach(t=>{e.get(t)&&(r[t]=e.get(t))}),r}function ro(e,t){if(!e)return{};let r=e.headers;return r?r instanceof Headers?rs(r,t):Array.isArray(r)?{}:t6(r,t):{}}async function ra(e){return await e.text()}async function rl(e,t,r){try{let n=function(e,t,r){let n=Date.now(),{startTimestamp:i=n,endTimestamp:s=n,input:o,xhr:a}=t,{url:l,method:u,status_code:c=0,request_body_size:d,response_body_size:h}=e.data;if(!l)return null;if(!a||!t7(l,r.networkDetailAllowUrls)||t7(l,r.networkDetailDenyUrls)){let e=t5(d);return{startTimestamp:i,endTimestamp:s,url:l,method:u,statusCode:c,request:e,response:t5(h)}}let f=a[P.xU],p=f?t6(f.request_headers,r.networkRequestHeaders):{},g=t6(function(e){let t=e.getAllResponseHeaders();return t?t.split("\r\n").reduce((e,t)=>{let[r,n]=t.split(": ");return e[r.toLowerCase()]=n,e},{}):{}}(a),r.networkResponseHeaders),[m,v]=r.networkCaptureBodies?t2(o):[void 0],[_,y]=r.networkCaptureBodies?function(e){let t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(e){return[void 0,"BODY_PARSE_ERROR"]}return[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return[void 0]}(a):[void 0],b=t8(p,d,m),w=t8(g,h,_);return{startTimestamp:i,endTimestamp:s,url:l,method:u,statusCode:c,request:v?t3(b,v):b,response:y?t3(w,y):w}}(e,t,r),i=t4("resource.xhr",n);tQ(r.replay,i)}catch(e){}}let ru=null,rc=e=>t=>{if(!e.isEnabled())return;let r=function(e){let t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return ru!==t&&t?(ru=t,!t.category||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:"console"===t.category?function(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return tx(e);let r=!1,n=t.map(e=>{if(!e)return e;if("string"==typeof e)return e.length>5e3?(r=!0,`${e.slice(0,5e3)}`):e;if("object"==typeof e)try{let t=(0,T.Fv)(e,7);if(JSON.stringify(t).length>5e3)return r=!0,`${JSON.stringify(t,null,2).slice(0,5e3)}`;return t}catch(e){}return e});return tx({...e,data:{...e.data,arguments:n,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t):tx(t):null}(t);r&&t_(e,r)};async function rd(e){try{return Promise.all(tZ(e,[function(e){let{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}}}}(B.performance.memory)]))}catch(e){return[]}}async function rh({client:e,scope:t,replayId:r,event:n}){let i={event_id:r,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit&&e.emit("preprocessEvent",n,i);let s=await (0,w.R)(e.getOptions(),n,i,t,e,(0,S.aF)());if(!s)return null;s.platform=s.platform||"javascript";let o=e.getSdkMetadata&&e.getSdkMetadata(),{name:a,version:l}=o&&o.sdk||{};return s.sdk={...s.sdk,name:a||"sentry.javascript.unknown",version:l||"0.0.0"},s}async function rf({recordingData:e,replayId:t,segmentId:r,eventContext:n,timestamp:i,session:s}){var o;let a;let l=function({recordingData:e,headers:t}){let r;let n=`${JSON.stringify(t)}
`;if("string"==typeof e)r=`${n}${e}`;else{let t=new TextEncoder().encode(n);(r=new Uint8Array(t.length+e.length)).set(t),r.set(e,t.length)}return r}({recordingData:e,headers:{segment_id:r}}),{urls:u,errorIds:c,traceIds:d,initialTimestamp:h}=n,f=(0,_.s3)(),p=(0,_.nZ)(),g=f&&f.getTransport(),m=f&&f.getDsn();if(!f||!g||!m||!s.sampled)return;let v={type:"replay_event",replay_start_timestamp:h/1e3,timestamp:i/1e3,error_ids:c,trace_ids:d,urls:u,replay_id:t,segment_id:r,replay_type:s.sampled},y=await rh({scope:p,client:f,replayId:t,event:v});if(!y){f.recordDroppedEvent("event_processor","replay",v);return}delete y.sdkProcessingMetadata;let b=(o=f.getOptions().tunnel,(0,j.Jd)((0,j.Cd)(y,(0,j.HY)(y),o,m),[[{type:"replay_event"},y],[{type:"replay_recording",length:"string"==typeof l?new TextEncoder().encode(l).length:l.length},l]]));try{a=await g.send(b)}catch(t){let e=Error(H);try{e.cause=t}catch(e){}throw e}if(!a)return a;if("number"==typeof a.statusCode&&(a.statusCode<200||a.statusCode>=300))throw new rp(a.statusCode);let w=(0,D.WG)({},a);if((0,D.Q)(w,"replay"))throw new rg(w);return a}class rp extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class rg extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function rm(e,t={count:0,interval:5e3}){let{recordingData:r,options:n}=e;if(r.length)try{return await rf(e),!0}catch(r){if(r instanceof rp||r instanceof rg)throw r;if((0,_.v)("Replays",{_retryCount:t.count}),t.count>=3){let e=Error(`${H} - max retries exceeded`);try{e.cause=r}catch(e){}throw e}return t.interval*=++t.count,new Promise((r,n)=>{setTimeout(async()=>{try{await rm(e,t),r(!0)}catch(e){n(e)}},t.interval)})}}let rv="__THROTTLED";class r_{constructor({options:e,recordingOptions:t}){r_.prototype.__init.call(this),r_.prototype.__init2.call(this),r_.prototype.__init3.call(this),r_.prototype.__init4.call(this),r_.prototype.__init5.call(this),r_.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,r){let n,i,s;let o=r&&r.maxWait?Math.max(r.maxWait,t):0;function a(){return l(),n=e()}function l(){void 0!==i&&clearTimeout(i),void 0!==s&&clearTimeout(s),i=s=void 0}function u(){return i&&clearTimeout(i),i=setTimeout(a,t),o&&void 0===s&&(s=setTimeout(a,o)),n}return u.cancel=l,u.flush=function(){return void 0!==i||void 0!==s?a():n},u}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function(e,t,r){let n=new Map,i=e=>{let t=e-5;n.forEach((e,r)=>{r<t&&n.delete(r)})},s=()=>[...n.values()].reduce((e,t)=>e+t,0),o=!1;return(...t)=>{let r=Math.floor(Date.now()/1e3);if(i(r),s()>=300){let e=o;return o=!0,e?"__SKIPPED":rv}o=!1;let a=n.get(r)||0;return n.set(r,a+1),e(...t)}}((e,t)=>tX(this,e)?tJ(this,e,t):Promise.resolve(null),0,0);let{slowClickTimeout:r,slowClickIgnoreSelectors:n}=this.getOptions(),i=r?{threshold:Math.min(3e3,r),timeout:r,scrollTimeout:300,ignoreSelector:n?n.join(","):""}:void 0;i&&(this.clickDetector=new tS(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(e){let{errorSampleRate:t,sessionSampleRate:r}=this._options;if(!(t<=0)||!(r<=0)){if(this._initializeSessionForSampling(e),!this.session){this._handleException(Error("Unable to initialize and create session"));return}!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",this.recordingMode,this._options._experiments.traceInternals,this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode)throw Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw Error("Replay buffering is in progress, call `flush()` to save the replay");this._options._experiments.traceInternals;let e=tz({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw Error("Replay recording is already in progress");this._options._experiments.traceInternals;let e=tz({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{var e;let t;let r=this._canvas;this._stopRecording=tg({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:(e=this,t=!1,(r,n)=>{if(!e.checkAndHandleExpiredSession())return;let i=n||!t;t=!0,e.clickDetector&&function(e,t){try{if(3!==t.type)return;let{source:r}=t.data;if(r===eG.Mutation&&e.registerMutation(t.timestamp),r===eG.Scroll&&e.registerScroll(t.timestamp),t.data.source===eG.MouseInteraction){let{type:r,id:n}=t.data,i=tg.mirror.getNode(n);i instanceof HTMLElement&&r===eJ.Click&&e.registerClick(i)}}catch(e){}}(e.clickDetector,r),e.addUpdate(()=>{if("buffer"===e.recordingMode&&i&&e.setInitialState(),!tG(e,r,i))return!0;if(!i)return!1;if(i&&e.session&&0===e.session.segmentId&&tG(e,function(e){let t=e.getOptions();return{type:ez.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){let t=e.eventBuffer.getEarliestTimestamp();t&&(e.getOptions()._experiments.traceInternals,e.session.started=t,e.getOptions().stickySession&&tU(e.session))}return"session"===e.recordingMode&&e.flush(),!0})}),onMutation:this._onMutationHandler,...r?{recordCanvas:r.recordCanvas,getCanvasManager:r.getCanvasManager,sampling:r.sampling,dataURLOptions:r.dataURLOptions}:{}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{this._options._experiments.traceInternals,this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,function(){if(tj())try{B.sessionStorage.removeItem(W)}catch(e){}}(),this.session=void 0}catch(e){this._handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),this._options._experiments.traceInternals)}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),this._options._experiments.traceInternals)}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();let t=Date.now();this._options._experiments.traceInternals,await this.flushImmediate();let r=this.stopRecording();e&&r&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){let t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&tW(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled){this.pause();return}return!!this._checkSession()}setInitialState(){let e=`${B.location.pathname}${B.location.hash}${B.location.search}`,t=`${B.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){let r=this._throttledAddEvent(e,t);if(r===rv){let e=tx({category:"replay.throttled"});this.addUpdate(()=>!tG(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}}))}return r}getCurrentRoute(){let e=this.lastTransaction||(0,_.nZ)().getTransaction(),t=(e&&(0,k.XU)(e).data||{})[E.Zj];if(e&&t&&["route","custom"].includes(t))return(0,k.XU)(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function({useCompression:e,workerUrl:t}){if(e&&window.Worker){let e=function(e){try{let t=e||("undefined"!=typeof __SENTRY_EXCLUDE_REPLAY_WORKER__&&__SENTRY_EXCLUDE_REPLAY_WORKER__?"":function(){let e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}());if(!t)return;let r=new Worker(t);return new tN(r)}catch(e){}}(t);if(e)return e}return new tM}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){}_initializeSessionForSampling(e){let t=this._options.errorSampleRate>0,r=tz({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=r}_checkSession(){if(!this.session)return!1;let e=this.session;return!tq(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{B.document.addEventListener("visibilitychange",this._handleVisibilityChange),B.addEventListener("blur",this._handleWindowBlur),B.addEventListener("focus",this._handleWindowFocus),B.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(function(e){let t=(0,_.nZ)(),r=(0,_.s3)();t.addScopeListener(rc(e)),(0,$.O)(tC(e)),(0,N.a)(t=>{if(!e.isEnabled())return;let r=function(e){let{from:t,to:r}=e,n=Date.now()/1e3;return{type:"navigation.push",start:n,end:n,name:r,data:{previous:t}}}(t);null!==r&&(e.getContext().urls.push(r.name),e.triggerUserActivity(),e.addUpdate(()=>(tZ(e,[r]),!1)))}),function(e){let t=(0,_.s3)();try{let r=new TextEncoder,{networkDetailAllowUrls:n,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),l={replay:e,textEncoder:r,networkDetailAllowUrls:n,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(e,t)=>(function(e,t,r){if(t.data)try{var n,i;"xhr"===t.category&&(n=r)&&n.xhr&&(function(e,t,r){let{xhr:n,input:i}=t;if(!n)return;let s=t0(i,r.textEncoder),o=n.getResponseHeader("content-length")?t1(n.getResponseHeader("content-length")):function(e,t,r){try{let n="json"===t&&e&&"object"==typeof e?JSON.stringify(e):e;return t0(n,r)}catch(e){return}}(n.response,n.responseType,r.textEncoder);void 0!==s&&(e.data.request_body_size=s),void 0!==o&&(e.data.response_body_size=o)}(t,r,e),rl(t,r,e)),"fetch"===t.category&&(i=r)&&i.response&&(function(e,t,r){let{input:n,response:i}=t,s=t0(n?ri(n):void 0,r.textEncoder),o=i?t1(i.headers.get("content-length")):void 0;void 0!==s&&(e.data.request_body_size=s),void 0!==o&&(e.data.response_body_size=o)}(t,r,e),re(t,r,e))}catch(e){}})(l,e,t)):((0,L.U)(t=>{e.isEnabled()&&tQ(e,function(e){let{startTimestamp:t,endTimestamp:r,fetchData:n,response:i}=e;if(!r)return null;let{method:s,url:o}=n;return{type:"resource.fetch",start:t/1e3,end:r/1e3,name:o,data:{method:s,statusCode:i?i.status:void 0}}}(t))}),(0,P.UK)(t=>{e.isEnabled()&&tQ(e,function(e){let{startTimestamp:t,endTimestamp:r,xhr:n}=e,i=n[P.xU];if(!t||!r||!i)return null;let{method:s,url:o,status_code:a}=i;return void 0===o?null:{type:"resource.xhr",name:o,start:t/1e3,end:r/1e3,data:{method:s,statusCode:a}}}(t))}))}catch(e){}}(e);let n=function(e,t=!1){let r=t?tY(e):void 0;return Object.assign((t,n)=>e.isEnabled()?"replay_event"===t.type?(delete t.breadcrumbs,t):(!t.type||tV(t)||tK(t))&&e.checkAndHandleExpiredSession()?tK(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),e.triggerUserActivity(),e.addUpdate(()=>!t.timestamp||(e.throttledAddEvent({type:ez.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)),t):!t.type&&t.exception&&t.exception.values&&t.exception.values.length&&n.originalException&&n.originalException.__rrweb__&&!e.getOptions()._experiments.captureExceptions?null:(("buffer"===e.recordingMode&&t.message!==H&&t.exception&&!t.type&&tD(e.getOptions().errorSampleRate)||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),r&&r(t,{statusCode:200}),t):t:t,{id:"Replay"})}(e,!(r&&r.on));r&&r.addEventProcessor?r.addEventProcessor(n):(0,b.Q)(n),r&&r.on&&(r.on("beforeSendEvent",t=>{e.isEnabled()&&!t.type&&function(e,t){let r=t.exception&&t.exception.values&&t.exception.values[0].value;"string"==typeof r&&(r.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&t_(e,tx({category:"replay.hydrate-error"}))}(e,t)}),r.on("afterSendEvent",tY(e)),r.on("createDsc",t=>{let r=e.getSessionId();r&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=r)}),r.on("startTransaction",t=>{e.lastTransaction=t}),r.on("finishTransaction",t=>{e.lastTransaction=t}),r.on("beforeSendFeedback",(t,r)=>{let n=e.getSessionId();r&&r.includeReplay&&e.isEnabled()&&n&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=n)}))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function r({entries:e}){e.forEach(t)}let n=[];return["navigation","paint","resource"].forEach(e=>{n.push((0,U._j)(e,r))}),n.push((0,U.$A)(({metric:t})=>{e.replayPerformanceEntries.push(function(e){let t=e.entries,r=t[t.length-1],n=r?r.element:void 0,i=e.value,s=tA(i);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:s,end:s,data:{value:i,size:i,nodeId:n?tg.mirror.getId(n):void 0}}}(t))})),()=>{n.forEach(e=>e())}}(this)}_removeListeners(){try{B.document.removeEventListener("visibilitychange",this._handleVisibilityChange),B.removeEventListener("blur",this._handleWindowBlur),B.removeEventListener("focus",this._handleWindowFocus),B.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===B.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let e=tx({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{let e=tx({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{!function(e,t){if(!e.isEnabled())return;e.updateUserActivity();let r=function(e){var t;let{metaKey:r,shiftKey:n,ctrlKey:i,altKey:s,key:o,target:a}=e;if(!a||"INPUT"===(t=a).tagName||"TEXTAREA"===t.tagName||t.isContentEditable||!o)return null;let l=r||i||s,u=1===o.length;if(!l&&u)return null;let c=(0,I.Rt)(a,{maxStringLength:200})||"<unknown>",d=tI(a,c);return tx({category:"ui.keyDown",message:c,data:{...d.data,metaKey:r,shiftKey:n,ctrlKey:i,altKey:s,key:o}})}(t);r&&t_(e,r)}(this,e)}}_doChangeToBackgroundTasks(e){!this.session||tH(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){this.session&&this.checkAndHandleExpiredSession()&&e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:ez.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=this.performanceEntries.map(tR).filter(Boolean).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(tZ(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:e,eventBuffer:t}=this;if(!e||!t||e.segmentId)return;let r=t.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){let e=this.getSessionId();if(this.session&&this.eventBuffer&&e&&(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents)&&(await rd(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw Error("Session is too long, not sending replay");let r=this._popEventContext(),n=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await rm({replayId:e,recordingData:i,segmentId:n,eventContext:r,session:this.session,options:this.getOptions(),timestamp:t})}catch(t){this._handleException(t),this.stop({reason:"sendReplay"});let e=(0,_.s3)();e&&e.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e||!this.checkAndHandleExpiredSession()||!this.session)return;let t=this.session.started,r=Date.now()-t;this._debouncedFlush.cancel();let n=r<this._options.minReplayDuration,i=r>this._options.maxReplayDuration+5e3;if(n||i){this._options._experiments.traceInternals,n&&this._debouncedFlush();return}let s=this.eventBuffer;if(s&&0===this.session.segmentId&&!s.hasCheckout&&this._options._experiments.traceInternals,!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(e){}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&tU(this.session)}__init6(){this._onMutationHandler=e=>{let t=e.length,r=this._options.mutationLimit,n=this._options.mutationBreadcrumbLimit,i=r&&t>r;if(t>n||i){let e=tx({category:"replay.mutations",data:{count:t,limit:i}});this._createCustomBreadcrumb(e)}return!i||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function ry(e,t,r,n){let i=[...e,..."string"==typeof n?n.split(","):[],...t];return void 0!==r&&("string"==typeof r&&i.push(`.${r}`),(0,R.Cf)(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}let rb='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',rw=["content-length","content-type","accept"],rS=!1,rk=e=>new rE(e);class rE{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:r=4999,maxReplayDuration:n=36e5,stickySession:i=!0,useCompression:s=!0,workerUrl:o,_experiments:a={},sessionSampleRate:l,errorSampleRate:u,maskAllText:c=!0,maskAllInputs:d=!0,blockAllMedia:h=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:g=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:v=[],networkDetailDenyUrls:_=[],networkCaptureBodies:y=!0,networkRequestHeaders:b=[],networkResponseHeaders:w=[],mask:S=[],maskAttributes:k=["title","placeholder"],unmask:E=[],block:x=[],unblock:T=[],ignore:C=[],maskFn:I,beforeAddRecordingEvent:O,beforeErrorSampling:R,blockClass:A,blockSelector:P,maskInputOptions:M,maskTextClass:L,maskTextSelector:$,ignoreClass:N}={}){this.name=rE.id;let j=function({mask:e,unmask:t,block:r,unblock:n,ignore:i,blockClass:s,blockSelector:o,maskTextClass:a,maskTextSelector:l,ignoreClass:u}){let c={maskTextSelector:ry(e,[".sentry-mask","[data-sentry-mask]"],a,l),unmaskTextSelector:ry(t,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:ry(r,[".sentry-block","[data-sentry-block]",'base[href="/"]'],s,o),unblockSelector:ry(n,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:ry(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return s instanceof RegExp&&(c.blockClass=s),a instanceof RegExp&&(c.maskTextClass=a),c}({mask:S,unmask:E,block:x,unblock:T,ignore:C,blockClass:A,blockSelector:P,maskTextClass:L,maskTextSelector:$,ignoreClass:N});if(this._recordingOptions={maskAllInputs:d,maskAllText:c,maskInputOptions:{...M||{},password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(e,t,r)=>(function({el:e,key:t,maskAttributes:r,maskAllText:n,privacyOptions:i,value:s}){return!n||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:r.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s})({maskAttributes:k,maskAllText:c,privacyOptions:j,key:e,value:t,el:r}),...j,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(r,15e3),maxReplayDuration:Math.min(n,36e5),stickySession:i,sessionSampleRate:l,errorSampleRate:u,useCompression:s,workerUrl:o,blockAllMedia:h,maskAllInputs:d,maskAllText:c,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:g,slowClickIgnoreSelectors:m,networkDetailAllowUrls:v,networkDetailDenyUrls:_,networkCaptureBodies:y,networkRequestHeaders:rx(b),networkResponseHeaders:rx(w),beforeAddRecordingEvent:O,beforeErrorSampling:R,_experiments:a},"number"==typeof l&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${l} })`),this._initialOptions.sessionSampleRate=l),"number"==typeof u&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${u} })`),this._initialOptions.errorSampleRate=u),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${rb}`:rb),this._isInitialized&&(0,F.j)())throw Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return rS}set _isInitialized(e){rS=e}setupOnce(){(0,F.j)()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){let e=function(e){let t=(0,_.s3)(),r=t&&t.getOptions(),n={sessionSampleRate:0,errorSampleRate:0,...(0,C.Jr)(e)};return r?(null==e.sessionSampleRate&&null==e.errorSampleRate&&null==r.replaysSessionSampleRate&&null==r.replaysOnErrorSampleRate&&(0,R.Cf)(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),"number"==typeof r.replaysSessionSampleRate&&(n.sessionSampleRate=r.replaysSessionSampleRate),"number"==typeof r.replaysOnErrorSampleRate&&(n.errorSampleRate=r.replaysOnErrorSampleRate)):(0,R.Cf)(()=>{console.warn("SDK client is not available.")}),n}(this._initialOptions);this._replay=new r_({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{let e=(0,_.s3)().getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(e){}}}function rx(e){return[...rw,...e.map(e=>e.toLowerCase())]}function rT(){let e=(0,_.s3)();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")}rE.__initStatic()},11073:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(69764),i=r(37739);function s(e,t,r=250,s,l,u,c){if(!u.exception||!u.exception.values||!c||!(0,n.V9)(c.originalException,Error))return;let d=u.exception.values.length>0?u.exception.values[u.exception.values.length-1]:void 0;d&&(u.exception.values=(function e(t,r,i,s,l,u,c,d){if(u.length>=i+1)return u;let h=[...u];if((0,n.V9)(s[l],Error)){o(c,d);let n=t(r,s[l]),u=h.length;a(n,l,u,d),h=e(t,r,i,s[l],l,[n,...h],n,u)}return Array.isArray(s.errors)&&s.errors.forEach((s,u)=>{if((0,n.V9)(s,Error)){o(c,d);let n=t(r,s),f=h.length;a(n,`errors[${u}]`,f,d),h=e(t,r,i,s,l,[n,...h],n,f)}}),h})(e,t,l,c.originalException,s,u.exception.values,d,0).map(e=>(e.value&&(e.value=(0,i.$G)(e.value,r)),e)))}function o(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function a(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}},1808:function(e,t,r){"use strict";r.d(t,{EN:function(){return u},IQ:function(){return c},bU:function(){return o}});var n=r(15233),i=r(69764),s=r(90289);let o="baggage",a="sentry-",l=/^sentry-/;function u(e){if(!(0,i.HD)(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((e,t)=>{let r=d(t);for(let t of Object.keys(r))e[t]=r[t];return e},{});else{if(!e)return;t=d(e)}let r=Object.entries(t).reduce((e,[t,r])=>(t.match(l)&&(e[t.slice(a.length)]=r),e),{});return Object.keys(r).length>0?r:void 0}function c(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce((e,[t,r],i)=>{let o=`${encodeURIComponent(t)}=${encodeURIComponent(r)}`,a=0===i?o:`${e},${o}`;return a.length>8192?(n.X&&s.kg.warn(`Not adding key: ${t} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):a},"")}(Object.entries(e).reduce((e,[t,r])=>(r&&(e[`${a}${t}`]=r),e),{}))}function d(e){return e.split(",").map(e=>e.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((e,[t,r])=>(e[t]=r,e),{})}},40154:function(e,t,r){"use strict";r.d(t,{Rt:function(){return s},iY:function(){return l},l4:function(){return o},qT:function(){return a}});var n=r(69764);let i=(0,r(1925).R)();function s(e,t={}){if(!e)return"<unknown>";try{let r,s=e,o=[],a=0,l=0,u=Array.isArray(t)?t:t.keyAttrs,c=!Array.isArray(t)&&t.maxStringLength||80;for(;s&&a++<5&&(r=function(e,t){let r,s,o,a,l;let u=[];if(!e||!e.tagName)return"";if(i.HTMLElement&&e instanceof HTMLElement&&e.dataset&&e.dataset.sentryComponent)return e.dataset.sentryComponent;u.push(e.tagName.toLowerCase());let c=t&&t.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(c&&c.length)c.forEach(e=>{u.push(`[${e[0]}="${e[1]}"]`)});else if(e.id&&u.push(`#${e.id}`),(r=e.className)&&(0,n.HD)(r))for(l=0,s=r.split(/\s+/);l<s.length;l++)u.push(`.${s[l]}`);let d=["aria-label","type","name","title","alt"];for(l=0;l<d.length;l++)o=d[l],(a=e.getAttribute(o))&&u.push(`[${o}="${a}"]`);return u.join("")}(s,u),"html"!==r&&(!(a>1)||!(l+3*o.length+r.length>=c)));)o.push(r),l+=r.length,s=s.parentNode;return o.reverse().join(" > ")}catch(e){return"<unknown>"}}function o(){try{return i.document.location.href}catch(e){return""}}function a(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null}function l(e){if(!i.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}},47654:function(e,t,r){"use strict";function n(e){let t;let r=e[0],n=1;for(;n<e.length;){let i=e[n],s=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=s(r)):("call"===i||"optionalCall"===i)&&(r=s((...e)=>r.call(t,...e)),t=void 0)}return r}r.d(t,{x:function(){return n}})},15233:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});let n=!1},74585:function(e,t,r){"use strict";r.d(t,{RA:function(){return o},U4:function(){return a},vK:function(){return u}});var n=r(15233),i=r(90289);let s=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function o(e,t=!1){let{host:r,path:n,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n?`${n}/`:n}${o}`}function a(e){let t=s.exec(e);if(!t){(0,i.Cf)(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[r,n,o="",a,u="",c]=t.slice(1),d="",h=c,f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){let e=h.match(/^\d+/);e&&(h=e[0])}return l({host:a,pass:o,path:d,projectId:h,port:u,protocol:r,publicKey:n})}function l(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function u(e){let t="string"==typeof e?a(e):l(e);if(t&&function(e){if(!n.X)return!0;let{port:t,projectId:r,protocol:s}=e;return!["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(i.kg.error(`Invalid Sentry Dsn: ${t} missing`),!0))&&(r.match(/^\d+$/)?"http"===s||"https"===s?!(t&&isNaN(parseInt(t,10)))||(i.kg.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(i.kg.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),!1):(i.kg.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1))}(t))return t}},81998:function(e,t,r){"use strict";function n(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}r.d(t,{S:function(){return i},n:function(){return n}})},5238:function(e,t,r){"use strict";r.d(t,{BO:function(){return a},Cd:function(){return v},HY:function(){return m},Jd:function(){return o},R:function(){return u},V$:function(){return d},f4:function(){return h},gv:function(){return l},mL:function(){return g},zQ:function(){return f}});var n=r(74585),i=r(33567),s=r(45795);function o(e,t=[]){return[e,t]}function a(e,t){let[r,n]=e;return[r,[...n,t]]}function l(e,t){for(let r of e[1]){let e=r[0].type;if(t(r,e))return!0}return!1}function u(e,t){return l(e,(e,r)=>t.includes(r))}function c(e,t){return(t||new TextEncoder).encode(e)}function d(e,t){let[r,n]=e,s=JSON.stringify(r);function o(e){"string"==typeof s?s="string"==typeof e?s+e:[c(s,t),e]:s.push("string"==typeof e?c(e,t):e)}for(let e of n){let[t,r]=e;if(o(`
${JSON.stringify(t)}
`),"string"==typeof r||r instanceof Uint8Array)o(r);else{let e;try{e=JSON.stringify(r)}catch(t){e=JSON.stringify((0,i.Fv)(r))}o(e)}}return"string"==typeof s?s:function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}(s)}function h(e,t,r){let n="string"==typeof e?t.encode(e):e;function i(e){let t=n.subarray(0,e);return n=n.subarray(e+1),t}function s(){let e=n.indexOf(10);return e<0&&(e=n.length),JSON.parse(r.decode(i(e)))}let o=s(),a=[];for(;n.length;){let e=s(),t="number"==typeof e.length?e.length:void 0;a.push([e,t?i(t):s()])}return[o,a]}function f(e,t){let r="string"==typeof e.data?c(e.data,t):e.data;return[(0,s.Jr)({type:"attachment",length:r.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),r]}let p={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function g(e){return p[e]}function m(e){if(!e||!e.sdk)return;let{name:t,version:r}=e.sdk;return{name:t,version:r}}function v(e,t,r,i){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&i&&{dsn:(0,n.RA)(i)},...o&&{trace:(0,s.Jr)({...o})}}}},38622:function(e,t,r){"use strict";r.d(t,{b:function(){return n}});class n extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}},14686:function(e,t,r){"use strict";r.d(t,{D2:function(){return u},Hj:function(){return l},rK:function(){return c}});var n=r(15233),i=r(90289),s=r(67620);let o={},a={};function l(e,t){o[e]=o[e]||[],o[e].push(t)}function u(e,t){a[e]||(t(),a[e]=!0)}function c(e,t){let r=e&&o[e];if(r)for(let o of r)try{o(t)}catch(t){n.X&&i.kg.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,s.$P)(o)}
Error:`,t)}}},46868:function(e,t,r){"use strict";r.d(t,{e:function(){return a}});var n=r(90289),i=r(45795),s=r(1925),o=r(14686);function a(e){let t="console";(0,o.Hj)(t,e),(0,o.D2)(t,l)}function l(){"console"in s.GLOBAL_OBJ&&n.RU.forEach(function(e){e in s.GLOBAL_OBJ.console&&(0,i.hl)(s.GLOBAL_OBJ.console,e,function(t){return n.LD[e]=t,function(...t){(0,o.rK)("console",{args:t,level:e});let r=n.LD[e];r&&r.apply(s.GLOBAL_OBJ.console,t)}})})}},5871:function(e,t,r){"use strict";let n,i,s;r.d(t,{O:function(){return d}});var o=r(13476),a=r(45795),l=r(1925),u=r(14686);let c=l.GLOBAL_OBJ;function d(e){(0,u.Hj)("dom",e),(0,u.D2)("dom",h)}function h(){if(!c.document)return;let e=u.rK.bind(null,"dom"),t=f(e,!0);c.document.addEventListener("click",t,!1),c.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let r=c[t]&&c[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&((0,a.hl)(r,"addEventListener",function(t){return function(r,n,i){if("click"===r||"keypress"==r)try{let n=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=n[r]=n[r]||{refCount:0};if(!s.handler){let n=f(e);s.handler=n,t.call(this,r,n,i)}s.refCount++}catch(e){}return t.call(this,r,n,i)}}),(0,a.hl)(r,"removeEventListener",function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{let r=this.__sentry_instrumentation_handlers__||{},i=r[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,n),i.handler=void 0,delete r[t]),0===Object.keys(r).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,r,n)}}))})}function f(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;let l=function(e){try{return e.target}catch(e){return null}}(r);if("keypress"===r.type&&(!l||!l.tagName||"INPUT"!==l.tagName&&"TEXTAREA"!==l.tagName&&!l.isContentEditable))return;(0,a.xp)(r,"_sentryCaptured",!0),l&&!l._sentryId&&(0,a.xp)(l,"_sentryId",(0,o.DM)());let u="keypress"===r.type?"input":r.type;!function(e){if(e.type!==i)return!1;try{if(!e.target||e.target._sentryId!==s)return!1}catch(e){}return!0}(r)&&(e({event:r,name:u,global:t}),i=r.type,s=l?l._sentryId:void 0),clearTimeout(n),n=c.setTimeout(()=>{s=void 0,i=void 0},1e3)}}},20030:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var n=r(45795),i=r(19588),s=r(1925),o=r(14686);function a(e){let t="fetch";(0,o.Hj)(t,e),(0,o.D2)(t,l)}function l(){(0,i.t$)()&&(0,n.hl)(s.GLOBAL_OBJ,"fetch",function(e){return function(...t){let{method:r,url:n}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,r]=e;return{url:c(t),method:u(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:c(t),method:u(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:r,url:n},startTimestamp:Date.now()};return(0,o.rK)("fetch",{...i}),e.apply(s.GLOBAL_OBJ,t).then(e=>{let t={...i,endTimestamp:Date.now(),response:e};return(0,o.rK)("fetch",t),e},e=>{let t={...i,endTimestamp:Date.now(),error:e};throw(0,o.rK)("fetch",t),e})}})}function u(e,t){return!!e&&"object"==typeof e&&!!e[t]}function c(e){return"string"==typeof e?e:e?u(e,"url")?e.url:e.toString?e.toString():"":""}},14242:function(e,t,r){"use strict";r.d(t,{V:function(){return o}});var n=r(1925),i=r(14686);let s=null;function o(e){let t="error";(0,i.Hj)(t,e),(0,i.D2)(t,a)}function a(){s=n.GLOBAL_OBJ.onerror,n.GLOBAL_OBJ.onerror=function(e,t,r,n,o){return(0,i.rK)("error",{column:n,error:o,line:r,msg:e,url:t}),!!s&&!s.__SENTRY_LOADER__&&s.apply(this,arguments)},n.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}},58586:function(e,t,r){"use strict";r.d(t,{h:function(){return o}});var n=r(1925),i=r(14686);let s=null;function o(e){let t="unhandledrejection";(0,i.Hj)(t,e),(0,i.D2)(t,a)}function a(){s=n.GLOBAL_OBJ.onunhandledrejection,n.GLOBAL_OBJ.onunhandledrejection=function(e){return(0,i.rK)("unhandledrejection",e),!s||!!s.__SENTRY_LOADER__||s.apply(this,arguments)},n.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}},51314:function(e,t,r){"use strict";let n;r.d(t,{a:function(){return u}});var i=r(45795),s=r(1925);let o=(0,s.R)();var a=r(14686);let l=s.GLOBAL_OBJ;function u(e){let t="history";(0,a.Hj)(t,e),(0,a.D2)(t,c)}function c(){if(!function(){let e=o.chrome,t=e&&e.app&&e.app.runtime,r="history"in o&&!!o.history.pushState&&!!o.history.replaceState;return!t&&r}())return;let e=l.onpopstate;function t(e){return function(...t){let r=t.length>2?t[2]:void 0;if(r){let e=n,t=String(r);n=t,(0,a.rK)("history",{from:e,to:t})}return e.apply(this,t)}}l.onpopstate=function(...t){let r=l.location.href,i=n;if(n=r,(0,a.rK)("history",{from:i,to:r}),e)try{return e.apply(this,t)}catch(e){}},(0,i.hl)(l.history,"pushState",t),(0,i.hl)(l.history,"replaceState",t)}},58215:function(e,t,r){"use strict";r.d(t,{UK:function(){return u},xU:function(){return l}});var n=r(69764),i=r(45795),s=r(1925),o=r(14686);let a=s.GLOBAL_OBJ,l="__sentry_xhr_v3__";function u(e){(0,o.Hj)("xhr",e),(0,o.D2)("xhr",c)}function c(){if(!a.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;(0,i.hl)(e,"open",function(e){return function(...t){let r=Date.now(),s=(0,n.HD)(t[0])?t[0].toUpperCase():void 0,a=function(e){if((0,n.HD)(e))return e;try{return e.toString()}catch(e){}}(t[1]);if(!s||!a)return e.apply(this,t);this[l]={method:s,url:a,request_headers:{}},"POST"===s&&a.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let u=()=>{let e=this[l];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}let t={args:[s,a],endTimestamp:Date.now(),startTimestamp:r,xhr:this};(0,o.rK)("xhr",t)}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,i.hl)(this,"onreadystatechange",function(e){return function(...t){return u(),e.apply(this,t)}}):this.addEventListener("readystatechange",u),(0,i.hl)(this,"setRequestHeader",function(e){return function(...t){let[r,i]=t,s=this[l];return s&&(0,n.HD)(r)&&(0,n.HD)(i)&&(s.request_headers[r.toLowerCase()]=i),e.apply(this,t)}}),e.apply(this,t)}}),(0,i.hl)(e,"send",function(e){return function(...t){let r=this[l];if(!r)return e.apply(this,t);void 0!==t[0]&&(r.body=t[0]);let n={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return(0,o.rK)("xhr",n),e.apply(this,t)}})}},69764:function(e,t,r){"use strict";r.d(t,{Cy:function(){return v},HD:function(){return u},J8:function(){return m},Kj:function(){return g},Le:function(){return c},PO:function(){return h},TX:function(){return a},V9:function(){return y},VW:function(){return o},VZ:function(){return i},cO:function(){return f},fm:function(){return l},i2:function(){return _},kK:function(){return p},pt:function(){return d},y1:function(){return b}});let n=Object.prototype.toString;function i(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function s(e,t){return n.call(e)===`[object ${t}]`}function o(e){return s(e,"ErrorEvent")}function a(e){return s(e,"DOMError")}function l(e){return s(e,"DOMException")}function u(e){return s(e,"String")}function c(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function d(e){return null===e||c(e)||"object"!=typeof e&&"function"!=typeof e}function h(e){return s(e,"Object")}function f(e){return"undefined"!=typeof Event&&y(e,Event)}function p(e){return"undefined"!=typeof Element&&y(e,Element)}function g(e){return s(e,"RegExp")}function m(e){return!!(e&&e.then&&"function"==typeof e.then)}function v(e){return h(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function _(e){return"number"==typeof e&&e!=e}function y(e,t){try{return e instanceof t}catch(e){return!1}}function b(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}},6388:function(e,t,r){"use strict";r.d(t,{j:function(){return s}});var n=r(96315),i=r(1925);function s(){return"undefined"!=typeof window&&(!(0,n.KV)()||void 0!==i.GLOBAL_OBJ.process&&"renderer"===i.GLOBAL_OBJ.process.type)}},90289:function(e,t,r){"use strict";r.d(t,{Cf:function(){return a},LD:function(){return o},RU:function(){return s},kg:function(){return l}});var n=r(15233),i=r(1925);let s=["debug","info","warn","error","log","assert","trace"],o={};function a(e){if(!("console"in i.GLOBAL_OBJ))return e();let t=i.GLOBAL_OBJ.console,r={},n=Object.keys(o);n.forEach(e=>{let n=o[e];r[e]=t[e],t[e]=n});try{return e()}finally{n.forEach(e=>{t[e]=r[e]})}}let l=function(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return n.X?s.forEach(r=>{t[r]=(...t)=>{e&&a(()=>{i.GLOBAL_OBJ.console[r](`Sentry Logger [${r}]:`,...t)})}}):s.forEach(e=>{t[e]=()=>void 0}),t}()},13476:function(e,t,r){"use strict";r.d(t,{DM:function(){return o},Db:function(){return u},EG:function(){return c},YO:function(){return h},go:function(){return d},jH:function(){return l},lE:function(){return f}});var n=r(45795),i=r(37739),s=r(1925);function o(){let e=s.GLOBAL_OBJ,t=e.crypto||e.msCrypto,r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{let e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&r())>>e/4).toString(16))}function a(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function l(e){let{message:t,event_id:r}=e;if(t)return t;let n=a(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function u(e,t,r){let n=e.exception=e.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=r||"Error")}function c(e,t){let r=a(e);if(!r)return;let n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){let e={...n&&n.data,...t.data};r.mechanism.data=e}}function d(e,t,r=5){if(void 0===t.lineno)return;let n=e.length,s=Math.max(Math.min(n-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-r),s).map(e=>(0,i.JM)(e,0)),t.context_line=(0,i.JM)(e[Math.min(n-1,s)],t.colno||0),t.post_context=e.slice(Math.min(s+1,n),s+1+r).map(e=>(0,i.JM)(e,0))}function h(e){if(e&&e.__sentry_captured__)return!0;try{(0,n.xp)(e,"__sentry_captured__",!0)}catch(e){}return!1}function f(e){return Array.isArray(e)?e:[e]}},96315:function(e,t,r){"use strict";r.d(t,{KV:function(){return s}});var n=r(81998);e=r.hmd(e);var i=r(71390);function s(){return!(0,n.n)()&&"[object process]"===Object.prototype.toString.call(void 0!==i?i:0)}},33567:function(e,t,r){"use strict";r.d(t,{Fv:function(){return o},Qy:function(){return function e(t,r=3,n=102400){let i=o(t,r);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>n?e(t,r-1,n):i}}});var n=r(69764),i=r(45795),s=r(67620);function o(e,t=100,o=Infinity){try{return function e(t,o,a=Infinity,l=Infinity,u=function(){let e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(r){if(e)return!!t.has(r)||(t.add(r),!1);for(let e=0;e<t.length;e++)if(t[e]===r)return!0;return t.push(r),!1},function(r){if(e)t.delete(r);else for(let e=0;e<t.length;e++)if(t[e]===r){t.splice(e,1);break}}]}()){let[c,d]=u;if(null==o||["number","boolean","string"].includes(typeof o)&&!(0,n.i2)(o))return o;let h=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==r.g&&t===r.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,n.y1)(t))return"[VueViewModel]";if((0,n.Cy)(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${(0,s.$P)(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;let i=function(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);if(/^HTML(\w*)Element$/.test(i))return`[HTMLElement: ${i}]`;return`[object ${i}]`}catch(e){return`**non-serializable** (${e})`}}(t,o);if(!h.startsWith("[object "))return h;if(o.__sentry_skip_normalization__)return o;let f="number"==typeof o.__sentry_override_normalization_depth__?o.__sentry_override_normalization_depth__:a;if(0===f)return h.replace("object ","");if(c(o))return"[Circular ~]";if(o&&"function"==typeof o.toJSON)try{let t=o.toJSON();return e("",t,f-1,l,u)}catch(e){}let p=Array.isArray(o)?[]:{},g=0,m=(0,i.Sh)(o);for(let t in m){if(!Object.prototype.hasOwnProperty.call(m,t))continue;if(g>=l){p[t]="[MaxProperties ~]";break}let r=m[t];p[t]=e(t,r,f-1,l,u),g++}return d(o),p}("",e,t,o)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}},45795:function(e,t,r){"use strict";r.d(t,{$Q:function(){return c},HK:function(){return d},Jr:function(){return v},Sh:function(){return f},_j:function(){return h},hl:function(){return l},xp:function(){return u},zf:function(){return m}});var n=r(40154),i=r(15233),s=r(69764),o=r(90289),a=r(37739);function l(e,t,r){if(!(t in e))return;let n=e[t],i=r(n);"function"==typeof i&&c(i,n),e[t]=i}function u(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(r){i.X&&o.kg.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function c(e,t){try{let r=t.prototype||{};e.prototype=t.prototype=r,u(e,"__sentry_original__",t)}catch(e){}}function d(e){return e.__sentry_original__}function h(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function f(e){if((0,s.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...g(e)};if(!(0,s.cO)(e))return e;{let t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),...g(e)};return"undefined"!=typeof CustomEvent&&(0,s.V9)(e,CustomEvent)&&(t.detail=e.detail),t}}function p(e){try{return(0,s.kK)(e)?(0,n.Rt)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function g(e){if("object"!=typeof e||null===e)return{};{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}}function m(e,t=40){let r=Object.keys(f(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return(0,a.$G)(r[0],t);for(let e=r.length;e>0;e--){let n=r.slice(0,e).join(", ");if(!(n.length>t)){if(e===r.length)return n;return(0,a.$G)(n,t)}}return""}function v(e){return function e(t,r){if(function(e){if(!(0,s.PO)(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(t)){let n=r.get(t);if(void 0!==n)return n;let i={};for(let n of(r.set(t,i),Object.keys(t)))void 0!==t[n]&&(i[n]=e(t[n],r));return i}if(Array.isArray(t)){let n=r.get(t);if(void 0!==n)return n;let i=[];return r.set(t,i),t.forEach(t=>{i.push(e(t,r))}),i}return t}(e,new Map)}},56198:function(e,t,r){"use strict";function n(e,t=Date.now()){let r=parseInt(`${e}`,10);if(!isNaN(r))return 1e3*r;let n=Date.parse(`${e}`);return isNaN(n)?6e4:n-t}function i(e,t,r=Date.now()){return(e[t]||e.all||0)>r}function s(e,{statusCode:t,headers:r},i=Date.now()){let s={...e},o=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(o)for(let e of o.trim().split(",")){let[t,r,,,n]=e.split(":",5),o=parseInt(t,10),a=(isNaN(o)?60:o)*1e3;if(r)for(let e of r.split(";"))"metric_bucket"===e?(!n||n.split(";").includes("custom"))&&(s[e]=i+a):s[e]=i+a;else s.all=i+a}else a?s.all=i+n(a,i):429===t&&(s.all=i+6e4);return s}r.d(t,{JY:function(){return n},Q:function(){return i},WG:function(){return s}})},29368:function(e,t,r){"use strict";r.d(t,{VT:function(){return i}});let n=["fatal","error","warning","log","info","debug"];function i(e){return"warn"===e?"warning":n.includes(e)?e:"log"}},67620:function(e,t,r){"use strict";r.d(t,{$P:function(){return l},Sq:function(){return o},pE:function(){return s}});let n=/\(error: (.*)\)/,i=/captureMessage|captureException/;function s(...e){let t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,r=0)=>{let s=[],o=e.split("\n");for(let e=r;e<o.length;e++){let r=o[e];if(r.length>1024)continue;let i=n.test(r)?r.replace(n,"$1"):r;if(!i.match(/\S*Error: /)){for(let e of t){let t=e(i);if(t){s.push(t);break}}if(s.length>=50)break}}return function(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),i.test(t[t.length-1].function||"")&&(t.pop(),i.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,50).map(e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"}))}(s)}}function o(e){return Array.isArray(e)?s(...e):e}let a="<anonymous>";function l(e){try{if(!e||"function"!=typeof e)return a;return e.name||a}catch(e){return a}}},37739:function(e,t,r){"use strict";r.d(t,{$G:function(){return i},JM:function(){return s},U0:function(){return a},nK:function(){return o}});var n=r(69764);function i(e,t=0){return"string"!=typeof e||0===t?e:e.length<=t?e:`${e.slice(0,t)}...`}function s(e,t){let r=e,n=r.length;if(n<=150)return r;t>n&&(t=n);let i=Math.max(t-60,0);i<5&&(i=0);let s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r=`'{snip} ${r}`),s<n&&(r+=" {snip}"),r}function o(e,t){if(!Array.isArray(e))return"";let r=[];for(let t=0;t<e.length;t++){let i=e[t];try{(0,n.y1)(i)?r.push("[VueViewModel]"):r.push(String(i))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function a(e,t=[],r=!1){return t.some(t=>(function(e,t,r=!1){return!!(0,n.HD)(e)&&((0,n.Kj)(t)?t.test(e):!!(0,n.HD)(t)&&(r?e===t:e.includes(t)))})(e,t,r))}},19588:function(e,t,r){"use strict";r.d(t,{Ak:function(){return o},Du:function(){return a},t$:function(){return l},zb:function(){return u}});var n=r(15233),i=r(90289);let s=(0,r(1925).R)();function o(){if(!("fetch"in s))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function l(){if("string"==typeof EdgeRuntime)return!0;if(!o())return!1;if(a(s.fetch))return!0;let e=!1,t=s.document;if(t&&"function"==typeof t.createElement)try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=a(r.contentWindow.fetch)),t.head.removeChild(r)}catch(e){n.X&&i.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function u(){return"ReportingObserver"in s}},23711:function(e,t,r){"use strict";r.d(t,{$2:function(){return a},WD:function(){return o},cW:function(){return l}});var n,i,s=r(69764);function o(e){return new l(t=>{t(e)})}function a(e){return new l((t,r)=>{r(e)})}(n=i||(i={}))[n.PENDING=0]="PENDING",n[n.RESOLVED=1]="RESOLVED",n[n.REJECTED=2]="REJECTED";class l{constructor(e){l.prototype.__init.call(this),l.prototype.__init2.call(this),l.prototype.__init3.call(this),l.prototype.__init4.call(this),this._state=i.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new l((r,n)=>{this._handlers.push([!1,t=>{if(e)try{r(e(t))}catch(e){n(e)}else r(t)},e=>{if(t)try{r(t(e))}catch(e){n(e)}else n(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new l((t,r)=>{let n,i;return this.then(t=>{i=!1,n=t,e&&e()},t=>{i=!0,n=t,e&&e()}).then(()=>{if(i){r(n);return}t(n)})})}__init(){this._resolve=e=>{this._setResult(i.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(i.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===i.PENDING){if((0,s.J8)(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===i.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===i.RESOLVED&&e[1](this._value),this._state===i.REJECTED&&e[2](this._value),e[0]=!0)})}}}},72277:function(e,t,r){"use strict";r.d(t,{Z1:function(){return o},ph:function(){return s},yW:function(){return i}});var n=r(1925);function i(){return Date.now()/1e3}let s=function(){let{performance:e}=n.GLOBAL_OBJ;if(!e||!e.now)return i;let t=Date.now()-e.now(),r=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(r+e.now())/1e3}(),o=(()=>{let{performance:e}=n.GLOBAL_OBJ;if(!e||!e.now)return;let t=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+t-r):36e5,s=e.timing&&e.timing.navigationStart,o="number"==typeof s?Math.abs(s+t-r):36e5;return i<36e5||o<36e5?i<=o?e.timeOrigin:s:r})()},3559:function(e,t,r){"use strict";r.d(t,{$p:function(){return u},KA:function(){return a},pT:function(){return l},qG:function(){return o}});var n=r(1808),i=r(13476);let s=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function o(e){let t;if(!e)return;let r=e.match(s);if(r)return"1"===r[3]?t=!0:"0"===r[3]&&(t=!1),{traceId:r[1],parentSampled:t,parentSpanId:r[2]}}function a(e,t){let r=o(e),s=(0,n.EN)(t),{traceId:a,parentSpanId:l,parentSampled:u}=r||{};return r?{traceparentData:r,dynamicSamplingContext:s||{},propagationContext:{traceId:a||(0,i.DM)(),parentSpanId:l||(0,i.DM)().substring(16),spanId:(0,i.DM)().substring(16),sampled:u,dsc:s||{}}}:{traceparentData:r,dynamicSamplingContext:void 0,propagationContext:{traceId:a||(0,i.DM)(),spanId:(0,i.DM)().substring(16)}}}function l(e,t){let r=o(e),s=(0,n.EN)(t),{traceId:a,parentSpanId:l,parentSampled:u}=r||{};return r?{traceId:a||(0,i.DM)(),parentSpanId:l||(0,i.DM)().substring(16),spanId:(0,i.DM)().substring(16),sampled:u,dsc:s||{}}:{traceId:a||(0,i.DM)(),spanId:(0,i.DM)().substring(16)}}function u(e=(0,i.DM)(),t=(0,i.DM)().substring(16),r){let n="";return void 0!==r&&(n=r?"-1":"-0"),`${e}-${t}${n}`}},1252:function(e,t,r){"use strict";function n(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function i(e){return e.split(/[\?#]/,1)[0]}r.d(t,{en:function(){return n},rt:function(){return i}})},1925:function(e,t,r){"use strict";function n(e){return e&&e.Math==Math?e:void 0}r.d(t,{GLOBAL_OBJ:function(){return i},R:function(){return s},Y:function(){return o}});let i="object"==typeof globalThis&&n(globalThis)||"object"==typeof window&&n(window)||"object"==typeof self&&n(self)||"object"==typeof r.g&&n(r.g)||function(){return this}()||{};function s(){return i}function o(e,t,r){let n=r||i,s=n.__SENTRY__=n.__SENTRY__||{};return s[e]||(s[e]=t())}},48391:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(71248);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:d,...h}=e;return(0,n.createElement)("svg",{ref:t,...o,width:i,height:i,stroke:r,strokeWidth:l?24*Number(a)/Number(i):a,className:s("lucide",u),...h},[...d.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),l=(e,t)=>{let r=(0,n.forwardRef)((r,o)=>{let{className:l,...u}=r;return(0,n.createElement)(a,{ref:o,iconNode:t,className:s("lucide-".concat(i(e)),l),...u})});return r.displayName="".concat(e),r}},94620:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(48391).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},24291:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return e1}});var n=r(74817),i=JSON.parse('{"locales":["en","es","pt"],"defaultLocale":"en","pages":{"*":["common"],"/":["home","pricing","marketplace"],"/apps":["apps"],"/showcase":["apps"],"/builder":["apps","blocks","loop"],"/builder/[id]":["apps","blocks","loop"],"/treehacks":["home","pricing"],"/meakcodes":["home","pricing"],"/[...slug]":["home","pricing","marketplace"],"/pricing":["pricing"],"/settings":["settings"],"/account":["account"],"/dashboard":["apps","dashboard"],"/discover":["discover"],"/help":["help"],"/loops":["loop"],"/loop/create":["loop"],"/loop/manual":["loop"],"/loop/[id]/create":["loop"],"/loop/[id]/edit":["blocks","loop"],"/loop/[id]/build":["blocks","loop"],"/runs/[id]":["blocks","loop"],"/loop/[id]/runs":["blocks","loop"],"/blocks":["blocks"],"/blocks/[id]/history":["blocks"],"/affiliate-tracker/[...slug]":["affiliate"]}}'),s=r(71248),o=r(36497),a=r(49120),l=r(3008),u=r(19249),c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},d=(0,s.createContext)({ns:{},config:{}});function h(e){var t,r,n=e.lang,i=e.namespaces,h=e.children,f=e.config,p=(0,u.Z)().lang,g=(0,o.useRouter)()||{},m=g.locale,v=g.defaultLocale,_=(0,s.useContext)(d),y=c(c(c({},"undefined"==typeof window?{}:(null===(r=null===(t=window.__NEXT_DATA__)||void 0===t?void 0:t.props)||void 0===r?void 0:r.__namespaces)||{}),_.ns),void 0===i?{}:i),b=n||p||m||v||"",w=c(c({},_.config),void 0===f?{}:f),S=w.localesToIgnore||["default"],k=!b||S.includes(b),E=new Intl.PluralRules(k?void 0:b),x=(0,l.Z)({config:w,allNamespaces:y,pluralRules:E,lang:b});return s.createElement(a.Z.Provider,{value:{lang:b,t:x}},s.createElement(d.Provider,{value:{ns:y,config:w}},h))}var f=r(77376),p=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})},g=function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},m=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};function v(e){return e.reduce(function(e,t){return e.concat(t)},[])}var _=r(71390),y=function(){return(y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},b=function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},w=function(){return(w=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},S=function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},k=r(36906),E=r(31488),x=r(36842),T=r(31034),C=r(66202),I=r(71390);let O={core:!1,base:!1};function R({css:e,id:t="react-tooltip-base-styles",type:r="base",ref:n}){var i,s;if(!e||"undefined"==typeof document||O[r]||"core"===r&&void 0!==I&&(null===(i=null==I?void 0:I.env)||void 0===i?void 0:i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||"base"!==r&&void 0!==I&&(null===(s=null==I?void 0:I.env)||void 0===s?void 0:s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;"core"===r&&(t="react-tooltip-core-styles"),n||(n={});let{insertAt:o}=n;if(document.getElementById(t))return;let a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css","top"===o&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),O[r]=!0}let A=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:r=null,place:n="top",offset:i=10,strategy:s="absolute",middlewares:o=[(0,T.cv)(Number(i)),(0,T.RR)({fallbackAxisSideDirection:"start"}),(0,T.uY)({padding:5})],border:a})=>e&&null!==t?r?(o.push((0,T.x7)({element:r,padding:5})),(0,T.oo)(e,t,{placement:n,strategy:s,middleware:o}).then(({x:e,y:t,placement:r,middlewareData:n})=>{var i,s;let o={left:`${e}px`,top:`${t}px`,border:a},{x:l,y:u}=null!==(i=n.arrow)&&void 0!==i?i:{x:0,y:0},c=null!==(s=({top:"bottom",right:"left",bottom:"top",left:"right"})[r.split("-")[0]])&&void 0!==s?s:"bottom",d=0;if(a){let e=`${a}`.match(/(\d+)px/);d=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:o,tooltipArrowStyles:{left:null!=l?`${l}px`:"",top:null!=u?`${u}px`:"",right:"",bottom:"",...a&&{borderBottom:a,borderRight:a},[c]:`-${4+d}px`},place:r}})):(0,T.oo)(e,t,{placement:"bottom",strategy:s,middleware:o}).then(({x:e,y:t,placement:r})=>({tooltipStyles:{left:`${e}px`,top:`${t}px`},tooltipArrowStyles:{},place:r})):{tooltipStyles:{},tooltipArrowStyles:{},place:n},P=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),M=(e,t,r)=>{let n=null,i=function(...i){let s=()=>{n=null,r||e.apply(this,i)};r&&!n&&(e.apply(this,i),n=setTimeout(s,t)),r||(n&&clearTimeout(n),n=setTimeout(s,t))};return i.cancel=()=>{n&&(clearTimeout(n),n=null)},i},L=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,$=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((e,r)=>$(e,t[r]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!L(e)||!L(t))return e===t;let r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(r=>$(e[r],t[r]))},N=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;let t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(e=>{let r=t.getPropertyValue(e);return"auto"===r||"scroll"===r})},j=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(N(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},D="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,F=e=>{e.current&&(clearTimeout(e.current),e.current=null)},U={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},B=(0,s.createContext)({getTooltipData:()=>U});function W(e="DEFAULT_TOOLTIP_ID"){return(0,s.useContext)(B).getTooltipData(e)}var H={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},q={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};let z=({forwardRef:e,id:t,className:r,classNameArrow:n,variant:i="dark",anchorId:o,anchorSelect:a,place:l="top",offset:u=10,events:c=["hover"],openOnClick:d=!1,positionStrategy:h="absolute",middlewares:f,wrapper:p,delayShow:g=0,delayHide:m=0,float:v=!1,hidden:_=!1,noArrow:y=!1,clickable:b=!1,closeOnEsc:w=!1,closeOnScroll:S=!1,closeOnResize:k=!1,openEvents:E,closeEvents:x,globalCloseEvents:I,imperativeModeOnly:O,style:R,position:P,afterShow:L,afterHide:N,disableTooltip:U,content:B,contentWrapperRef:z,isOpen:G,defaultIsOpen:J=!1,setIsOpen:X,activeAnchor:V,setActiveAnchor:K,border:Y,opacity:Z,arrowColor:Q,role:ee="tooltip"})=>{var et;let er=(0,s.useRef)(null),en=(0,s.useRef)(null),ei=(0,s.useRef)(null),es=(0,s.useRef)(null),eo=(0,s.useRef)(null),[ea,el]=(0,s.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:l}),[eu,ec]=(0,s.useState)(!1),[ed,eh]=(0,s.useState)(!1),[ef,ep]=(0,s.useState)(null),eg=(0,s.useRef)(!1),em=(0,s.useRef)(null),{anchorRefs:ev,setActiveAnchor:e_}=W(t),ey=(0,s.useRef)(!1),[eb,ew]=(0,s.useState)([]),eS=(0,s.useRef)(!1),ek=d||c.includes("click"),eE=ek||(null==E?void 0:E.click)||(null==E?void 0:E.dblclick)||(null==E?void 0:E.mousedown),ex=E?{...E}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!E&&ek&&Object.assign(ex,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});let eT=x?{...x}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!x&&ek&&Object.assign(eT,{mouseleave:!1,blur:!1,mouseout:!1});let eC=I?{...I}:{escape:w||!1,scroll:S||!1,resize:k||!1,clickOutsideAnchor:eE||!1};O&&(Object.assign(ex,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(eT,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(eC,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),D(()=>(eS.current=!0,()=>{eS.current=!1}),[]);let eI=e=>{eS.current&&(e&&eh(!0),setTimeout(()=>{eS.current&&(null==X||X(e),void 0===G&&ec(e))},10))};(0,s.useEffect)(()=>{if(void 0===G)return()=>null;G&&eh(!0);let e=setTimeout(()=>{ec(G)},10);return()=>{clearTimeout(e)}},[G]),(0,s.useEffect)(()=>{if(eu!==eg.current){if(F(eo),eg.current=eu,eu)null==L||L();else{let e=(e=>{let t=e.match(/^([\d.]+)(ms|s)$/);if(!t)return 0;let[,r,n]=t;return Number(r)*("ms"===n?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));eo.current=setTimeout(()=>{eh(!1),ep(null),null==N||N()},e+25)}}},[eu]);let eO=e=>{el(t=>$(t,e)?t:e)},eR=(e=g)=>{F(ei),ed?eI(!0):ei.current=setTimeout(()=>{eI(!0)},e)},eA=(e=m)=>{F(es),es.current=setTimeout(()=>{ey.current||eI(!1)},e)},eP=e=>{var t;if(!e)return;let r=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==r?void 0:r.isConnected))return K(null),void e_({current:null});g?eR():eI(!0),K(r),e_({current:r}),F(es)},eM=()=>{b?eA(m||100):m?eA():eI(!1),F(ei)},eL=({x:e,y:t})=>{var r;A({place:null!==(r=null==ef?void 0:ef.place)&&void 0!==r?r:l,offset:u,elementReference:{getBoundingClientRect:()=>({x:e,y:t,width:0,height:0,top:t,left:e,right:e,bottom:t})},tooltipReference:er.current,tooltipArrowReference:en.current,strategy:h,middlewares:f,border:Y}).then(e=>{eO(e)})},e$=e=>{if(!e)return;let t={x:e.clientX,y:e.clientY};eL(t),em.current=t},eN=e=>{var t;if(!eu)return;let r=e.target;r.isConnected&&(null===(t=er.current)||void 0===t||!t.contains(r))&&([document.querySelector(`[id='${o}']`),...eb].some(e=>null==e?void 0:e.contains(r))||(eI(!1),F(ei)))},ej=M(eP,50,!0),eD=M(eM,50,!0),eF=e=>{eD.cancel(),ej(e)},eU=()=>{ej.cancel(),eD()},eB=(0,s.useCallback)(()=>{var e,t;let r=null!==(e=null==ef?void 0:ef.position)&&void 0!==e?e:P;r?eL(r):v?em.current&&eL(em.current):(null==V?void 0:V.isConnected)&&A({place:null!==(t=null==ef?void 0:ef.place)&&void 0!==t?t:l,offset:u,elementReference:V,tooltipReference:er.current,tooltipArrowReference:en.current,strategy:h,middlewares:f,border:Y}).then(e=>{eS.current&&eO(e)})},[eu,V,B,R,l,null==ef?void 0:ef.place,u,h,P,null==ef?void 0:ef.position,v]);(0,s.useEffect)(()=>{var e,t;let r=new Set(ev);eb.forEach(e=>{(null==U?void 0:U(e))||r.add({current:e})});let n=document.querySelector(`[id='${o}']`);!n||(null==U?void 0:U(n))||r.add({current:n});let i=()=>{eI(!1)},s=j(V),a=j(er.current);eC.scroll&&(window.addEventListener("scroll",i),null==s||s.addEventListener("scroll",i),null==a||a.addEventListener("scroll",i));let l=null;eC.resize?window.addEventListener("resize",i):V&&er.current&&(l=(0,T.Me)(V,er.current,eB,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));let u=e=>{"Escape"===e.key&&eI(!1)};eC.escape&&window.addEventListener("keydown",u),eC.clickOutsideAnchor&&window.addEventListener("click",eN);let c=[],d=e=>!!((null==e?void 0:e.target)&&(null==V?void 0:V.contains(e.target))),h=e=>{eu&&d(e)||eP(e)},f=e=>{eu&&d(e)&&eM()},p=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],g=["click","dblclick","mousedown","mouseup"];Object.entries(ex).forEach(([e,t])=>{t&&(p.includes(e)?c.push({event:e,listener:eF}):g.includes(e)&&c.push({event:e,listener:h}))}),Object.entries(eT).forEach(([e,t])=>{t&&(p.includes(e)?c.push({event:e,listener:eU}):g.includes(e)&&c.push({event:e,listener:f}))}),v&&c.push({event:"pointermove",listener:e$});let m=()=>{ey.current=!0},_=()=>{ey.current=!1,eM()},y=b&&(eT.mouseout||eT.mouseleave);return y&&(null===(e=er.current)||void 0===e||e.addEventListener("mouseover",m),null===(t=er.current)||void 0===t||t.addEventListener("mouseout",_)),c.forEach(({event:e,listener:t})=>{r.forEach(r=>{var n;null===(n=r.current)||void 0===n||n.addEventListener(e,t)})}),()=>{var e,t;eC.scroll&&(window.removeEventListener("scroll",i),null==s||s.removeEventListener("scroll",i),null==a||a.removeEventListener("scroll",i)),eC.resize?window.removeEventListener("resize",i):null==l||l(),eC.clickOutsideAnchor&&window.removeEventListener("click",eN),eC.escape&&window.removeEventListener("keydown",u),y&&(null===(e=er.current)||void 0===e||e.removeEventListener("mouseover",m),null===(t=er.current)||void 0===t||t.removeEventListener("mouseout",_)),c.forEach(({event:e,listener:t})=>{r.forEach(r=>{var n;null===(n=r.current)||void 0===n||n.removeEventListener(e,t)})})}},[V,eB,ed,ev,eb,E,x,I,ek,g,m]),(0,s.useEffect)(()=>{var e,r;let n=null!==(r=null!==(e=null==ef?void 0:ef.anchorSelect)&&void 0!==e?e:a)&&void 0!==r?r:"";!n&&t&&(n=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);let i=new MutationObserver(e=>{let r=[],i=[];e.forEach(e=>{if("attributes"===e.type&&"data-tooltip-id"===e.attributeName&&(e.target.getAttribute("data-tooltip-id")===t?r.push(e.target):e.oldValue===t&&i.push(e.target)),"childList"===e.type){if(V){let t=[...e.removedNodes].filter(e=>1===e.nodeType);if(n)try{i.push(...t.filter(e=>e.matches(n))),i.push(...t.flatMap(e=>[...e.querySelectorAll(n)]))}catch(e){}t.some(e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,V))&&(eh(!1),eI(!1),K(null),F(ei),F(es),!0)})}if(n)try{let t=[...e.addedNodes].filter(e=>1===e.nodeType);r.push(...t.filter(e=>e.matches(n))),r.push(...t.flatMap(e=>[...e.querySelectorAll(n)]))}catch(e){}}}),(r.length||i.length)&&ew(e=>[...e.filter(e=>!i.includes(e)),...r])});return i.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{i.disconnect()}},[t,a,null==ef?void 0:ef.anchorSelect,V]),(0,s.useEffect)(()=>{eB()},[eB]),(0,s.useEffect)(()=>{if(!(null==z?void 0:z.current))return()=>null;let e=new ResizeObserver(()=>{setTimeout(()=>eB())});return e.observe(z.current),()=>{e.disconnect()}},[B,null==z?void 0:z.current]),(0,s.useEffect)(()=>{var e;let t=document.querySelector(`[id='${o}']`),r=[...eb,t];V&&r.includes(V)||K(null!==(e=eb[0])&&void 0!==e?e:t)},[o,eb,V]),(0,s.useEffect)(()=>(J&&eI(!0),()=>{F(ei),F(es)}),[]),(0,s.useEffect)(()=>{var e;let r=null!==(e=null==ef?void 0:ef.anchorSelect)&&void 0!==e?e:a;if(!r&&t&&(r=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),r)try{let e=Array.from(document.querySelectorAll(r));ew(e)}catch(e){ew([])}},[t,a,null==ef?void 0:ef.anchorSelect]),(0,s.useEffect)(()=>{ei.current&&(F(ei),eR(g))},[g]);let eW=null!==(et=null==ef?void 0:ef.content)&&void 0!==et?et:B,eH=eu&&Object.keys(ea.tooltipStyles).length>0;return(0,s.useImperativeHandle)(e,()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(t){return void console.warn(`[react-tooltip] "${e.anchorSelect}" is not a valid CSS selector`)}ep(null!=e?e:null),(null==e?void 0:e.delay)?eR(e.delay):eI(!0)},close:e=>{(null==e?void 0:e.delay)?eA(e.delay):eI(!1)},activeAnchor:V,place:ea.place,isOpen:!!(ed&&!_&&eW&&eH)})),ed&&!_&&eW?s.createElement(p,{id:t,role:ee,className:C("react-tooltip",H.tooltip,q.tooltip,q[i],r,`react-tooltip__place-${ea.place}`,H[eH?"show":"closing"],eH?"react-tooltip__show":"react-tooltip__closing","fixed"===h&&H.fixed,b&&H.clickable),onTransitionEnd:e=>{F(eo),eu||"opacity"!==e.propertyName||(eh(!1),ep(null),null==N||N())},style:{...R,...ea.tooltipStyles,opacity:void 0!==Z&&eH?Z:void 0},ref:er},eW,s.createElement(p,{className:C("react-tooltip-arrow",H.arrow,q.arrow,n,y&&H.noArrow),style:{...ea.tooltipArrowStyles,background:Q?`linear-gradient(to right bottom, transparent 50%, ${Q} 50%)`:void 0},ref:en})):null},G=({content:e})=>s.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),J=s.forwardRef(({id:e,anchorId:t,anchorSelect:r,content:n,html:i,render:o,className:a,classNameArrow:l,variant:u="dark",place:c="top",offset:d=10,wrapper:h="div",children:f=null,events:p=["hover"],openOnClick:g=!1,positionStrategy:m="absolute",middlewares:v,delayShow:_=0,delayHide:y=0,float:b=!1,hidden:w=!1,noArrow:S=!1,clickable:k=!1,closeOnEsc:E=!1,closeOnScroll:x=!1,closeOnResize:T=!1,openEvents:I,closeEvents:O,globalCloseEvents:R,imperativeModeOnly:A=!1,style:M,position:L,isOpen:$,defaultIsOpen:N=!1,disableStyleInjection:j=!1,border:D,opacity:F,arrowColor:U,setIsOpen:B,afterShow:H,afterHide:q,disableTooltip:J,role:X="tooltip"},V)=>{let[K,Y]=(0,s.useState)(n),[Z,Q]=(0,s.useState)(i),[ee,et]=(0,s.useState)(c),[er,en]=(0,s.useState)(u),[ei,es]=(0,s.useState)(d),[eo,ea]=(0,s.useState)(_),[el,eu]=(0,s.useState)(y),[ec,ed]=(0,s.useState)(b),[eh,ef]=(0,s.useState)(w),[ep,eg]=(0,s.useState)(h),[em,ev]=(0,s.useState)(p),[e_,ey]=(0,s.useState)(m),[eb,ew]=(0,s.useState)(null),[eS,ek]=(0,s.useState)(null),eE=(0,s.useRef)(j),{anchorRefs:ex,activeAnchor:eT}=W(e),eC=e=>null==e?void 0:e.getAttributeNames().reduce((t,r)=>{var n;return r.startsWith("data-tooltip-")&&(t[r.replace(/^data-tooltip-/,"")]=null!==(n=null==e?void 0:e.getAttribute(r))&&void 0!==n?n:null),t},{}),eI=e=>{let t={place:e=>{et(null!=e?e:c)},content:e=>{Y(null!=e?e:n)},html:e=>{Q(null!=e?e:i)},variant:e=>{en(null!=e?e:u)},offset:e=>{es(null===e?d:Number(e))},wrapper:e=>{eg(null!=e?e:h)},events:e=>{let t=null==e?void 0:e.split(" ");ev(null!=t?t:p)},"position-strategy":e=>{ey(null!=e?e:m)},"delay-show":e=>{ea(null===e?_:Number(e))},"delay-hide":e=>{eu(null===e?y:Number(e))},float:e=>{ed(null===e?b:"true"===e)},hidden:e=>{ef(null===e?w:"true"===e)},"class-name":e=>{ew(e)}};Object.values(t).forEach(e=>e(null)),Object.entries(e).forEach(([e,r])=>{var n;null===(n=t[e])||void 0===n||n.call(t,r)})};(0,s.useEffect)(()=>{Y(n)},[n]),(0,s.useEffect)(()=>{Q(i)},[i]),(0,s.useEffect)(()=>{et(c)},[c]),(0,s.useEffect)(()=>{en(u)},[u]),(0,s.useEffect)(()=>{es(d)},[d]),(0,s.useEffect)(()=>{ea(_)},[_]),(0,s.useEffect)(()=>{eu(y)},[y]),(0,s.useEffect)(()=>{ed(b)},[b]),(0,s.useEffect)(()=>{ef(w)},[w]),(0,s.useEffect)(()=>{ey(m)},[m]),(0,s.useEffect)(()=>{eE.current!==j&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[j]),(0,s.useEffect)(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===j,disableBase:j}}))},[]),(0,s.useEffect)(()=>{var n;let i=new Set(ex),s=r;if(!s&&e&&(s=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),s)try{document.querySelectorAll(s).forEach(e=>{i.add({current:e})})}catch(e){console.warn(`[react-tooltip] "${s}" is not a valid CSS selector`)}let o=document.querySelector(`[id='${t}']`);if(o&&i.add({current:o}),!i.size)return()=>null;let a=null!==(n=null!=eS?eS:o)&&void 0!==n?n:eT.current,l=new MutationObserver(e=>{e.forEach(e=>{var t;a&&"attributes"===e.type&&(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith("data-tooltip-"))&&eI(eC(a))})});return a&&(eI(eC(a)),l.observe(a,{attributes:!0,childList:!1,subtree:!1})),()=>{l.disconnect()}},[ex,eT,eS,t,r]),(0,s.useEffect)(()=>{(null==M?void 0:M.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),D&&!P("border",`${D}`)&&console.warn(`[react-tooltip] "${D}" is not a valid \`border\`.`),(null==M?void 0:M.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),F&&!P("opacity",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`opacity\`.`)},[]);let eO=f,eR=(0,s.useRef)(null);if(o){let e=o({content:(null==eS?void 0:eS.getAttribute("data-tooltip-content"))||K||null,activeAnchor:eS});eO=e?s.createElement("div",{ref:eR,className:"react-tooltip-content-wrapper"},e):null}else K&&(eO=K);Z&&(eO=s.createElement(G,{content:Z}));let eA={forwardRef:V,id:e,anchorId:t,anchorSelect:r,className:C(a,eb),classNameArrow:l,content:eO,contentWrapperRef:eR,place:ee,variant:er,offset:ei,wrapper:ep,events:em,openOnClick:g,positionStrategy:e_,middlewares:v,delayShow:eo,delayHide:el,float:ec,hidden:eh,noArrow:S,clickable:k,closeOnEsc:E,closeOnScroll:x,closeOnResize:T,openEvents:I,closeEvents:O,globalCloseEvents:R,imperativeModeOnly:A,style:M,position:L,isOpen:$,defaultIsOpen:N,border:D,opacity:F,arrowColor:U,setIsOpen:B,afterShow:H,afterHide:q,disableTooltip:J,activeAnchor:eS,setActiveAnchor:e=>ek(e),role:X};return s.createElement(z,{...eA})});"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||R({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||R({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})}),r(23434);var X=r(51645),V=r(29025),K=r(73853),Y=r(5673),Z=r(31031),Q=r(18274),ee=r(22336),et=r(42580),er=r(90402),en=r(12956),ei=r(20541),es=r(28913),eo=r(78879),ea=r(18216),el=r(15090),eu=r(94715),ec=r(71282),ed=r(43629),eh=r(77210),ef="ToastProvider",[ep,eg,em]=(0,en.B)("Toast"),[ev,e_]=(0,ei.b)("Toast",[em]),[ey,eb]=ev(ef),ew=e=>{let{__scopeToast:t,label:r="Notification",duration:i=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:l}=e,[u,c]=s.useState(null),[d,h]=s.useState(0),f=s.useRef(!1),p=s.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ef}\`. Expected non-empty \`string\`.`),(0,n.jsx)(ep.Provider,{scope:t,children:(0,n.jsx)(ey,{scope:t,label:r,duration:i,swipeDirection:o,swipeThreshold:a,toastCount:d,viewport:u,onViewportChange:c,onToastAdd:s.useCallback(()=>h(e=>e+1),[]),onToastRemove:s.useCallback(()=>h(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:l})})};ew.displayName=ef;var eS="ToastViewport",ek=["F8"],eE="toast.viewportPause",ex="toast.viewportResume",eT=s.forwardRef((e,t)=>{let{__scopeToast:r,hotkey:i=ek,label:o="Notifications ({hotkey})",...a}=e,l=eb(eS,r),u=eg(r),c=s.useRef(null),d=s.useRef(null),h=s.useRef(null),f=s.useRef(null),p=(0,er.e)(t,f,l.onViewportChange),g=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=l.toastCount>0;s.useEffect(()=>{let e=e=>{0!==i.length&&i.every(t=>e[t]||e.code===t)&&f.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i]),s.useEffect(()=>{let e=c.current,t=f.current;if(m&&e&&t){let r=()=>{if(!l.isClosePausedRef.current){let e=new CustomEvent(eE);t.dispatchEvent(e),l.isClosePausedRef.current=!0}},n=()=>{if(l.isClosePausedRef.current){let e=new CustomEvent(ex);t.dispatchEvent(e),l.isClosePausedRef.current=!1}},i=t=>{e.contains(t.relatedTarget)||n()},s=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",r),e.addEventListener("focusout",i),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",s),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",s),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}},[m,l.isClosePausedRef]);let v=s.useCallback(({tabbingDirection:e})=>{let t=u().map(t=>{let r=t.ref.current,n=[r,...function(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}(r)];return"forwards"===e?n:n.reverse()});return("forwards"===e?t.reverse():t).flat()},[u]);return s.useEffect(()=>{let e=f.current;if(e){let t=t=>{let r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){let r=document.activeElement,n=t.shiftKey;if(t.target===e&&n){d.current?.focus();return}let i=v({tabbingDirection:n?"backwards":"forwards"}),s=i.findIndex(e=>e===r);eq(i.slice(s+1))?t.preventDefault():n?d.current?.focus():h.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[u,v]),(0,n.jsxs)(es.I0,{ref:c,role:"region","aria-label":o.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&(0,n.jsx)(eI,{ref:d,onFocusFromOutsideViewport:()=>{eq(v({tabbingDirection:"forwards"}))}}),(0,n.jsx)(ep.Slot,{scope:r,children:(0,n.jsx)(el.WV.ol,{tabIndex:-1,...a,ref:p})}),m&&(0,n.jsx)(eI,{ref:h,onFocusFromOutsideViewport:()=>{eq(v({tabbingDirection:"backwards"}))}})]})});eT.displayName=eS;var eC="ToastFocusProxy",eI=s.forwardRef((e,t)=>{let{__scopeToast:r,onFocusFromOutsideViewport:i,...s}=e,o=eb(eC,r);return(0,n.jsx)(eh.TX,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:e=>{let t=e.relatedTarget;o.viewport?.contains(t)||i()}})});eI.displayName=eC;var eO="Toast",eR=s.forwardRef((e,t)=>{let{forceMount:r,open:i,defaultOpen:s,onOpenChange:o,...a}=e,[l,u]=(0,ec.T)({prop:i,defaultProp:s??!0,onChange:o,caller:eO});return(0,n.jsx)(ea.z,{present:r||l,children:(0,n.jsx)(eM,{open:l,...a,ref:t,onClose:()=>u(!1),onPause:(0,eu.W)(e.onPause),onResume:(0,eu.W)(e.onResume),onSwipeStart:(0,et.M)(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:(0,et.M)(e.onSwipeMove,e=>{let{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)}),onSwipeCancel:(0,et.M)(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:(0,et.M)(e.onSwipeEnd,e=>{let{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),u(!1)})})})});eR.displayName=eO;var[eA,eP]=ev(eO,{onClose(){}}),eM=s.forwardRef((e,t)=>{let{__scopeToast:r,type:i="foreground",duration:o,open:a,onClose:l,onEscapeKeyDown:u,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...m}=e,v=eb(eO,r),[_,y]=s.useState(null),b=(0,er.e)(t,e=>y(e)),w=s.useRef(null),S=s.useRef(null),k=o||v.duration,E=s.useRef(0),x=s.useRef(k),T=s.useRef(0),{onToastAdd:C,onToastRemove:I}=v,O=(0,eu.W)(()=>{_?.contains(document.activeElement)&&v.viewport?.focus(),l()}),R=s.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(T.current),E.current=new Date().getTime(),T.current=window.setTimeout(O,e))},[O]);s.useEffect(()=>{let e=v.viewport;if(e){let t=()=>{R(x.current),d?.()},r=()=>{let e=new Date().getTime()-E.current;x.current=x.current-e,window.clearTimeout(T.current),c?.()};return e.addEventListener(eE,r),e.addEventListener(ex,t),()=>{e.removeEventListener(eE,r),e.removeEventListener(ex,t)}}},[v.viewport,k,c,d,R]),s.useEffect(()=>{a&&!v.isClosePausedRef.current&&R(k)},[a,k,v.isClosePausedRef,R]),s.useEffect(()=>(C(),()=>I()),[C,I]);let A=s.useMemo(()=>_?function e(t){let r=[];return Array.from(t.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&r.push(t.textContent),t.nodeType===t.ELEMENT_NODE){let n=t.ariaHidden||t.hidden||"none"===t.style.display,i=""===t.dataset.radixToastAnnounceExclude;if(!n){if(i){let e=t.dataset.radixToastAnnounceAlt;e&&r.push(e)}else r.push(...e(t))}}}),r}(_):null,[_]);return v.viewport?(0,n.jsxs)(n.Fragment,{children:[A&&(0,n.jsx)(eL,{__scopeToast:r,role:"status","aria-live":"foreground"===i?"assertive":"polite","aria-atomic":!0,children:A}),(0,n.jsx)(eA,{scope:r,onClose:O,children:ee.createPortal((0,n.jsx)(ep.ItemSlot,{scope:r,children:(0,n.jsx)(es.fC,{asChild:!0,onEscapeKeyDown:(0,et.M)(u,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,n.jsx)(el.WV.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...m,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:(0,et.M)(e.onKeyDown,e=>{"Escape"!==e.key||(u?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:(0,et.M)(e.onPointerDown,e=>{0===e.button&&(w.current={x:e.clientX,y:e.clientY})}),onPointerMove:(0,et.M)(e.onPointerMove,e=>{if(!w.current)return;let t=e.clientX-w.current.x,r=e.clientY-w.current.y,n=!!S.current,i=["left","right"].includes(v.swipeDirection),s=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,o=i?s(0,t):0,a=i?0:s(0,r),l="touch"===e.pointerType?10:2,u={x:o,y:a},c={originalEvent:e,delta:u};n?(S.current=u,eW("toast.swipeMove",f,c,{discrete:!1})):eH(u,v.swipeDirection,l)?(S.current=u,eW("toast.swipeStart",h,c,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(w.current=null)}),onPointerUp:(0,et.M)(e.onPointerUp,e=>{let t=S.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),S.current=null,w.current=null,t){let r=e.currentTarget,n={originalEvent:e,delta:t};eH(t,v.swipeDirection,v.swipeThreshold)?eW("toast.swipeEnd",g,n,{discrete:!0}):eW("toast.swipeCancel",p,n,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),eL=e=>{let{__scopeToast:t,children:r,...i}=e,o=eb(eO,t),[a,l]=s.useState(!1),[u,c]=s.useState(!1);return function(e=()=>{}){let t=(0,eu.W)(e);(0,ed.b)(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}(()=>l(!0)),s.useEffect(()=>{let e=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(e)},[]),u?null:(0,n.jsx)(eo.h,{asChild:!0,children:(0,n.jsx)(eh.TX,{...i,children:a&&(0,n.jsxs)(n.Fragment,{children:[o.label," ",r]})})})},e$=s.forwardRef((e,t)=>{let{__scopeToast:r,...i}=e;return(0,n.jsx)(el.WV.div,{...i,ref:t})});e$.displayName="ToastTitle";var eN=s.forwardRef((e,t)=>{let{__scopeToast:r,...i}=e;return(0,n.jsx)(el.WV.div,{...i,ref:t})});eN.displayName="ToastDescription";var ej="ToastAction",eD=s.forwardRef((e,t)=>{let{altText:r,...i}=e;return r.trim()?(0,n.jsx)(eB,{altText:r,asChild:!0,children:(0,n.jsx)(eU,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ej}\`. Expected non-empty \`string\`.`),null)});eD.displayName=ej;var eF="ToastClose",eU=s.forwardRef((e,t)=>{let{__scopeToast:r,...i}=e,s=eP(eF,r);return(0,n.jsx)(eB,{asChild:!0,children:(0,n.jsx)(el.WV.button,{type:"button",...i,ref:t,onClick:(0,et.M)(e.onClick,s.onClose)})})});eU.displayName=eF;var eB=s.forwardRef((e,t)=>{let{__scopeToast:r,altText:i,...s}=e;return(0,n.jsx)(el.WV.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...s,ref:t})});function eW(e,t,r,{discrete:n}){let i=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?(0,el.jH)(i,s):i.dispatchEvent(s)}var eH=(e,t,r=0)=>{let n=Math.abs(e.x),i=Math.abs(e.y),s=n>i;return"left"===t||"right"===t?s&&n>r:!s&&i>r};function eq(e){let t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var ez=r(82898),eG=r(94620),eJ=r(2002);let eX=s.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(eT,{ref:t,className:(0,eJ.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...i})});eX.displayName=eT.displayName;let eV=(0,ez.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eK=s.forwardRef((e,t)=>{let{className:r,variant:i,...s}=e;return(0,n.jsx)(eR,{ref:t,className:(0,eJ.cn)(eV({variant:i}),r),...s})});eK.displayName=eR.displayName,s.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(eD,{ref:t,className:(0,eJ.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...i})}).displayName=eD.displayName;let eY=s.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(eU,{ref:t,className:(0,eJ.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...i,children:(0,n.jsx)(eG.Z,{className:"h-4 w-4"})})});eY.displayName=eU.displayName;let eZ=s.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(e$,{ref:t,className:(0,eJ.cn)("text-sm font-semibold",r),...i})});eZ.displayName=e$.displayName;let eQ=s.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(eN,{ref:t,className:(0,eJ.cn)("text-sm opacity-90",r),...i})});function e0(){let{toasts:e}=(0,Q.pm)();return(0,n.jsxs)(ew,{children:[e.map(function(e){let{id:t,title:r,description:i,action:s,...o}=e;return(0,n.jsxs)(eK,{...o,children:[(0,n.jsxs)("div",{className:"grid gap-1",children:[r&&(0,n.jsx)(eZ,{children:r}),i&&(0,n.jsx)(eQ,{children:i})]}),s,(0,n.jsx)(eY,{})]},t)}),(0,n.jsx)(eX,{})]})}eQ.displayName=eN.displayName,E.ZP.init("phc_PHfwuKc2qU4z0WBSVgFimYZhdOtTR9VClofJeSAIHLA",{api_host:"https://magicloops.dev/ingest",session_recording:{maskAllInputs:!1},autocapture:!(0,Z.r8)()}),E.ZP.debug(!1);var e1=function(e,t){var n=this;function i(r){var n,i,o=t.defaultLocale;return s.createElement(h,{lang:(null===(n=r.pageProps)||void 0===n?void 0:n.__lang)||r.__lang||o,namespaces:(null===(i=r.pageProps)||void 0===i?void 0:i.__namespaces)||r.__namespaces,config:t},s.createElement(e,w({},r)))}return void 0===t&&(t={}),t.isLoader||!1===t.loader||console.warn('\uD83D\uDEA8 [next-translate] You can remove the "appWithI18n" HoC on the _app.js, unless you set "loader: false" in your i18n config file.'),"function"==typeof t.staticsHoc&&t.staticsHoc(i,e),"undefined"==typeof window?r.g.i18nConfig=t:window.i18nConfig=t,t.skipInitialProps||(i.getInitialProps=function(r){var i,s,o;return i=void 0,s=void 0,o=function(){var n,i,s;return S(this,function(o){switch(o.label){case 0:if(n=w(w({},r.ctx||{}),r||{}),i={pageProps:{}},!e.getInitialProps)return[3,2];return[4,e.getInitialProps(r)];case 1:i=o.sent()||{},o.label=2;case 2:return s=[w({},i)],[4,function(e){var t,r,n,i,s,o;return void 0===e&&(e={}),n=this,i=void 0,s=void 0,o=function(){var n,i,s,o,a,l,u;return b(this,function(c){switch(c.label){case 0:var d;if(i=(n=y(y({},(0,f.Z)()),e)).localesToIgnore||["default"],s=(null===(t=n.req)||void 0===t?void 0:t.locale)||n.locale||(null===(r=n.router)||void 0===r?void 0:r.locale)||n.defaultLocale||"",!n.pathname)return console.warn('\uD83D\uDEA8 [next-translate] You forgot to pass the "pathname" inside "loadNamespaces" configuration'),[2,{__lang:s}];if(i.includes(s))return[2,{__lang:s}];return n.loaderName||!1===n.loader||console.warn('\uD83D\uDEA8 [next-translate] You can remove the "loadNamespaces" helper, unless you set "loader: false" in your i18n config file.'),void 0===(d=n.pathname.replace(/\/index$/,""))&&(d=""),o=(d.length>1&&d.endsWith("/")?d.slice(0,-1):d)||"/",[4,function(e,t,r){var n=e.pages,i=void 0===n?{}:n;return p(this,void 0,void 0,function(){var e,n,s,o,a,l,u,c=this;return g(this,function(d){switch(d.label){case 0:return e="rgx:",n=function(e){return p(c,void 0,void 0,function(){return g(this,function(t){return[2,"function"==typeof e?e(r):e||[]]})})},s=Object.keys(i).reduce(function(r,s){return s.substring(0,e.length)===e&&new RegExp(s.replace(e,"")).test(t)&&r.push(n(i[s])),r},[]),o=[[]],[4,n(i["*"])];case 1:return a=[m.apply(void 0,o.concat([d.sent(),!0]))],[4,n(i[t])];case 2:return l=[m.apply(void 0,a.concat([d.sent(),!0]))],u=v,[4,Promise.all(s)];case 3:return[2,m.apply(void 0,l.concat([u.apply(void 0,[d.sent()]),!0]))]}})})}(n,o,n)];case 1:return a=c.sent(),l=function(){return Promise.resolve({})},[4,Promise.all(a.map(function(e){return"function"==typeof n.loadLocaleFrom?n.loadLocaleFrom(s,e).catch(function(){return{}}):l(s,e)}))];case 2:return u=c.sent()||[],function(e,t){var r=t.page,n=t.lang,i=t.namespaces;if(!1!==e.logBuild&&"undefined"==typeof window){var s=null==_.env.NODE_DISABLE_COLORS&&null==_.env.NO_COLOR&&"dumb"!==_.env.TERM&&"0"!==_.env.FORCE_COLOR,o=function(e){return s?"\x1b[36m".concat(e,"\x1b[0m"):e};console.log(o("next-translate"),"- compiled page:",o(r),"- locale:",o(n),"- namespaces:",o(i.join(", ")),"- used loader:",o(e.loaderName||"-"))}}(n,{page:o,lang:s,namespaces:a}),[2,{__lang:s,__namespaces:a.reduce(function(e,t,r){return e[t]=u[r]||null,e},{})}]}})},new(s||(s=Promise))(function(e,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(r,a)}l((o=o.apply(n,i||[])).next())})}(w(w(w({},n),t),{loaderName:"getInitialProps"}))];case 3:return[2,w.apply(void 0,s.concat([o.sent()]))]}})},new(s||(s=Promise))(function(e,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(r,a)}l((o=o.apply(n,i||[])).next())})}),i}(function(e){let{Component:t,pageProps:r}=e,i=(0,o.useRouter)();return(0,s.useEffect)(()=>{let e=()=>null===E.ZP||void 0===E.ZP?void 0:E.ZP.capture("$pageview");return i.events.on("routeChangeComplete",e),()=>{i.events.off("routeChangeComplete",e)}},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.zf,{client:E.ZP,children:(0,n.jsxs)(X.H,{children:[(0,n.jsx)(V.a,{children:(0,n.jsx)(Y.B,{children:(0,n.jsxs)(K.f,{children:[(0,n.jsx)(t,{...r}),(0,n.jsx)(e0,{})]})})}),(0,n.jsx)(J,{id:"tooltip",place:"bottom",className:"max-w-[300px] rounded-lg",style:{whiteSpace:"pre-wrap"}})]})}),(0,n.jsx)(k.GoogleTagManager,{gtmId:"G-8X61L9F4PB"}),(0,n.jsx)(k.GoogleAnalytics,{gaId:"G-8X61L9F4PB"})]})},{...i,isLoader:!0,skipInitialProps:!0,loadLocaleFrom:i&&i.loadLocaleFrom||((e,t)=>r(30242)("./".concat(e,"/").concat(t)).then(e=>e.default))})},76286:function(e,t,r){"use strict";r.d(t,{$Q:function(){return g},DA:function(){return d},J_:function(){return c},Ty:function(){return S},V9:function(){return w},_l:function(){return v},bj:function(){return y},ds:function(){return b},hr:function(){return h},kC:function(){return p},nm:function(){return u},oU:function(){return _},uw:function(){return m}});var n=r(42390),i=r(78301);let s="local-user-id",o="local-loop-data",a="local-attempt-auth",l="loop-to-app-transfer",u=()=>{try{let e=window.localStorage.getItem(o);return(0,i.Mp)(null!=e?e:"")}catch(e){return[]}},c=e=>(!e.ownerId||e.ownerId===n.Km)&&(f([{id:e.id,name:e.name,published:e.published,description:e.description},...u().filter(t=>t.id!==e.id)]),!0),d=(e,t)=>{let r=u().map(r=>r.id===e?{...r,name:t}:r);return f(r),r},h=(e,t)=>{let r=u().map(r=>r.id===e?{...r,description:t}:r);return f(r),r},f=e=>{window.localStorage.setItem(o,JSON.stringify(e))},p=()=>{window.localStorage.removeItem(o)},g=e=>{window.localStorage.setItem(s,e)},m=()=>window.localStorage.getItem(s),v=e=>{window.localStorage.setItem(a,e?"true":"false")},_=()=>"true"===window.localStorage.getItem(a),y=(e,t,r)=>{try{let n={loopId:t,prompt:e,timestamp:Date.now(),userId:r},i="".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9));return window.localStorage.setItem("".concat(l,"-").concat(i),JSON.stringify(n)),i}catch(e){throw console.error("Failed to store loop data for app creation:",e),Error("Failed to prepare loop data for app creation")}},b=e=>{try{let t=window.localStorage.getItem("".concat(l,"-").concat(e));if(!t)return null;let r=(0,i.Mp)(t);if(Date.now()-r.timestamp>36e5)return w(e),null;return r}catch(e){return console.error("Failed to retrieve loop data for app creation:",e),null}},w=e=>{try{window.localStorage.removeItem("".concat(l,"-").concat(e))}catch(e){console.error("Failed to clear loop data:",e)}},S=()=>{try{Object.keys(window.localStorage).filter(e=>e.startsWith(l)).forEach(e=>{try{let t=window.localStorage.getItem(e);if(t){let r=(0,i.Mp)(t);Date.now()-r.timestamp>36e5&&window.localStorage.removeItem(e)}}catch(t){window.localStorage.removeItem(e)}})}catch(e){console.error("Failed to cleanup expired loop transfers:",e)}}},31031:function(e,t,r){"use strict";r.d(t,{ER:function(){return d},OJ:function(){return l},Vr:function(){return h},ZO:function(){return f},mN:function(){return c},r8:function(){return a},vV:function(){return u},w1:function(){return o}});var n=r(42390),i=r(76286),s=r(62849);function o(e){if(!e)return"";let t=Math.min(-1!==e.indexOf("\n\n")?e.indexOf("\n\n"):1/0,-1!==e.indexOf("###")?e.indexOf("###"):1/0,500);return e.slice(0,t).trim()}function a(){return window.location.host.includes("127.0.0.1")||window.location.host.includes("localhost")||!1}function l(e,t){if(!e)return;e.style.height="inherit";let r=window.getComputedStyle(e),n=parseInt(r.getPropertyValue("border-top-width"),10)+e.scrollHeight+parseInt(r.getPropertyValue("border-bottom-width"),10);e.style.height=Math.min(n,null!=t?t:400)+"px"}function u(e){return null!=e&&!!e.startsWith("$")||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}let c=(e,t)=>null==t||!t.ownerId||(t.ownerId===n.Km?(0,i.nm)().some(e=>e.id===(null==t?void 0:t.id)):!!e&&(e===(null==t?void 0:t.ownerId)||s.c4.includes(e))),d=e=>new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(e),h=e=>null==e||!e.ownerId||e.ownerId===n.Km&&(0,i.nm)().some(t=>t.id===(null==e?void 0:e.id)),f=e=>e.ownerId===n.Km},42390:function(e,t,r){"use strict";r.d(t,{D0:function(){return a},Km:function(){return n},Ov:function(){return f},SA:function(){return g},U_:function(){return d},WI:function(){return i},ZN:function(){return o},gi:function(){return s},kG:function(){return h},oX:function(){return u},p$:function(){return p},t2:function(){return m},vJ:function(){return l}}),r(62849);let n="339aefa4-f011-4a90-838b-c1af57652469",i="block-test-dry-run",s=e=>e&&e!==n?"owner-only":"anyone-with-link",o={id:"blank",name:"Untitled Loop",description:void 0,published:!1,ownerId:n,blocks:[],outline:{},userInput:"",variables:[],visibility:s(n)},a=()=>window.location.href.includes("localhost"),l=e=>"".concat(c(),"/loop/").concat(e),u=e=>a()?"http://localhost:3000/loop/".concat(e):l(e),c=()=>"https://magicloops.dev",d=e=>"".concat("https://magicloops.dev/api/loop/run/").concat(e),h=e=>"".concat(c(),"/api/loop/").concat(e,"/run"),f=e=>"".concat(e,"@loops.run"),p=e=>JSON.parse(JSON.stringify(e)),g=e=>null!=e&&!!e.blocks&&e.blocks.some(e=>"api-trigger"===e.type),m=e=>{var t;if(!(null==e?void 0:e.blocks))return"";let r=e.blocks.find(e=>"api-trigger"===e.type),n=e.blocks[e.blocks.length-1],i="Create a new web app based on this API endpoint.\n\n";if(r){let t="".concat(c(),"/api/loop/").concat(e.id,"/run"),r=e.exampleInput||'{"input": "Hello World"}',n=(()=>{try{return JSON.parse(r),r}catch(e){return'{"input": "Hello World"}'}})(),s='curl -X POST \\\n  -H "Content-Type: application/json" \\\n  -d \''.concat(n,"' \\\n  ").concat(t);i+="**API Endpoint:**\n"+"POST ".concat(t,"\n\n")+"**Curl Example:**\n```bash\n"+"".concat(s,"\n")+"```\n\n**API Input Example:**\n"+"```json\n".concat(r,"```\n\n")}if((null===(t=e.testRunResult)||void 0===t?void 0:t.blockResults)&&n){let t=e.testRunResult.blockResults[n.id];(null==t?void 0:t.stdout)&&(i+="**Most Recent API Output:**\n"+"```json\n".concat(t.stdout,"```\n\n"))}return i+("**Loop Description:** ".concat(e.description||e.name,"\n\n")+"Please create a web application that provides a user interface for this API endpoint, including form inputs that match the expected API input format and a way to display the API response in a user-friendly manner.")}},78301:function(e,t,r){"use strict";r.d(t,{fm:function(){return N},fC:function(){return O},Jh:function(){return j},ss:function(){return R},tC:function(){return I},Vx:function(){return C},Mp:function(){return x},AG:function(){return L},Se:function(){return M},qH:function(){return $},rO:function(){return A},f9:function(){return P},Dk:function(){return U},s9:function(){return F},LW:function(){return D},OA:function(){return T}});var n=r(47589);class i extends Error{constructor(e,t){super("".concat(e," at position ").concat(t)),this.position=t}}function s(e){return e>="0"&&e<="9"}function o(e){return",:[]/{}()\n+".includes(e)}function a(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e||"$"===e}function l(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e||"$"===e||e>="0"&&e<="9"}let u=/^(http|https|ftp|mailto|file|data|irc):\/\/$/,c=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function d(e){return",[]/{}\n+".includes(e)}function h(e){return m(e)||f.test(e)}let f=/^[[{\w-]$/;function p(e,t){let r=e.charCodeAt(t);return 32===r||10===r||9===r||13===r}function g(e,t){let r=e.charCodeAt(t);return 32===r||9===r||13===r}function m(e){return v(e)||y(e)}function v(e){return'"'===e||""===e||""===e}function _(e){return'"'===e}function y(e){return"'"===e||""===e||""===e||"`"===e||"\xb4"===e}function b(e){return"'"===e}function w(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.lastIndexOf(t);return -1!==n?e.substring(0,n)+(r?"":e.substring(n+1)):e}function S(e,t){let r=e.length;if(!p(e,r-1))return e+t;for(;p(e,r-1);)r--;return e.substring(0,r)+t+e.substring(r)}let k={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},E={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},x=e=>{let t;try{t=JSON.parse(e)}catch(r){t=JSON.parse(function(e){var t;let r=0,n="";I(),x()||function(){throw new i("Unexpected end of json string",e.length)}(),I();let f=O(",");for((f&&T(),h(e[r])&&(t=n,/[,\n][ \t\r]*$/.test(t)))?(f||(n=S(n,",")),function(){let e=!0,t=!0;for(;t;)e?e=!1:O(",")||(n=S(n,",")),t=x();t||(n=w(n,",")),n="[\n".concat(n,"\n]")}()):f&&(n=w(n,","));"}"===e[r]||"]"===e[r];)r++,T();if(r>=e.length)return n;function x(){T();let t=function(){if("{"===e[r]){n+="{",r++,T(),R(",")&&T();let t=!0;for(;r<e.length&&"}"!==e[r];){if(t?t=!1:(O(",")||(n=S(n,",")),T()),A(),!(P()||$(!0))){"}"===e[r]||"{"===e[r]||"]"===e[r]||"["===e[r]||void 0===e[r]?n=w(n,","):function(){throw new i("Object key expected",r)}();break}T();let s=O(":"),o=r>=e.length;s||(h(e[r])||o?n=S(n,":"):F()),x()||(s||o?n+="null":F())}return"}"===e[r]?(n+="}",r++):n=S(n,"}"),!0}return!1}()||function(){if("["===e[r]){n+="[",r++,T(),R(",")&&T();let t=!0;for(;r<e.length&&"]"!==e[r];)if(t?t=!1:O(",")||(n=S(n,",")),A(),!x()){n=w(n,",");break}return"]"===e[r]?(n+="]",r++):n=S(n,"]"),!0}return!1}()||P()||function(){let t=r;if("-"===e[r]){if(r++,j())return D(t),!0;if(!s(e[r]))return r=t,!1}for(;s(e[r]);)r++;if("."===e[r]){if(r++,j())return D(t),!0;if(!s(e[r]))return r=t,!1;for(;s(e[r]);)r++}if("e"===e[r]||"E"===e[r]){if(("-"===e[++r]||"+"===e[r])&&r++,j())return D(t),!0;if(!s(e[r]))return r=t,!1;for(;s(e[r]);)r++}if(!j())return r=t,!1;if(r>t){let i=e.slice(t,r),s=/^0\d/.test(i);return n+=s?'"'.concat(i,'"'):i,!0}return!1}()||L("true","true")||L("false","false")||L("null","null")||L("True","true")||L("False","false")||L("None","null")||$(!1)||function(){if("/"===e[r]){let t=r;for(r++;r<e.length&&("/"!==e[r]||"\\"===e[r-1]);)r++;return r++,n+='"'.concat(e.substring(t,r),'"'),!0}}();return T(),t}function T(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=r,i=C(t);do(i=function(){if("/"===e[r]&&"*"===e[r+1]){for(var t;r<e.length&&!("*"===e[t=r]&&"/"===e[t+1]);)r++;return r+=2,!0}if("/"===e[r]&&"/"===e[r+1]){for(;r<e.length&&"\n"!==e[r];)r++;return!0}return!1}())&&(i=C(t));while(i);return r>n}function C(t){let i=t?p:g,s="";for(;;)if(i(e,r))s+=e[r],r++;else if(function(e,t){let r=e.charCodeAt(t);return 160===r||r>=8192&&r<=8202||8239===r||8287===r||12288===r}(e,r))s+=" ",r++;else break;return s.length>0&&(n+=s,!0)}function I(){if("```"===e.slice(r,r+3)){if(a(e[r+=3]))for(;r<e.length&&l(e[r]);)r++;return T(),!0}return!1}function O(t){return e[r]===t&&(n+=e[r],r++,!0)}function R(t){return e[r]===t&&(r++,!0)}function A(){return T(),"."===e[r]&&"."===e[r+1]&&"."===e[r+2]&&(r+=3,T(),R(","),!0)}function P(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,l="\\"===e[r];if(l&&(r++,l=!0),m(e[r])){let f=_(e[r])?_:b(e[r])?b:y(e[r])?y:v,p=r,g=n.length,w='"';for(r++;;){var h;if(r>=e.length){let i=N(r-1);if(!t&&o(e.charAt(i)))return r=p,n=n.substring(0,g),P(!0);return w=S(w,'"'),n+=w,!0}if(r===a)return w=S(w,'"'),n+=w,!0;if(f(e[r])){let i=r,a=w.length;if(w+='"',r++,n+=w,T(!1),t||r>=e.length||o(e[r])||m(e[r])||s(e[r]))return M(),!0;let l=N(i-1),u=e.charAt(l);if(","===u)return r=p,n=n.substring(0,g),P(!1,l);if(o(u))return r=p,n=n.substring(0,g),P(!0);n=n.substring(0,g),r=i+1,w="".concat(w.substring(0,a),"\\").concat(w.substring(a))}else if(t&&d(e[r])){if(":"===e[r-1]&&u.test(e.substring(p+1,r+2)))for(;r<e.length&&c.test(e[r]);)w+=e[r],r++;return w=S(w,'"'),n+=w,M(),!0}else if("\\"===e[r]){let t=e.charAt(r+1);if(void 0!==E[t])w+=e.slice(r,r+2),r+=2;else if("u"===t){let t=2;for(;t<6&&(h=e[r+t],/^[0-9A-Fa-f]$/.test(h));)t++;6===t?(w+=e.slice(r,r+6),r+=6):r+t>=e.length?r=e.length:function(){let t=e.slice(r,r+6);throw new i('Invalid unicode character "'.concat(t,'"'),r)}()}else w+=t,r+=2}else{let t=e.charAt(r);'"'===t&&"\\"!==e[r-1]?w+="\\".concat(t):"\n"===t||"\r"===t||"	"===t||"\b"===t||"\f"===t?w+=k[t]:(t>=" "||function(e){throw new i("Invalid character ".concat(JSON.stringify(e)),r)}(t),w+=t),r++}l&&R("\\")}}return!1}function M(){let t=!1;for(T();"+"===e[r];){t=!0,r++,T();let e=(n=w(n,'"',!0)).length;if(P()){var i;n=(i=n).substring(0,e)+i.substring(e+1)}else n=S(n,'"')}return t}function L(t,i){return e.slice(r,r+t.length)===t&&(n+=i,r+=t.length,!0)}function $(t){let i=r;if(a(e[r])){for(;r<e.length&&l(e[r]);)r++;let t=r;for(;p(e,t);)t++;if("("===e[t])return r=t+1,x(),")"===e[r]&&";"===e[++r]&&r++,!0}for(;r<e.length&&!d(e[r])&&!m(e[r])&&(!t||":"!==e[r]);)r++;if(":"===e[r-1]&&u.test(e.substring(i,r+2)))for(;r<e.length&&c.test(e[r]);)r++;if(r>i){for(;p(e,r-1)&&r>0;)r--;let t=e.slice(i,r);return n+="undefined"===t?"null":JSON.stringify(t),'"'===e[r]&&r++,!0}}function N(t){let r=t;for(;r>0&&p(e,r);)r--;return r}function j(){return r>=e.length||o(e[r])||p(e,r)}function D(t){n+="".concat(e.slice(t,r),"0")}function F(){throw new i("Colon expected",r)}!function(){throw new i("Unexpected character ".concat(JSON.stringify(e[r])),r)}()}(e))}return t},T=e=>{if(e)try{return(0,n.Q)(e)}catch(e){return}},C=e=>{try{return JSON.parse(e),!0}catch(e){return!1}},I=(e,t)=>{let r=e.indexOf(t);return(e.substring(0,r).replaceAll('\\"',"").split('"').length-1)%2==1},O=(e,t)=>{if(!e)return"";let r=!1,n=e.split("\n"),i="";return n.forEach((e,s)=>{if(e.startsWith("```")){r=!r;return}!(!r&&e.startsWith("`"))&&(r?i+=e:"python"===t?i+="# ".concat(e):i+="// ".concat(e),s<n.length-1&&(i+="\n"))}),i},R=function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=e||t;return JSON.stringify(r?n.trim():n).slice(1,-1)},A=e=>{var t;return null!==(t=null==e?void 0:e.toLowerCase().includes("email"))&&void 0!==t&&t},P=e=>{var t;return null!==(t=null==e?void 0:e.toLowerCase().includes("phone"))&&void 0!==t&&t},M=e=>A(e)?"email":P(e)?"tel":"text",L=e=>A(e)?"email":P(e)?"tel":"off",$=(e,t)=>"".concat(A(e)?"Email":P(e)?"Phone":t,"...");function N(e){let t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}let j=e=>e.replace(/([A-Z])/g," $1").toLowerCase().trim();function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"variable",r=e&&"string"==typeof e?e.trim().toLowerCase().split(/[^a-zA-Z0-9]+/).filter(e=>e.length>0).map((e,t)=>0===t?e:e.charAt(0).toUpperCase()+e.slice(1)).join(""):"";return!r||/^[0-9]/.test(r)?t:r}function F(e){return e&&"string"==typeof e?e.trim().toLowerCase().replace(/[^a-zA-Z0-9]+/g,"_").replace(/^_+|_+$/g,"").replace(/_+/g,"_"):""}function U(e){return e&&"string"==typeof e?e.trim().toUpperCase().replace(/[^a-zA-Z0-9]+/g,"_").replace(/^_+|_+$/g,"").replace(/_+/g,"_"):""}},86774:function(e,t,r){"use strict";let n;r.d(t,{e:function(){return t1}});let i=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>Promise.resolve().then(r.bind(r,37833)).then(({default:t})=>t(...e)):t=fetch,(...e)=>t(...e)};class s extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class o extends s{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class a extends s{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class l extends s{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}(q=z||(z={})).Any="any",q.ApNortheast1="ap-northeast-1",q.ApNortheast2="ap-northeast-2",q.ApSouth1="ap-south-1",q.ApSoutheast1="ap-southeast-1",q.ApSoutheast2="ap-southeast-2",q.CaCentral1="ca-central-1",q.EuCentral1="eu-central-1",q.EuWest1="eu-west-1",q.EuWest2="eu-west-2",q.EuWest3="eu-west-3",q.SaEast1="sa-east-1",q.UsEast1="us-east-1",q.UsWest1="us-west-1",q.UsWest2="us-west-2";class u{constructor(e,{headers:t={},customFetch:r,region:n=z.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=i(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r,n,i,s,u;return n=this,i=void 0,s=void 0,u=function*(){try{let n;let{headers:i,method:s,body:u}=t,c={},{region:d}=t;d||(d=this.region),d&&"any"!==d&&(c["x-region"]=d),u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&("undefined"!=typeof Blob&&u instanceof Blob||u instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",n=u):"string"==typeof u?(c["Content-Type"]="text/plain",n=u):"undefined"!=typeof FormData&&u instanceof FormData?n=u:(c["Content-Type"]="application/json",n=JSON.stringify(u)));let h=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:n}).catch(e=>{throw new o(e)}),f=h.headers.get("x-relay-error");if(f&&"true"===f)throw new a(h);if(!h.ok)throw new l(h);let p=(null!==(r=h.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return{data:"application/json"===p?yield h.json():"application/octet-stream"===p?yield h.blob():"text/event-stream"===p?h:"multipart/form-data"===p?yield h.formData():yield h.text(),error:null}}catch(e){return{data:null,error:e}}},new(s||(s=Promise))(function(e,t){function r(e){try{a(u.next(e))}catch(e){t(e)}}function o(e){try{a(u.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(r,o)}a((u=u.apply(n,i||[])).next())})}}let{PostgrestClient:c,PostgrestQueryBuilder:d,PostgrestFilterBuilder:h,PostgrestTransformBuilder:f,PostgrestBuilder:p,PostgrestError:g}=r(30126),m={"X-Client-Info":"realtime-js/2.11.2"};(er=G||(G={}))[er.connecting=0]="connecting",er[er.open=1]="open",er[er.closing=2]="closing",er[er.closed=3]="closed",(en=J||(J={})).closed="closed",en.errored="errored",en.joined="joined",en.joining="joining",en.leaving="leaving",(ei=X||(X={})).close="phx_close",ei.error="phx_error",ei.join="phx_join",ei.reply="phx_reply",ei.leave="phx_leave",ei.access_token="access_token",(V||(V={})).websocket="websocket",(es=K||(K={})).Connecting="connecting",es.Open="open",es.Closing="closing",es.Closed="closed";class v{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let n=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,o=r.decode(e.slice(s,s+n));s+=n;let a=r.decode(e.slice(s,s+i));return s+=i,{ref:null,topic:o,event:a,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class _{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(eo=Y||(Y={})).abstime="abstime",eo.bool="bool",eo.date="date",eo.daterange="daterange",eo.float4="float4",eo.float8="float8",eo.int2="int2",eo.int4="int4",eo.int4range="int4range",eo.int8="int8",eo.int8range="int8range",eo.json="json",eo.jsonb="jsonb",eo.money="money",eo.numeric="numeric",eo.oid="oid",eo.reltime="reltime",eo.text="text",eo.time="time",eo.timestamp="timestamp",eo.timestamptz="timestamptz",eo.timetz="timetz",eo.tsrange="tsrange",eo.tstzrange="tstzrange";let y=(e,t,r={})=>{var n;let i=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((r,n)=>(r[n]=b(n,e,t,i),r),{})},b=(e,t,r,n)=>{let i=t.find(t=>t.name===e),s=null==i?void 0:i.type,o=r[e];return s&&!n.includes(s)?w(s,o):S(o)},w=(e,t)=>{if("_"===e.charAt(0))return T(t,e.slice(1,e.length));switch(e){case Y.bool:return k(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return E(t);case Y.json:case Y.jsonb:return x(t);case Y.timestamp:return C(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:default:return S(t)}},S=e=>e,k=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},E=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},x=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},T=(e,t)=>{if("string"!=typeof e)return e;let r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;let i=e.slice(1,r);try{n=JSON.parse("["+i+"]")}catch(e){n=i?i.split(","):[]}return n.map(e=>w(t,e))}return e},C=e=>"string"==typeof e?e.replace(" ","T"):e,I=e=>{let t=e;return(t=(t=t.replace(/^ws/i,"http")).replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,"")).replace(/\/+$/,"")};class O{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(ea=Z||(Z={})).SYNC="sync",ea.JOIN="join",ea.LEAVE="leave";class R{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=R.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=R.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=R.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){let i=this.cloneDeep(e),s=this.transformState(t),o={},a={};return this.map(i,(e,t)=>{s[e]||(a[e]=t)}),this.map(s,(e,t)=>{let r=i[e];if(r){let n=t.map(e=>e.presence_ref),i=r.map(e=>e.presence_ref),s=t.filter(e=>0>i.indexOf(e.presence_ref)),l=r.filter(e=>0>n.indexOf(e.presence_ref));s.length>0&&(o[e]=s),l.length>0&&(a[e]=l)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:a},r,n)}static syncDiff(e,t,r,n){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(t,n)=>{var i;let s=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(n),s.length>0){let r=e[t].map(e=>e.presence_ref),n=s.filter(e=>0>r.indexOf(e.presence_ref));e[t].unshift(...n)}r(t,s,n)}),this.map(s,(t,r)=>{let i=e[t];if(!i)return;let s=r.map(e=>e.presence_ref);i=i.filter(e=>0>s.indexOf(e.presence_ref)),e[t]=i,n(t,i,r),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,r)=>{let n=e[r];return"metas"in n?t[r]=n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(el=Q||(Q={})).ALL="*",el.INSERT="INSERT",el.UPDATE="UPDATE",el.DELETE="DELETE",(eu=ee||(ee={})).BROADCAST="broadcast",eu.PRESENCE="presence",eu.POSTGRES_CHANGES="postgres_changes",eu.SYSTEM="system",(ec=et||(et={})).SUBSCRIBED="SUBSCRIBED",ec.TIMED_OUT="TIMED_OUT",ec.CLOSED="CLOSED",ec.CHANNEL_ERROR="CHANNEL_ERROR";class A{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=J.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new O(this,X.join,this.params,this.timeout),this.rejoinTimer=new _(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=J.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=J.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=J.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=J.errored,this.rejoinTimer.scheduleTimeout())}),this._on(X.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new R(this),this.broadcastEndpointURL=I(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(t=>null==e?void 0:e(et.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(et.CLOSED));let a={},l={broadcast:i,presence:s,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],private:o};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket.setAuth(),void 0===t){null==e||e(et.SUBSCRIBED);return}{let n=this.bindings.postgres_changes,i=null!==(r=null==n?void 0:n.length)&&void 0!==r?r:0,s=[];for(let r=0;r<i;r++){let i=n[r],{filter:{event:o,schema:a,table:l,filter:u}}=i,c=t&&t[r];if(c&&c.event===o&&c.schema===a&&c.table===l&&c.filter===u)s.push(Object.assign(Object.assign({},i),{id:c.id}));else{this.unsubscribe(),null==e||e(et.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=s,e&&e(et.SUBSCRIBED);return}}).receive("error",t=>{null==e||e(et.CHANNEL_ERROR,Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,i,s;let o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(i=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===i?void 0:i.broadcast)||void 0===s?void 0:s.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("error",()=>r("error")),o.receive("timeout",()=>r("timed out"))});{let{event:i,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await (null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=J.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(X.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let n=new O(this,X.leave,{},e);n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){let n=new AbortController,i=setTimeout(()=>n.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),s}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new O(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,i;let s=e.toLocaleLowerCase(),{close:o,error:a,leave:l,join:u}=X;if(r&&[o,a,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let c=this._onMessage(s,t,r);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return(null===(t=e.filter)||void 0===t?void 0:t.event)==="*"||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===s}).map(e=>e.callback(c,r)):null===(i=this.bindings[s])||void 0===i||i.filter(e=>{var r,n,i,o,a,l;if(!["broadcast","presence","postgres_changes"].includes(s))return e.type.toLocaleLowerCase()===s;if("id"in e){let s=e.id,o=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(n=t.ids)||void 0===n?void 0:n.includes(s))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{let r=null===(a=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof c&&"ids"in c){let e=c.data,{schema:t,table:r,commit_timestamp:n,type:i,errors:s}=e;c=Object.assign(Object.assign({},{schema:t,table:r,commit_timestamp:n,eventType:i,new:{},old:{},errors:s}),this._getPayloadRecords(e))}e.callback(c,r)})}_isClosed(){return this.state===J.closed}_isJoined(){return this.state===J.joined}_isJoining(){return this.state===J.joining}_isLeaving(){return this.state===J.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&A.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(X.close,{},e)}_onError(e){this._on(X.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=J.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=y(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=y(e.columns,e.old_record)),t}}let P=()=>{},M="undefined"!=typeof WebSocket,L=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ${constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=m,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=P,this.conn=null,this.sendBuffer=[],this.serializer=new v,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>Promise.resolve().then(r.bind(r,37833)).then(({default:t})=>t(...e)):t=fetch,(...e)=>t(...e)},this.endPoint=`${e}/${V.websocket}`,this.httpEndpoint=I(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch),null==t?void 0:t.worker){if("undefined"!=typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.worker=(null==t?void 0:t.worker)||!1,this.workerUrl=null==t?void 0:t.workerUrl}this.accessToken=(null==t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(M){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new N(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),r.e(1195).then(r.t.bind(r,1195,23)).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case G.connecting:return K.Connecting;case G.open:return K.Open;case G.closing:return K.Closing;default:return K.Closed}}isConnected(){return this.connectionState()===K.Open}channel(e,t={config:{}}){let r=new A(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){let{topic:t,event:r,payload:n,ref:i}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${i})`,n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let e=null;try{e=JSON.parse(atob(t.split(".")[1]))}catch(e){}if(e&&e.exp&&!(Math.floor(Date.now()/1e3)-e.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`);this.accessTokenValue=t,this.channels.forEach(e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(X.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:r,payload:n,ref:i}=e;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${t} ${r} ${i&&"("+i+")"||""}`,n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,i)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(X.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([L],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class N{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=G.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class j extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function D(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class F extends j{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class U extends j{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}let B=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>Promise.resolve().then(r.bind(r,37833)).then(({default:t})=>t(...e)):t=fetch,(...e)=>t(...e)},W=()=>{var e,t,n,i;return e=void 0,t=void 0,n=void 0,i=function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(r.bind(r,37833))).Response:Response},new(n||(n=Promise))(function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})},H=e=>{if(Array.isArray(e))return e.map(e=>H(e));if("function"==typeof e||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,r])=>{t[e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""))]=H(r)}),t};var q,z,G,J,X,V,K,Y,Z,Q,ee,et,er,en,ei,es,eo,ea,el,eu,ec,ed=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};let eh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ef=(e,t,r)=>ed(void 0,void 0,void 0,function*(){e instanceof(yield W())&&!(null==r?void 0:r.noResolveJson)?e.json().then(r=>{t(new F(eh(r),e.status||500))}).catch(e=>{t(new U(eh(e),e))}):t(new U(eh(e),e))}),ep=(e,t,r,n)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function eg(e,t,r,n,i,s){return ed(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,ep(t,n,i,s)).then(e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>ef(e,a,n))})})}function em(e,t,r,n){return ed(this,void 0,void 0,function*(){return eg(e,"GET",t,r,n)})}function ev(e,t,r,n,i){return ed(this,void 0,void 0,function*(){return eg(e,"POST",t,n,i,r)})}function e_(e,t,r,n,i){return ed(this,void 0,void 0,function*(){return eg(e,"DELETE",t,n,i,r)})}var ey=r(52707).lW,eb=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};let ew={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ek{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=B(n)}uploadOrUpdate(e,t,r,n){return eb(this,void 0,void 0,function*(){try{let i;let s=Object.assign(Object.assign({},eS),n),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)}),a=s.metadata;"undefined"!=typeof Blob&&r instanceof Blob?((i=new FormData).append("cacheControl",s.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?((i=r).append("cacheControl",s.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,a&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null==n?void 0:n.headers)&&(o=Object.assign(Object.assign({},o),n.headers));let l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:o},(null==s?void 0:s.duplex)?{duplex:s.duplex}:{})),d=yield c.json();if(c.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(e){if(D(e))return{data:null,error:e};throw e}})}upload(e,t,r){return eb(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return eb(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let e;let t=Object.assign({upsert:eS.upsert},n),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r).append("cacheControl",t.cacheControl):(e=r,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType);let a=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:s}),l=yield a.json();if(a.ok)return{data:{path:i,fullPath:l.Key},error:null};return{data:null,error:l}}catch(e){if(D(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e,t){return eb(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),n=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");let i=yield ev(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new j("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}update(e,t,r){return eb(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return eb(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}copy(e,t,r){return eb(this,void 0,void 0,function*(){try{return{data:{path:(yield ev(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,r){return eb(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ev(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers}),s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,r){return eb(this,void 0,void 0,function*(){try{let n=yield ev(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}download(e,t){return eb(this,void 0,void 0,function*(){let r=void 0!==(null==t?void 0:t.transform),n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=n?`?${n}`:"";try{let t=this._getFinalPath(e),n=yield em(this.fetch,`${this.url}/${r?"render/image/authenticated":"object"}/${t}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}info(e){return eb(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let e=yield em(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:H(e),error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}exists(e){return eb(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield function(e,t,r,n){return ed(this,void 0,void 0,function*(){return eg(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),void 0)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(D(e)&&e instanceof U){let t=e.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:e}}throw e}})}getPublicUrl(e,t){let r=this._getFinalPath(e),n=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&n.push(i);let s=void 0!==(null==t?void 0:t.transform),o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&n.push(o);let a=n.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s?"render/image":"object"}/public/${r}${a}`)}}}remove(e){return eb(this,void 0,void 0,function*(){try{return{data:yield e_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}list(e,t,r){return eb(this,void 0,void 0,function*(){try{let n=Object.assign(Object.assign(Object.assign({},ew),t),{prefix:e||""});return{data:yield ev(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return void 0!==ey?ey.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}let eE={"X-Client-Info":"storage-js/2.7.1"};var ex=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};class eT{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},eE),t),this.fetch=B(r)}listBuckets(){return ex(this,void 0,void 0,function*(){try{return{data:yield em(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}getBucket(e){return ex(this,void 0,void 0,function*(){try{return{data:yield em(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}createBucket(e,t={public:!1}){return ex(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return ex(this,void 0,void 0,function*(){try{return{data:yield function(e,t,r,n,i){return ed(this,void 0,void 0,function*(){return eg(e,"PUT",t,n,void 0,r)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}emptyBucket(e){return ex(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}deleteBucket(e){return ex(this,void 0,void 0,function*(){try{return{data:yield e_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(D(e))return{data:null,error:e};throw e}})}}class eC extends eT{constructor(e,t={},r){super(e,t,r)}from(e){return new ek(this.url,this.headers,e,this.fetch)}}let eI="";"undefined"!=typeof Deno?eI="deno":"undefined"!=typeof document?eI="web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?eI="react-native":eI="node";let eO={headers:{"X-Client-Info":`supabase-js-${eI}/2.49.8`}},eR={schema:"public"},eA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eP={};var eM=r(37833);let eL=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=eM.default:t=fetch,(...e)=>t(...e)},e$=()=>"undefined"==typeof Headers?eM.Headers:Headers,eN=(e,t,r)=>{let n=eL(r),i=e$();return(r,s)=>{var o,a,l,u;return o=void 0,a=void 0,l=void 0,u=function*(){var o;let a=null!==(o=yield t())&&void 0!==o?o:e,l=new i(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),n(r,Object.assign(Object.assign({},s),{headers:l}))},new(l||(l=Promise))(function(e,t){function r(e){try{i(u.next(e))}catch(e){t(e)}}function n(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof l?i:new l(function(e){e(i)})).then(r,n)}i((u=u.apply(o,a||[])).next())})}},ej="2.69.1",eD={"X-Client-Info":`gotrue-js/${ej}`},eF="X-Supabase-Api-Version",eU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class eW extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function eH(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class eq extends eW{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class ez extends eW{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class eG extends eW{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class eJ extends eG{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class eX extends eG{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eV extends eG{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class eK extends eG{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eY extends eG{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eZ extends eG{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function eQ(e){return eH(e)&&"AuthRetryableFetchError"===e.name}class e0 extends eG{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class e1 extends eG{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}let e2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),e3=" 	\n\r=".split(""),e4=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<e3.length;t+=1)e[e3[t].charCodeAt(0)]=-2;for(let t=0;t<e2.length;t+=1)e[e2[t].charCodeAt(0)]=t;return e})();function e5(e,t,r){let n=e4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(-2===n)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function e8(e){let t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127){r(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)==0){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let t=0;t<e.length;t+=1)e5(e.charCodeAt(t),i,s);return t.join("")}let e6=()=>"undefined"!=typeof window&&"undefined"!=typeof document,e9={tested:!1,writable:!1},e7=()=>{if(!e6())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(e9.tested)return e9.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),e9.tested=!0,e9.writable=!0}catch(e){e9.tested=!0,e9.writable=!1}return e9.writable},te=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=(...e)=>Promise.resolve().then(r.bind(r,37833)).then(({default:t})=>t(...e)):t=fetch,(...e)=>t(...e)},tt=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,tr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},tn=async(e,t)=>{let r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},ti=async(e,t)=>{await e.removeItem(t)};class ts{constructor(){this.promise=new ts.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function to(e){let t=e.split(".");if(3!==t.length)throw new e1("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!eB.test(t[e]))throw new e1("JWT not in base64url format");return{header:JSON.parse(e8(t[0])),payload:JSON.parse(e8(t[1])),signature:function(e){let t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)e5(e.charCodeAt(t),r,n);return new Uint8Array(t)}(t[2]),raw:{header:t[0],payload:t[1]}}}async function ta(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tl(e){return("0"+e.toString(16)).substr(-2)}async function tu(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join("")}async function tc(e){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder?btoa(await tu(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e)}async function td(e,t,r=!1){let n=function(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,tl).join("")}(),i=n;r&&(i+="/PASSWORD_RECOVERY"),await tr(e,`${t}-code-verifier`,i);let s=await tc(n),o=n===s?"plain":"s256";return[s,o]}ts.promiseConstructor=Promise;let th=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var tf=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let tp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tg=[502,503,504];async function tm(e){var t;let r,n;if(!tt(e))throw new eZ(tp(e),0);if(tg.includes(e.status))throw new eZ(tp(e),e.status);try{r=await e.json()}catch(e){throw new ez(tp(e),e)}let i=function(e){let t=e.headers.get(eF);if(!t||!t.match(th))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(i&&i.getTime()>=eU["2024-01-01"].timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?n=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(n=r.error_code),n){if("weak_password"===n)throw new e0(tp(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===n)throw new eJ}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new e0(tp(r),e.status,r.weak_password.reasons);throw new eq(tp(r),e.status||500,n)}let tv=(e,t,r,n)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function t_(e,t,r,n){var i;let s=Object.assign({},null==n?void 0:n.headers);s[eF]||(s[eF]=eU["2024-01-01"].name),(null==n?void 0:n.jwt)&&(s.Authorization=`Bearer ${n.jwt}`);let o=null!==(i=null==n?void 0:n.query)&&void 0!==i?i:{};(null==n?void 0:n.redirectTo)&&(o.redirect_to=n.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ty(e,t,r+a,{headers:s,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function ty(e,t,r,n,i,s){let o;let a=tv(t,n,i,s);try{o=await e(r,Object.assign({},a))}catch(e){throw console.error(e),new eZ(tp(e),0)}if(o.ok||await tm(o),null==n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(e){await tm(e)}}function tb(e){var t,r;let n=null;return e.access_token&&e.refresh_token&&e.expires_in&&(n=Object.assign({},e),!e.expires_at)&&(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)),{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function tw(e){let t=tb(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function tS(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function tk(e){return{data:e,error:null}}function tE(e){let{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e;return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},user:Object.assign({},tf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function tx(e){return e}var tT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class tC{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=te(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await t_(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(eH(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await t_(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:tS})}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,r=tT(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await t_(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:tE,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(eH(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await t_(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tS})}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,n,i,s,o,a;try{let l={nextPage:null,lastPage:0,total:0},u=await t_(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(i=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==i?i:""},xform:tx});if(u.error)throw u.error;let c=await u.json(),d=null!==(s=u.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(a=null===(o=u.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(eH(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){try{return await t_(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tS})}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){try{return await t_(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:tS})}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){try{return await t_(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:tS})}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){try{let{data:t,error:r}=await t_(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(eH(e))return{data:null,error:e};throw e}}async _deleteFactor(e){try{return{data:await t_(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(eH(e))return{data:null,error:e};throw e}}}let tI={getItem:e=>e7()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{e7()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{e7()&&globalThis.localStorage.removeItem(e)}};function tO(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}let tR={debug:!!(globalThis&&e7()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class tA extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tP extends tA{}async function tM(e,t,r){tR.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),tR.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(n){tR.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{tR.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(0===t)throw tR.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tR.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();let tL={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function t$(e,t,r){return await r()}class tN{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tN.nextInstanceID,tN.nextInstanceID+=1,this.instanceID>0&&e6()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let n=Object.assign(Object.assign({},tL),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new tC({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=te(n.fetch),this.lock=n.lock||t$,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:e6()&&(null===(t=null==globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=tM:this.lock=t$,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:e7()?this.storage=tI:(this.memoryStorage={},this.storage=tO(this.memoryStorage)):(this.memoryStorage={},this.storage=tO(this.memoryStorage)),e6()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ej}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t=function(e){let t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(e){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),e6()&&this.detectSessionInUrl&&"none"!==r){let{data:n,error:i}=await this._getSessionFromURL(t,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),eH(i)&&"AuthImplicitGrantRedirectError"===i.name){let t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}let{session:s,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(eH(e))return{error:e};return{error:new ez("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{let{data:i,error:s}=await t_(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:tb});if(s||!i)return{data:{user:null,session:null},error:s};let o=i.session,a=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:a,session:o},error:null}}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}}async signUp(e){var t,r,n;try{let i;if("email"in e){let{email:r,password:n,options:s}=e,o=null,a=null;"pkce"===this.flowType&&([o,a]=await td(this.storage,this.storageKey)),i=await t_(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:a},xform:tb})}else if("phone"in e){let{phone:t,password:s,options:o}=e;i=await t_(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null==o?void 0:o.data)&&void 0!==r?r:{},channel:null!==(n=null==o?void 0:o.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:tb})}else throw new eV("You must provide either an email or phone number and a password");let{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};let a=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if("email"in e){let{email:r,password:n,options:i}=e;t=await t_(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:tw})}else if("phone"in e){let{phone:r,password:n,options:i}=e;t=await t_(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:tw})}else throw new eV("You must provide either an email or phone number and a password");let{data:r,error:n}=t;if(n)return{data:{user:null,session:null},error:n};if(!r||!r.session||!r.user)return{data:{user:null,session:null},error:new eX};return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let t=await tn(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/");try{let{data:t,error:i}=await t_(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:tb});if(await ti(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!t||!t.session||!t.user)return{data:{user:null,session:null,redirectType:null},error:new eX};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=n?n:null}),error:i}}catch(e){if(eH(e))return{data:{user:null,session:null,redirectType:null},error:e};throw e}}async signInWithIdToken(e){try{let{options:t,provider:r,token:n,access_token:i,nonce:s}=e,{data:o,error:a}=await t_(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:tb});if(a)return{data:{user:null,session:null},error:a};if(!o||!o.session||!o.user)return{data:{user:null,session:null},error:new eX};return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:a}}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,r,n,i,s;try{if("email"in e){let{email:n,options:i}=e,s=null,o=null;"pkce"===this.flowType&&([s,o]=await td(this.storage,this.storageKey));let{error:a}=await t_(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(r=null==i?void 0:i.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){let{phone:t,options:r}=e,{data:o,error:a}=await t_(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(i=null==r?void 0:r.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(s=null==r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new eV("You must provide either an email or phone number.")}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,r;try{let n,i;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(r=e.options)||void 0===r?void 0:r.captchaToken);let{data:s,error:o}=await t_(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:tb});if(o)throw o;if(!s)throw Error("An error occurred on token verification.");let a=s.session,l=s.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,r,n;try{let i=null,s=null;return"pkce"===this.flowType&&([i,s]=await td(this.storage,this.storageKey)),await t_(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:tk})}catch(e){if(eH(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new eJ;let{error:n}=await t_(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:r,type:n,options:i}=e,{error:s}=await t_(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){let{phone:r,type:n,options:i}=e,{data:s,error:o}=await t_(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o}}throw new eV("You must provide either an email or phone number and a type")}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let e=null,t=await tn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let r=!!e.expires_at&&1e3*e.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}let{session:n,error:i}=await this._callRefreshToken(e.refresh_token);if(i)return{data:{session:null},error:i};return{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{if(e)return await t_(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tS});return await this._useSession(async e=>{var t,r,n;let{data:i,error:s}=e;if(s)throw s;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await t_(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:tS}):{data:{user:null},error:new eJ}})}catch(e){if(eH(e))return eH(e)&&"AuthSessionMissingError"===e.name&&(await this._removeSession(),await ti(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{let{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new eJ;let s=n.session,o=null,a=null;"pkce"===this.flowType&&null!=e.email&&([o,a]=await td(this.storage,this.storageKey));let{data:l,error:u}=await t_(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:s.access_token,xform:tS});if(u)throw u;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(e){if(eH(e))return{data:{user:null},error:e};throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new eJ;let t=Date.now()/1e3,r=t,n=!0,i=null,{payload:s}=to(e.access_token);if(s.exp&&(n=(r=s.exp)<=t),n){let{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:n,error:s}=await this._getUser(e.access_token);if(s)throw s;i={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(e){if(eH(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){let{data:n,error:i}=t;if(i)throw i;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new eJ;let{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(eH(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e,t){try{if(!e6())throw new eK("No browser detected.");if(e.error||e.error_description||e.error_code)throw new eK(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new eY("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new eK("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new eY("No code detected.");let{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;let n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:s,expires_in:o,expires_at:a,token_type:l}=e;if(!i||!o||!s||!l)throw new eK("No session defined in URL");let u=Math.round(Date.now()/1e3),c=parseInt(o),d=u+c;a&&(d=parseInt(a));let h=d-u;1e3*h<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${c}s`);let f=d-c;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,u);let{data:p,error:g}=await this._getUser(i);if(g)throw g;let m={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:c,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(e){if(eH(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await tn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;let{data:n,error:i}=t;if(i)return{error:i};let s=null===(r=n.session)||void 0===r?void 0:r.access_token;if(s){let{error:t}=await this.admin.signOut(s,e);if(t&&!(eH(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status||403===t.status)))return{error:t}}return"others"!==e&&(await this._removeSession(),await ti(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{let{data:{session:n},error:i}=t;if(i)throw i;await (null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(t){await (null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=await td(this.storage,this.storageKey,!0));try{return await t_(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(eH(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{let{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(e){if(eH(e))return{data:null,error:e};throw e}}async linkIdentity(e){var t;try{let{data:r,error:n}=await this._useSession(async t=>{var r,n,i,s,o;let{data:a,error:l}=t;if(l)throw l;let u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await t_(this.fetch,"GET",u,{headers:this.headers,jwt:null!==(o=null===(s=a.session)||void 0===s?void 0:s.access_token)&&void 0!==o?o:void 0})});if(n)throw n;return!e6()||(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)||window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(t){if(eH(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;let{data:i,error:s}=t;if(s)throw s;return await t_(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(e){if(eH(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var r,n;let i=Date.now();return await (r=async r=>(r>0&&await ta(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await t_(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tb})),n=(e,t)=>{let r=200*Math.pow(2,e);return t&&eQ(t)&&Date.now()+r-i<3e4},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{let t=await r(i);if(!n(i,null,t)){e(t);return}}catch(e){if(!n(i,e)){t(e);return}}})()}))}catch(e){if(this._debug(t,"error",e),eH(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),e6()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;let t="#_recoverAndRefresh()";this._debug(t,"begin");try{let r=await tn(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),null!==r&&await this._removeSession();return}let n=(null!==(e=r.expires_at)&&void 0!==e?e:1/0)*1e3-Date.now()<9e4;if(this._debug(t,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&r.refresh_token){let{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),eQ(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(e){this._debug(t,"error",e),console.error(e);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new eJ;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ts;let{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new eJ;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(e){if(this._debug(n,"error",e),eH(e)){let r={session:null,error:e};return eQ(e)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(r),r}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){let n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});let n=[],i=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(e){n.push(e)}});if(await Promise.all(i),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tr(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ti(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&e6()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let n=Math.floor((1e3*r.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tA)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!e6()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if("visible"!==document.visibilityState){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){let n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){let[e,t]=await td(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){let e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;return i?{data:null,error:i}:await t_(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(e){if(eH(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;let{data:i,error:s}=t;if(s)return{data:null,error:s};let o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=await t_(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null==a?void 0:a.totp)||void 0===n?void 0:n.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(e){if(eH(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;if(i)return{data:null,error:i};let{data:s,error:o}=await t_(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(e){if(eH(e))return{data:null,error:e};throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;return i?{data:null,error:i}:await t_(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(e){if(eH(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(e){let{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let r=(null==e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),i=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;let{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=to(n.access_token),o=null;s.aal&&(o=s.aal);let a=o;return(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(a="aal2"),{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r||(r=this.jwks.keys.find(t=>t.kid===e))&&this.jwks_cached_at+6e5>Date.now())return r;let{data:n,error:i}=await t_(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||0===n.keys.length)throw new e1("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),!(r=n.keys.find(t=>t.kid===e)))throw new e1("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){let{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}let{header:n,payload:i,signature:s,raw:{header:o,payload:a}}=to(r);if(!function(e){if(!e)throw Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(i.exp),!n.kid||"HS256"===n.alg||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:i,header:n,signature:s},error:null}}let l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(n.alg),u=await this.fetchJwk(n.kid,t),c=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,c,s,function(e){let t=[];return!function(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){let t=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|t)+65536,r+=1}!function(e,t){if(e<=127){t(e);return}if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(n,t)}}(e,e=>t.push(e)),new Uint8Array(t)}(`${o}.${a}`)))throw new e1("Invalid JWT signature");return{data:{claims:i,header:n,signature:s},error:null}}catch(e){if(eH(e))return{data:null,error:e};throw e}}}tN.nextInstanceID=0;var tj=tN;class tD extends tj{constructor(e){super(e)}}class tF{constructor(e,t,r){var n,i,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw Error("supabaseUrl is required.");if(!t)throw Error("supabaseKey is required.");let o=new URL(e.endsWith("/")?e:e+"/");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let a=`sb-${o.hostname.split(".")[0]}-auth-token`,l=function(e,t){var r,n;let{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!==(r=null==d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null==a?void 0:a.headers)&&void 0!==n?n:{})}),accessToken:()=>{var e,t,r,n;return e=this,t=void 0,n=function*(){return""},new(r=void 0,r=Promise)(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})}};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=r?r:{},{db:eR,realtime:eP,auth:Object.assign(Object.assign({},eA),{storageKey:a}),global:eO});this.storageKey=null!==(n=l.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(i=l.global.headers)&&void 0!==i?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=l.auth)&&void 0!==s?s:{},this.headers,l.global.fetch),this.fetch=eN(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new c(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new u(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eC(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,r,n,i,s;return r=this,n=void 0,i=void 0,s=function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null},new(i||(i=Promise))(function(e,t){function o(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(o,a)}l((s=s.apply(r,n||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:i,flowType:s,lock:o,debug:a},l,u){let c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tD({url:this.authUrl.href,headers:Object.assign(Object.assign({},c),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,flowType:s,lock:o,debug:a,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new $(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==r?this.changedAccessToken=r:"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}}let tU=(e,t,r)=>new tF(e,t,r);var tB=r(20284);function tW(){return"undefined"!=typeof window&&void 0!==window.document}let tH={path:"/",sameSite:"lax",httpOnly:!1,maxAge:3456e4},tq=/^(.*)[.](0|[1-9][0-9]*)$/;function tz(e,t){if(e===t)return!0;let r=e.match(tq);return!!r&&r[1]===t}function tG(e,t,r){let n=r??3180,i=encodeURIComponent(t);if(i.length<=n)return[{name:e,value:t}];let s=[];for(;i.length>0;){let e=i.slice(0,n),t=e.lastIndexOf("%");t>n-3&&(e=e.slice(0,t));let r="";for(;e.length>0;)try{r=decodeURIComponent(e);break}catch(t){if(t instanceof URIError&&"%"===e.at(-3)&&e.length>3)e=e.slice(0,e.length-3);else throw t}s.push(r),i=i.slice(e.length)}return s.map((t,r)=>({name:`${e}.${r}`,value:t}))}async function tJ(e,t){let r=await t(e);if(r)return r;let n=[];for(let r=0;;r++){let i=`${e}.${r}`,s=await t(i);if(!s)break;n.push(s)}return n.length>0?n.join(""):null}let tX="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tV=" 	\n\r=".split(""),tK=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tV.length;t+=1)e[tV[t].charCodeAt(0)]=-2;for(let t=0;t<tX.length;t+=1)e[tX[t].charCodeAt(0)]=t;return e})();function tY(e){let t=[],r=0,n=0;if(function(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){let t=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|t)+65536,r+=1}!function(e,t){if(e<=127){t(e);return}if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(n,t)}}(e,e=>{for(r=r<<8|e,n+=8;n>=6;){let e=r>>n-6&63;t.push(tX[e]),n-=6}}),n>0)for(r<<=6-n,n=6;n>=6;){let e=r>>n-6&63;t.push(tX[e]),n-=6}return t.join("")}function tZ(e){let t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},i=0,s=0;for(let t=0;t<e.length;t+=1){let o=tK[e.charCodeAt(t)];if(o>-1)for(i=i<<6|o,s+=6;s>=8;)(function(e,t,r){if(0===t.utf8seq){if(e<=127){r(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)==0){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}})(i>>s-8&255,n,r),s-=8;else if(-2===o)continue;else throw Error(`Invalid Base64-URL character "${e.at(t)}" at position ${t}`)}return t.join("")}let tQ="base64-";async function t0({getAll:e,setAll:t,setItems:r,removedItems:n},i){let s=i.cookieEncoding,o=i.cookieOptions??null,a=await e([...r?Object.keys(r):[],...n?Object.keys(n):[]]),l=a?.map(({name:e})=>e)||[],u=Object.keys(n).flatMap(e=>l.filter(t=>tz(t,e))),c=Object.keys(r).flatMap(e=>{let t=new Set(l.filter(t=>tz(t,e))),n=r[e];"base64url"===s&&(n=tQ+tY(n));let i=tG(e,n);return i.forEach(e=>{t.delete(e.name)}),u.push(...t),i}),d={...tH,...o,maxAge:0},h={...tH,...o,maxAge:tH.maxAge};delete d.name,delete h.name,await t([...u.map(e=>({name:e,value:"",options:d})),...c.map(({name:e,value:t})=>({name:e,value:t,options:h}))])}function t1(){return function(e,t,r){let i=tW();if(i&&n)return n;if(!e||!t)throw Error(`@supabase/ssr: Your project's URL and API key are required to create a Supabase client!

Check your Supabase project's API settings to find these values

https://supabase.com/dashboard/project/_/settings/api`);let{storage:s}=function(e,t){let r,n;let i=e.cookies??null,s=e.cookieEncoding,o={},a={};if(i){if("get"in i){let e=async e=>{let t=e.flatMap(e=>[e,...Array.from({length:5}).map((t,r)=>`${e}.${r}`)]),r=[];for(let e=0;e<t.length;e+=1){let n=await i.get(t[e]);(n||"string"==typeof n)&&r.push({name:t[e],value:n})}return r};if(r=async t=>await e(t),"set"in i&&"remove"in i)n=async e=>{for(let t=0;t<e.length;t+=1){let{name:r,value:n,options:s}=e[t];n?await i.set(r,n,s):await i.remove(r,s)}};else if(t)n=async()=>{console.warn("@supabase/ssr: createServerClient was configured without set and remove cookie methods, but the client needs to set cookies. This can lead to issues such as random logouts, early session termination or increased token refresh requests. If in NextJS, check your middleware.ts file, route handlers and server actions for correctness. Consider switching to the getAll and setAll cookie methods instead of get, set and remove which are deprecated and can be difficult to use correctly.")};else throw Error("@supabase/ssr: createBrowserClient requires configuring a getAll and setAll cookie method (deprecated: alternatively both get, set and remove can be used)")}else if("getAll"in i){if(r=async()=>await i.getAll(),"setAll"in i)n=i.setAll;else if(t)n=async()=>{console.warn("@supabase/ssr: createServerClient was configured without the setAll cookie method, but the client needs to set cookies. This can lead to issues such as random logouts, early session termination or increased token refresh requests. If in NextJS, check your middleware.ts file, route handlers and server actions for correctness.")};else throw Error("@supabase/ssr: createBrowserClient requires configuring both getAll and setAll cookie methods (deprecated: alternatively both get, set and remove can be used)")}else throw Error(`@supabase/ssr: ${t?"createServerClient":"createBrowserClient"} requires configuring getAll and setAll cookie methods (deprecated: alternatively use get, set and remove).${tW()?" As this is called in a browser runtime, consider removing the cookies option object to use the document.cookie API automatically.":""}`)}else if(!t&&tW()){let e=()=>{let e=(0,tB.Qc)(document.cookie);return Object.keys(e).map(t=>({name:t,value:e[t]??""}))};r=()=>e(),n=e=>{e.forEach(({name:e,value:t,options:r})=>{document.cookie=(0,tB.qC)(e,t,r)})}}else if(t)throw Error("@supabase/ssr: createServerClient must be initialized with cookie options that specify getAll and setAll functions (deprecated, not recommended: alternatively use get, set and remove)");else r=()=>[],n=()=>{throw Error("@supabase/ssr: createBrowserClient in non-browser runtimes (including Next.js pre-rendering mode) was not initialized cookie options that specify getAll and setAll functions (deprecated: alternatively use get, set and remove), but they were needed")};return t?{getAll:r,setAll:n,setItems:o,removedItems:a,storage:{isServer:!0,getItem:async e=>{if("string"==typeof o[e])return o[e];if(a[e])return null;let t=await r([e]),n=await tJ(e,async e=>{let r=t?.find(({name:t})=>t===e)||null;return r?r.value:null});if(!n)return null;let i=n;return"string"==typeof n&&n.startsWith(tQ)&&(i=tZ(n.substring(tQ.length))),i},setItem:async(t,i)=>{t.endsWith("-code-verifier")&&await t0({getAll:r,setAll:n,setItems:{[t]:i},removedItems:{}},{cookieOptions:e?.cookieOptions??null,cookieEncoding:s}),o[t]=i,delete a[t]},removeItem:async e=>{delete o[e],a[e]=!0}}}:{getAll:r,setAll:n,setItems:o,removedItems:a,storage:{isServer:!1,getItem:async e=>{let t=await r([e]),n=await tJ(e,async e=>{let r=t?.find(({name:t})=>t===e)||null;return r?r.value:null});if(!n)return null;let i=n;return n.startsWith(tQ)&&(i=tZ(n.substring(tQ.length))),i},setItem:async(t,i)=>{let o=await r([t]),a=new Set((o?.map(({name:e})=>e)||[]).filter(e=>tz(e,t))),l=i;"base64url"===s&&(l=tQ+tY(i));let u=tG(t,l);u.forEach(({name:e})=>{a.delete(e)});let c={...tH,...e?.cookieOptions,maxAge:0},d={...tH,...e?.cookieOptions,maxAge:tH.maxAge};delete c.name,delete d.name;let h=[...[...a].map(e=>({name:e,value:"",options:c})),...u.map(({name:e,value:t})=>({name:e,value:t,options:d}))];h.length>0&&await n(h)},removeItem:async t=>{let i=await r([t]),s=(i?.map(({name:e})=>e)||[]).filter(e=>tz(e,t)),o={...tH,...e?.cookieOptions,maxAge:0};delete o.name,s.length>0&&await n(s.map(e=>({name:e,value:"",options:o})))}}}}({cookieEncoding:r?.cookieEncoding??"base64url"},!1),o=tU(e,t,{...r,global:{...r?.global,headers:{...r?.global?.headers,"X-Client-Info":"supabase-ssr/0.6.1 createBrowserClient"}},auth:{...r?.auth,...r?.cookieOptions?.name?{storageKey:r.cookieOptions.name}:null,flowType:"pkce",autoRefreshToken:tW(),detectSessionInUrl:tW(),persistSession:!0,storage:s}});return i&&(n=o),o}("https://app.magicloops.dev","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVqbmhib2t3ZGhvdmV4ZnNubHViIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODk4MTI4NDMsImV4cCI6MjAwNTM4ODg0M30.VKOKfp-85sDu73jhKY6Lo2vV6-96pnSpLSKB_31jHbY")}},62849:function(e,t,r){"use strict";function n(e,t){if(e&&e.trim().length>0){let t=e.trim().split(/\s+/),r=t[0][0],n=t[t.length-1][0];return"".concat(r).concat(n).toUpperCase()}return t?t.slice(0,2).toUpperCase():""}r.d(t,{Qm:function(){return n},c4:function(){return s},vE:function(){return i}});let i=e=>{var t,r;return!!e&&(!!((null===(t=e.user_metadata)||void 0===t?void 0:t.email_verified)||(null===(r=e.amr)||void 0===r?void 0:r.some(e=>(null==e?void 0:e.method)==="magiclink")))||!!e.phone_confirmed_at||!!e.email_confirmed_at||!!e.confirmed_at)},s=["de17c230-0fb3-4405-8512-388638a00d43","696615aa-c8f1-4c74-99a5-6cb4692e58b6","dc9a783d-affc-4eca-9007-6f2071f9a858","92d6ae19-8331-4b9c-9a29-3539997b156f","e9b03571-9341-47c4-ac21-c8a06fe44a78","7004bf2c-dede-42f4-8554-e1f745116648","9def0cfe-3928-4783-b02f-714d265a814a","d4a8834a-2933-41ea-b67a-694b5f80636e","b151da6c-50c9-45aa-ab11-40ac676f7106","1af82e74-075b-49a2-b997-afc5f5975413","38dd2cff-aaf1-485c-b030-0cb3779b73aa"]},23434:function(){},66202:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=s(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=s(t,r));return t}(r)))}return e}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0!==(r=(function(){return i}).apply(t,[]))&&(e.exports=r)}()},31034:function(e,t,r){"use strict";r.d(t,{x7:function(){return eh},Me:function(){return eo},oo:function(){return ep},RR:function(){return eu},Cp:function(){return ed},dr:function(){return ef},cv:function(){return ea},uY:function(){return el},dp:function(){return ec}});let n=["top","right","bottom","left"],i=Math.min,s=Math.max,o=Math.round,a=Math.floor,l=e=>({x:e,y:e}),u={left:"right",right:"left",bottom:"top",top:"bottom"},c={start:"end",end:"start"};function d(e,t){return"function"==typeof e?e(t):e}function h(e){return e.split("-")[0]}function f(e){return e.split("-")[1]}function p(e){return"x"===e?"y":"x"}function g(e){return"y"===e?"height":"width"}function m(e){return["top","bottom"].includes(h(e))?"y":"x"}function v(e){return e.replace(/start|end/g,e=>c[e])}function _(e){return e.replace(/left|right|bottom|top/g,e=>u[e])}function y(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function b(e){let{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function w(e,t,r){let n,{reference:i,floating:s}=e,o=m(t),a=p(m(t)),l=g(a),u=h(t),c="y"===o,d=i.x+i.width/2-s.width/2,v=i.y+i.height/2-s.height/2,_=i[l]/2-s[l]/2;switch(u){case"top":n={x:d,y:i.y-s.height};break;case"bottom":n={x:d,y:i.y+i.height};break;case"right":n={x:i.x+i.width,y:v};break;case"left":n={x:i.x-s.width,y:v};break;default:n={x:i.x,y:i.y}}switch(f(t)){case"start":n[a]-=_*(r&&c?-1:1);break;case"end":n[a]+=_*(r&&c?-1:1)}return n}let S=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await (null==o.isRTL?void 0:o.isRTL(t)),u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=w(u,n,l),h=n,f={},p=0;for(let r=0;r<a.length;r++){let{name:s,fn:g}=a[r],{x:m,y:v,data:_,reset:y}=await g({x:c,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:f,rects:u,platform:o,elements:{reference:e,floating:t}});c=null!=m?m:c,d=null!=v?v:d,f={...f,[s]:{...f[s],..._}},y&&p<=50&&(p++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(u=!0===y.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:c,y:d}=w(u,h,l)),r=-1)}return{x:c,y:d,placement:h,strategy:i,middlewareData:f}};async function k(e,t){var r;void 0===t&&(t={});let{x:n,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=d(t,e),g=y(p),m=a[f?"floating"===h?"reference":"floating":h],v=b(await s.getClippingRect({element:null==(r=await (null==s.isElement?void 0:s.isElement(m)))||r?m:m.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),_="floating"===h?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await (null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),S=await (null==s.isElement?void 0:s.isElement(w))&&await (null==s.getScale?void 0:s.getScale(w))||{x:1,y:1},k=b(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:w,strategy:l}):_);return{top:(v.top-k.top+g.top)/S.y,bottom:(k.bottom-v.bottom+g.bottom)/S.y,left:(v.left-k.left+g.left)/S.x,right:(k.right-v.right+g.right)/S.x}}function E(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function x(e){return n.some(t=>e[t]>=0)}async function T(e,t){let{placement:r,platform:n,elements:i}=e,s=await (null==n.isRTL?void 0:n.isRTL(i.floating)),o=h(r),a=f(r),l="y"===m(r),u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,p=d(t,e),{mainAxis:g,crossAxis:v,alignmentAxis:_}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&"number"==typeof _&&(v="end"===a?-1*_:_),l?{x:v*c,y:g*u}:{x:g*u,y:v*c}}function C(){return"undefined"!=typeof window}function I(e){return A(e)?(e.nodeName||"").toLowerCase():"#document"}function O(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function R(e){var t;return null==(t=(A(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function A(e){return!!C()&&(e instanceof Node||e instanceof O(e).Node)}function P(e){return!!C()&&(e instanceof Element||e instanceof O(e).Element)}function M(e){return!!C()&&(e instanceof HTMLElement||e instanceof O(e).HTMLElement)}function L(e){return!!C()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof O(e).ShadowRoot)}function $(e){let{overflow:t,overflowX:r,overflowY:n,display:i}=U(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function N(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(e){return!1}})}function j(e){let t=D(),r=P(e)?U(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(r.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(r.contain||"").includes(e))}function D(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function F(e){return["html","body","#document"].includes(I(e))}function U(e){return O(e).getComputedStyle(e)}function B(e){return P(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function W(e){if("html"===I(e))return e;let t=e.assignedSlot||e.parentNode||L(e)&&e.host||R(e);return L(t)?t.host:t}function H(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let i=function e(t){let r=W(t);return F(r)?t.ownerDocument?t.ownerDocument.body:t.body:M(r)&&$(r)?r:e(r)}(e),s=i===(null==(n=e.ownerDocument)?void 0:n.body),o=O(i);if(s){let e=q(o);return t.concat(o,o.visualViewport||[],$(i)?i:[],e&&r?H(e):[])}return t.concat(i,H(i,[],r))}function q(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function z(e){let t=U(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=M(e),s=i?e.offsetWidth:r,a=i?e.offsetHeight:n,l=o(r)!==s||o(n)!==a;return l&&(r=s,n=a),{width:r,height:n,$:l}}function G(e){return P(e)?e:e.contextElement}function J(e){let t=G(e);if(!M(t))return l(1);let r=t.getBoundingClientRect(),{width:n,height:i,$:s}=z(t),a=(s?o(r.width):r.width)/n,u=(s?o(r.height):r.height)/i;return a&&Number.isFinite(a)||(a=1),u&&Number.isFinite(u)||(u=1),{x:a,y:u}}let X=l(0);function V(e){let t=O(e);return D()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:X}function K(e,t,r,n){var i;void 0===t&&(t=!1),void 0===r&&(r=!1);let s=e.getBoundingClientRect(),o=G(e),a=l(1);t&&(n?P(n)&&(a=J(n)):a=J(e));let u=(void 0===(i=r)&&(i=!1),n&&(!i||n===O(o))&&i)?V(o):l(0),c=(s.left+u.x)/a.x,d=(s.top+u.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(o){let e=O(o),t=n&&P(n)?O(n):n,r=e,i=q(r);for(;i&&n&&t!==r;){let e=J(i),t=i.getBoundingClientRect(),n=U(i),s=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;c*=e.x,d*=e.y,h*=e.x,f*=e.y,c+=s,d+=o,i=q(r=O(i))}}return b({width:h,height:f,x:c,y:d})}function Y(e,t){let r=B(e).scrollLeft;return t?t.left+r:K(R(e)).left+r}function Z(e,t,r){void 0===r&&(r=!1);let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:Y(e,n)),y:n.top+t.scrollTop}}function Q(e,t,r){let n;if("viewport"===t)n=function(e,t){let r=O(e),n=R(e),i=r.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;let e=D();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}(e,r);else if("document"===t)n=function(e){let t=R(e),r=B(e),n=e.ownerDocument.body,i=s(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=s(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+Y(e),l=-r.scrollTop;return"rtl"===U(n).direction&&(a+=s(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:l}}(R(e));else if(P(t))n=function(e,t){let r=K(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=M(e)?J(e):l(1),o=e.clientWidth*s.x;return{width:o,height:e.clientHeight*s.y,x:i*s.x,y:n*s.y}}(t,r);else{let r=V(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return b(n)}function ee(e){return"static"===U(e).position}function et(e,t){if(!M(e)||"fixed"===U(e).position)return null;if(t)return t(e);let r=e.offsetParent;return R(e)===r&&(r=r.ownerDocument.body),r}function er(e,t){let r=O(e);if(N(e))return r;if(!M(e)){let t=W(e);for(;t&&!F(t);){if(P(t)&&!ee(t))return t;t=W(t)}return r}let n=et(e,t);for(;n&&["table","td","th"].includes(I(n))&&ee(n);)n=et(n,t);return n&&F(n)&&ee(n)&&!j(n)?r:n||function(e){let t=W(e);for(;M(t)&&!F(t);){if(j(t))return t;if(N(t))break;t=W(t)}return null}(e)||r}let en=async function(e){let t=this.getOffsetParent||er,r=this.getDimensions,n=await r(e.floating);return{reference:function(e,t,r){let n=M(t),i=R(t),s="fixed"===r,o=K(e,!0,s,t),a={scrollLeft:0,scrollTop:0},u=l(0);if(n||!n&&!s){if(("body"!==I(t)||$(i))&&(a=B(t)),n){let e=K(t,!0,s,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else i&&(u.x=Y(i))}s&&!n&&i&&(u.x=Y(i));let c=!i||n||s?l(0):Z(i,a);return{x:o.left+a.scrollLeft-u.x-c.x,y:o.top+a.scrollTop-u.y-c.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},ei={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e,s="fixed"===i,o=R(n),a=!!t&&N(t.floating);if(n===o||a&&s)return r;let u={scrollLeft:0,scrollTop:0},c=l(1),d=l(0),h=M(n);if((h||!h&&!s)&&(("body"!==I(n)||$(o))&&(u=B(n)),M(n))){let e=K(n);c=J(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}let f=!o||h||s?l(0):Z(o,u,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-u.scrollLeft*c.x+d.x+f.x,y:r.y*c.y-u.scrollTop*c.y+d.y+f.y}},getDocumentElement:R,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e,a=[..."clippingAncestors"===r?N(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let n=H(e,[],!1).filter(e=>P(e)&&"body"!==I(e)),i=null,s="fixed"===U(e).position,o=s?W(e):e;for(;P(o)&&!F(o);){let t=U(o),r=j(o);r||"fixed"!==t.position||(i=null),(s?!r&&!i:!r&&"static"===t.position&&!!i&&["absolute","fixed"].includes(i.position)||$(o)&&!r&&function e(t,r){let n=W(t);return!(n===r||!P(n)||F(n))&&("fixed"===U(n).position||e(n,r))}(e,o))?n=n.filter(e=>e!==o):i=t,o=W(o)}return t.set(e,n),n}(t,this._c):[].concat(r),n],l=a[0],u=a.reduce((e,r)=>{let n=Q(t,r,o);return e.top=s(n.top,e.top),e.right=i(n.right,e.right),e.bottom=i(n.bottom,e.bottom),e.left=s(n.left,e.left),e},Q(t,l,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:er,getElementRects:en,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=z(e);return{width:t,height:r}},getScale:J,isElement:P,isRTL:function(e){return"rtl"===U(e).direction}};function es(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eo(e,t,r,n){let o;void 0===n&&(n={});let{ancestorScroll:l=!0,ancestorResize:u=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:d="function"==typeof IntersectionObserver,animationFrame:h=!1}=n,f=G(e),p=l||u?[...f?H(f):[],...H(t)]:[];p.forEach(e=>{l&&e.addEventListener("scroll",r,{passive:!0}),u&&e.addEventListener("resize",r)});let g=f&&d?function(e,t){let r,n=null,o=R(e);function l(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function u(c,d){void 0===c&&(c=!1),void 0===d&&(d=1),l();let h=e.getBoundingClientRect(),{left:f,top:p,width:g,height:m}=h;if(c||t(),!g||!m)return;let v=a(p),_=a(o.clientWidth-(f+g)),y={rootMargin:-v+"px "+-_+"px "+-a(o.clientHeight-(p+m))+"px "+-a(f)+"px",threshold:s(0,i(1,d))||1},b=!0;function w(t){let n=t[0].intersectionRatio;if(n!==d){if(!b)return u();n?u(!1,n):r=setTimeout(()=>{u(!1,1e-7)},1e3)}1!==n||es(h,e.getBoundingClientRect())||u(),b=!1}try{n=new IntersectionObserver(w,{...y,root:o.ownerDocument})}catch(e){n=new IntersectionObserver(w,y)}n.observe(e)}(!0),l}(f,r):null,m=-1,v=null;c&&(v=new ResizeObserver(e=>{let[n]=e;n&&n.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var e;null==(e=v)||e.observe(t)})),r()}),f&&!h&&v.observe(f),v.observe(t));let _=h?K(e):null;return h&&function t(){let n=K(e);_&&!es(_,n)&&r(),_=n,o=requestAnimationFrame(t)}(),r(),()=>{var e;p.forEach(e=>{l&&e.removeEventListener("scroll",r),u&&e.removeEventListener("resize",r)}),null==g||g(),null==(e=v)||e.disconnect(),v=null,h&&cancelAnimationFrame(o)}}let ea=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;let{x:i,y:s,placement:o,middlewareData:a}=t,l=await T(t,e);return o===(null==(r=a.offset)?void 0:r.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},el=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...c}=d(e,t),f={x:r,y:n},g=await k(t,c),v=m(h(o)),_=p(v),y=f[_],b=f[v];if(a){let e="y"===_?"top":"left",t="y"===_?"bottom":"right",r=y+g[e],n=y-g[t];y=s(r,i(y,n))}if(l){let e="y"===v?"top":"left",t="y"===v?"bottom":"right",r=b+g[e],n=b-g[t];b=s(r,i(b,n))}let w=u.fn({...t,[_]:y,[v]:b});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[_]:a,[v]:l}}}}}},eu=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n,i,s,o,a;let{placement:l,middlewareData:u,rects:c,initialPlacement:y,platform:b,elements:w}=t,{mainAxis:S=!0,crossAxis:E=!0,fallbackPlacements:x,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:I=!0,...O}=d(e,t);if(null!=(r=u.arrow)&&r.alignmentOffset)return{};let R=h(l),A=m(y),P=h(y)===y,M=await (null==b.isRTL?void 0:b.isRTL(w.floating)),L=x||(P||!I?[_(y)]:function(e){let t=_(e);return[v(e),t,v(t)]}(y)),$="none"!==C;!x&&$&&L.push(...function(e,t,r,n){let i=f(e),s=function(e,t,r){let n=["left","right"],i=["right","left"];switch(e){case"top":case"bottom":if(r)return t?i:n;return t?n:i;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(h(e),"start"===r,n);return i&&(s=s.map(e=>e+"-"+i),t&&(s=s.concat(s.map(v)))),s}(y,I,C,M));let N=[y,...L],j=await k(t,O),D=[],F=(null==(n=u.flip)?void 0:n.overflows)||[];if(S&&D.push(j[R]),E){let e=function(e,t,r){void 0===r&&(r=!1);let n=f(e),i=p(m(e)),s=g(i),o="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=_(o)),[o,_(o)]}(l,c,M);D.push(j[e[0]],j[e[1]])}if(F=[...F,{placement:l,overflows:D}],!D.every(e=>e<=0)){let e=((null==(i=u.flip)?void 0:i.index)||0)+1,t=N[e];if(t){let r="alignment"===E&&A!==m(t),n=(null==(o=F[0])?void 0:o.overflows[0])>0;if(!r||n)return{data:{index:e,overflows:F},reset:{placement:t}}}let r=null==(s=F.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:s.placement;if(!r)switch(T){case"bestFit":{let e=null==(a=F.filter(e=>{if($){let t=m(e.placement);return t===A||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:a[0];e&&(r=e);break}case"initialPlacement":r=y}if(l!==r)return{reset:{placement:r}}}return{}}}},ec=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;let o,a;let{placement:l,rects:u,platform:c,elements:p}=t,{apply:g=()=>{},...v}=d(e,t),_=await k(t,v),y=h(l),b=f(l),w="y"===m(l),{width:S,height:E}=u.floating;"top"===y||"bottom"===y?(o=y,a=b===(await (null==c.isRTL?void 0:c.isRTL(p.floating))?"start":"end")?"left":"right"):(a=y,o="end"===b?"top":"bottom");let x=E-_.top-_.bottom,T=S-_.left-_.right,C=i(E-_[o],x),I=i(S-_[a],T),O=!t.middlewareData.shift,R=C,A=I;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(A=T),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(R=x),O&&!b){let e=s(_.left,0),t=s(_.right,0),r=s(_.top,0),n=s(_.bottom,0);w?A=S-2*(0!==e||0!==t?e+t:s(_.left,_.right)):R=E-2*(0!==r||0!==n?r+n:s(_.top,_.bottom))}await g({...t,availableWidth:A,availableHeight:R});let P=await c.getDimensions(p.floating);return S!==P.width||E!==P.height?{reset:{rects:!0}}:{}}}},ed=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:n="referenceHidden",...i}=d(e,t);switch(n){case"referenceHidden":{let e=E(await k(t,{...i,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:x(e)}}}case"escaped":{let e=E(await k(t,{...i,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:x(e)}}}default:return{}}}}},eh=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:o,rects:a,platform:l,elements:u,middlewareData:c}=t,{element:h,padding:v=0}=d(e,t)||{};if(null==h)return{};let _=y(v),b={x:r,y:n},w=p(m(o)),S=g(w),k=await l.getDimensions(h),E="y"===w,x=E?"clientHeight":"clientWidth",T=a.reference[S]+a.reference[w]-b[w]-a.floating[S],C=b[w]-a.reference[w],I=await (null==l.getOffsetParent?void 0:l.getOffsetParent(h)),O=I?I[x]:0;O&&await (null==l.isElement?void 0:l.isElement(I))||(O=u.floating[x]||a.floating[S]);let R=O/2-k[S]/2-1,A=i(_[E?"top":"left"],R),P=i(_[E?"bottom":"right"],R),M=O-k[S]-P,L=O/2-k[S]/2+(T/2-C/2),$=s(A,i(L,M)),N=!c.arrow&&null!=f(o)&&L!==$&&a.reference[S]/2-(L<A?A:P)-k[S]/2<0,j=N?L<A?L-A:L-M:0;return{[w]:b[w]+j,data:{[w]:$,centerOffset:L-$-j,...N&&{alignmentOffset:j}},reset:N}}}),ef=function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:r,y:n,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=d(e,t),c={x:r,y:n},f=m(i),g=p(f),v=c[g],_=c[f],y=d(a,t),b="number"==typeof y?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){let e="y"===g?"height":"width",t=s.reference[g]-s.floating[e]+b.mainAxis,r=s.reference[g]+s.reference[e]-b.mainAxis;v<t?v=t:v>r&&(v=r)}if(u){var w,S;let e="y"===g?"width":"height",t=["top","left"].includes(h(i)),r=s.reference[f]-s.floating[e]+(t&&(null==(w=o.offset)?void 0:w[f])||0)+(t?0:b.crossAxis),n=s.reference[f]+s.reference[e]+(t?0:(null==(S=o.offset)?void 0:S[f])||0)-(t?b.crossAxis:0);_<r?_=r:_>n&&(_=n)}return{[g]:v,[f]:_}}}},ep=(e,t,r)=>{let n=new Map,i={platform:ei,...r},s={...i.platform,_c:n};return S(e,t,{...i,platform:s})}},42580:function(e,t,r){"use strict";function n(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}r.d(t,{M:function(){return n}})},12956:function(e,t,r){"use strict";r.d(t,{B:function(){return l}});var n=r(71248),i=r(20541),s=r(90402),o=r(42745),a=r(74817);function l(e){let t=e+"CollectionProvider",[r,l]=(0,i.b)(t),[u,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),d=e=>{let{scope:t,children:r}=e,i=n.useRef(null),s=n.useRef(new Map).current;return(0,a.jsx)(u,{scope:t,itemMap:s,collectionRef:i,children:r})};d.displayName=t;let h=e+"CollectionSlot",f=(0,o.Z8)(h),p=n.forwardRef((e,t)=>{let{scope:r,children:n}=e,i=c(h,r),o=(0,s.e)(t,i.collectionRef);return(0,a.jsx)(f,{ref:o,children:n})});p.displayName=h;let g=e+"CollectionItemSlot",m="data-radix-collection-item",v=(0,o.Z8)(g),_=n.forwardRef((e,t)=>{let{scope:r,children:i,...o}=e,l=n.useRef(null),u=(0,s.e)(t,l),d=c(g,r);return n.useEffect(()=>(d.itemMap.set(l,{ref:l,...o}),()=>void d.itemMap.delete(l))),(0,a.jsx)(v,{[m]:"",ref:u,children:i})});return _.displayName=g,[{Provider:d,Slot:p,ItemSlot:_},function(t){let r=c(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${m}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},l]}},90402:function(e,t,r){"use strict";r.d(t,{F:function(){return s},e:function(){return o}});var n=r(71248);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,n=e.map(e=>{let n=i(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():i(e[t],null)}}}}function o(...e){return n.useCallback(s(...e),e)}},20541:function(e,t,r){"use strict";r.d(t,{b:function(){return o},k:function(){return s}});var n=r(71248),i=r(74817);function s(e,t){let r=n.createContext(t),s=e=>{let{children:t,...s}=e,o=n.useMemo(()=>s,Object.values(s));return(0,i.jsx)(r.Provider,{value:o,children:t})};return s.displayName=e+"Provider",[s,function(i){let s=n.useContext(r);if(s)return s;if(void 0!==t)return t;throw Error(`\`${i}\` must be used within \`${e}\``)}]}function o(e,t=[]){let r=[],s=()=>{let t=r.map(e=>n.createContext(e));return function(r){let i=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return s.scopeName=e,[function(t,s){let o=n.createContext(s),a=r.length;r=[...r,s];let l=t=>{let{scope:r,children:s,...l}=t,u=r?.[e]?.[a]||o,c=n.useMemo(()=>l,Object.values(l));return(0,i.jsx)(u.Provider,{value:c,children:s})};return l.displayName=t+"Provider",[l,function(r,i){let l=i?.[e]?.[a]||o,u=n.useContext(l);if(u)return u;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(s,...t)]}},28913:function(e,t,r){"use strict";r.d(t,{I0:function(){return v},XB:function(){return h},fC:function(){return m}});var n,i=r(71248),s=r(42580),o=r(15090),a=r(90402),l=r(94715),u=r(74817),c="dismissableLayer.update",d=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),h=i.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:v,onDismiss:_,...y}=e,b=i.useContext(d),[w,S]=i.useState(null),k=w?.ownerDocument??globalThis?.document,[,E]=i.useState({}),x=(0,a.e)(t,e=>S(e)),T=Array.from(b.layers),[C]=[...b.layersWithOutsidePointerEventsDisabled].slice(-1),I=T.indexOf(C),O=w?T.indexOf(w):-1,R=b.layersWithOutsidePointerEventsDisabled.size>0,A=O>=I,P=function(e,t=globalThis?.document){let r=(0,l.W)(e),n=i.useRef(!1),s=i.useRef(()=>{});return i.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){g("dismissableLayer.pointerDownOutside",r,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=n,t.addEventListener("click",s.current,{once:!0})):n()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...b.branches].some(e=>e.contains(t));!A||r||(f?.(e),v?.(e),e.defaultPrevented||_?.())},k),M=function(e,t=globalThis?.document){let r=(0,l.W)(e),n=i.useRef(!1);return i.useEffect(()=>{let e=e=>{e.target&&!n.current&&g("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;[...b.branches].some(e=>e.contains(t))||(m?.(e),v?.(e),e.defaultPrevented||_?.())},k);return!function(e,t=globalThis?.document){let r=(0,l.W)(e);i.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{O!==b.layers.size-1||(h?.(e),!e.defaultPrevented&&_&&(e.preventDefault(),_()))},k),i.useEffect(()=>{if(w)return r&&(0===b.layersWithOutsidePointerEventsDisabled.size&&(n=k.body.style.pointerEvents,k.body.style.pointerEvents="none"),b.layersWithOutsidePointerEventsDisabled.add(w)),b.layers.add(w),p(),()=>{r&&1===b.layersWithOutsidePointerEventsDisabled.size&&(k.body.style.pointerEvents=n)}},[w,k,r,b]),i.useEffect(()=>()=>{w&&(b.layers.delete(w),b.layersWithOutsidePointerEventsDisabled.delete(w),p())},[w,b]),i.useEffect(()=>{let e=()=>E({});return document.addEventListener(c,e),()=>document.removeEventListener(c,e)},[]),(0,u.jsx)(o.WV.div,{...y,ref:x,style:{pointerEvents:R?A?"auto":"none":void 0,...e.style},onFocusCapture:(0,s.M)(e.onFocusCapture,M.onFocusCapture),onBlurCapture:(0,s.M)(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:(0,s.M)(e.onPointerDownCapture,P.onPointerDownCapture)})});h.displayName="DismissableLayer";var f=i.forwardRef((e,t)=>{let r=i.useContext(d),n=i.useRef(null),s=(0,a.e)(t,n);return i.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,u.jsx)(o.WV.div,{...e,ref:s})});function p(){let e=new CustomEvent(c);document.dispatchEvent(e)}function g(e,t,r,{discrete:n}){let i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?(0,o.jH)(i,s):i.dispatchEvent(s)}f.displayName="DismissableLayerBranch";var m=h,v=f},78879:function(e,t,r){"use strict";r.d(t,{h:function(){return l}});var n=r(71248),i=r(22336),s=r(15090),o=r(43629),a=r(74817),l=n.forwardRef((e,t)=>{let{container:r,...l}=e,[u,c]=n.useState(!1);(0,o.b)(()=>c(!0),[]);let d=r||u&&globalThis?.document?.body;return d?i.createPortal((0,a.jsx)(s.WV.div,{...l,ref:t}),d):null});l.displayName="Portal"},18216:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var n=r(71248),i=r(90402),s=r(43629),o=e=>{let t,r;let{present:o,children:l}=e,u=function(e){var t,r;let[i,o]=n.useState(),l=n.useRef(null),u=n.useRef(e),c=n.useRef("none"),[d,h]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>r[e][t]??e,t));return n.useEffect(()=>{let e=a(l.current);c.current="mounted"===d?e:"none"},[d]),(0,s.b)(()=>{let t=l.current,r=u.current;if(r!==e){let n=c.current,i=a(t);e?h("MOUNT"):"none"===i||t?.display==="none"?h("UNMOUNT"):r&&n!==i?h("ANIMATION_OUT"):h("UNMOUNT"),u.current=e}},[e,h]),(0,s.b)(()=>{if(i){let e;let t=i.ownerDocument.defaultView??window,r=r=>{let n=a(l.current).includes(r.animationName);if(r.target===i&&n&&(h("ANIMATION_END"),!u.current)){let r=i.style.animationFillMode;i.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=r)})}},n=e=>{e.target===i&&(c.current=a(l.current))};return i.addEventListener("animationstart",n),i.addEventListener("animationcancel",r),i.addEventListener("animationend",r),()=>{t.clearTimeout(e),i.removeEventListener("animationstart",n),i.removeEventListener("animationcancel",r),i.removeEventListener("animationend",r)}}h("ANIMATION_END")},[i,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:n.useCallback(e=>{l.current=e?getComputedStyle(e):null,o(e)},[])}}(o),c="function"==typeof l?l({present:u.isPresent}):n.Children.only(l),d=(0,i.e)(u.ref,(t=Object.getOwnPropertyDescriptor(c.props,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?c.ref:(t=Object.getOwnPropertyDescriptor(c,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?c.props.ref:c.props.ref||c.ref);return"function"==typeof l||u.isPresent?n.cloneElement(c,{ref:d}):null};function a(e){return e?.animationName||"none"}o.displayName="Presence"},15090:function(e,t,r){"use strict";r.d(t,{WV:function(){return a},jH:function(){return l}});var n=r(71248),i=r(22336),s=r(42745),o=r(74817),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,s.Z8)(`Primitive.${t}`),i=n.forwardRef((e,n)=>{let{asChild:i,...s}=e,a=i?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(a,{...s,ref:n})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function l(e,t){e&&i.flushSync(()=>e.dispatchEvent(t))}},42745:function(e,t,r){"use strict";r.d(t,{Z8:function(){return o},g7:function(){return a},sA:function(){return u}});var n=r(71248),i=r(90402),s=r(74817);function o(e){let t=function(e){let t=n.forwardRef((e,t)=>{let r,s;let{children:o,...a}=e,l=n.isValidElement(o)?(r=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning?o.ref:(r=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning?o.props.ref:o.props.ref||o.ref:void 0,u=(0,i.e)(l,t);if(n.isValidElement(o)){let e=function(e,t){let r={...t};for(let n in t){let i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...e)=>{let t=s(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...s}:"className"===n&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}(a,o.props);return o.type!==n.Fragment&&(e.ref=u),n.cloneElement(o,e)}return n.Children.count(o)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:i,...o}=e,a=n.Children.toArray(i),l=a.find(c);if(l){let e=l.props.children,i=a.map(t=>t!==l?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...o,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,i):null})}return(0,s.jsx)(t,{...o,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}var a=o("Slot"),l=Symbol("radix.slottable");function u(e){let t=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=l,t}function c(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}},94715:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});var n=r(71248);function i(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}},71282:function(e,t,r){"use strict";r.d(t,{T:function(){return a}});var n,i=r(71248),s=r(43629),o=(n||(n=r.t(i,2)))[" useInsertionEffect ".trim().toString()]||s.b;function a({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){let[s,a,l]=function({defaultProp:e,onChange:t}){let[r,n]=i.useState(e),s=i.useRef(r),a=i.useRef(t);return o(()=>{a.current=t},[t]),i.useEffect(()=>{s.current!==r&&(a.current?.(r),s.current=r)},[r,s]),[r,n,a]}({defaultProp:t,onChange:r}),u=void 0!==e,c=u?e:s;{let t=i.useRef(void 0!==e);i.useEffect(()=>{let e=t.current;if(e!==u){let t=u?"controlled":"uncontrolled";console.warn(`${n} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=u},[u,n])}return[c,i.useCallback(t=>{if(u){let r="function"==typeof t?t(e):t;r!==e&&l.current?.(r)}else a(t)},[u,e,a,l])]}Symbol("RADIX:SYNC_STATE")},43629:function(e,t,r){"use strict";r.d(t,{b:function(){return i}});var n=r(71248),i=globalThis?.document?n.useLayoutEffect:()=>{}},77210:function(e,t,r){"use strict";r.d(t,{C2:function(){return o},TX:function(){return a},fC:function(){return l}});var n=r(71248),i=r(15090),s=r(74817),o=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),a=n.forwardRef((e,t)=>(0,s.jsx)(i.WV.span,{...e,ref:t,style:{...o,...e.style}}));a.displayName="VisuallyHidden";var l=a},82898:function(e,t,r){"use strict";r.d(t,{j:function(){return o}});var n=r(72801);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=n.W,o=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:a}=t,l=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;let s=i(t)||i(n);return o[e][s]}),u=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return s(e,l,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...u}[t]):({...a,...u})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},72801:function(e,t,r){"use strict";function n(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n)}return i}(e))&&(n&&(n+=" "),n+=t);return n}r.d(t,{W:function(){return n}}),t.Z=n},89426:function(e){"use strict";e.exports=JSON.parse('{"id":"google-analytics","description":"Install a Google Analytics tag on your website","website":"https://analytics.google.com/analytics/web/","scripts":[{"url":"https://www.googletagmanager.com/gtag/js","params":["id"],"strategy":"worker","location":"head","action":"append"},{"code":"window.dataLayer=window.dataLayer||[];window.gtag=function gtag(){window.dataLayer.push(arguments);};gtag(\'js\',new Date());gtag(\'config\',\'${args.id}\')","strategy":"worker","location":"head","action":"append"}]}')},27395:function(e){"use strict";e.exports=JSON.parse('{"id":"google-maps-embed","description":"Embed a Google Maps embed on your webpage","website":"https://developers.google.com/maps/documentation/embed/get-started","html":{"element":"iframe","attributes":{"loading":"lazy","src":{"url":"https://www.google.com/maps/embed/v1/place","slugParam":"mode","params":["key","q","center","zoom","maptype","language","region"]},"referrerpolicy":"no-referrer-when-downgrade","frameborder":"0","style":"border:0","allowfullscreen":true,"width":null,"height":null}}}')},88420:function(e){"use strict";e.exports=JSON.parse('{"id":"youtube-embed","description":"Embed a YouTube embed on your webpage.","website":"https://github.com/paulirish/lite-youtube-embed","html":{"element":"lite-youtube","attributes":{"videoid":null,"playlabel":null}},"stylesheets":["https://cdn.jsdelivr.net/gh/paulirish/lite-youtube-embed@master/src/lite-yt-embed.css"],"scripts":[{"url":"https://cdn.jsdelivr.net/gh/paulirish/lite-youtube-embed@master/src/lite-yt-embed.js","strategy":"idle","location":"head","action":"append"}]}')}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,179],function(){return t(64748),t(6840),t(23874)}),_N_E=e.O()}]);